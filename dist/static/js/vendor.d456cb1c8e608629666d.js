webpackJsonp([0],{"+E39":function(e,t,i){e.exports=!i("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+ZMJ":function(e,t,i){var r=i("lOnJ");e.exports=function(e,t,i){if(r(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,r){return e.call(t,i,r)};case 3:return function(i,r,n){return e.call(t,i,r,n)}}return function(){return e.apply(t,arguments)}}},"+tPU":function(e,t,i){i("xGkn");for(var r=i("7KvD"),n=i("hJx8"),s=i("/bQp"),a=i("dSzd")("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<o.length;l++){var h=o[l],u=r[h],c=u&&u.prototype;c&&!c[a]&&n(c,a,h),s[h]=s.Array}},"//Fk":function(e,t,i){e.exports={default:i("U5ju"),__esModule:!0}},"/bQp":function(e,t){e.exports={}},"/cRm":function(e,t,i){"use strict";var r,n,s,a,o,l,h=i("XHP2").toUnsigned,u=i("XHP2").toHexString,c=i("EH0m"),d=i("htJ/"),p=i("zL+9"),f=i("MmxA"),m=i("1tO4");r=function(e){return c(e,["moov","trak"]).reduce(function(e,t){var i,r,n,s,a;return(i=c(t,["tkhd"])[0])?(r=i[0],s=h(i[n=0===r?12:20]<<24|i[n+1]<<16|i[n+2]<<8|i[n+3]),(a=c(t,["mdia","mdhd"])[0])?(n=0===(r=a[0])?12:20,e[s]=h(a[n]<<24|a[n+1]<<16|a[n+2]<<8|a[n+3]),e):null):null},{})},n=function(e,t){var i,r,n;return i=c(t,["moof","traf"]),r=[].concat.apply([],i.map(function(t){return c(t,["tfhd"]).map(function(i){var r,n,s;return r=h(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),n=e[r]||9e4,(s="number"!=typeof(s=c(t,["tfdt"]).map(function(e){var t,i;return t=e[0],i=h(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(i*=Math.pow(2,32),i+=h(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),i})[0])||isNaN(s)?1/0:s)/n})})),n=Math.min.apply(null,r),isFinite(n)?n:0},s=function(e,t){var i,r=c(t,["moof","traf"]),n=0,s=0;if(r&&r.length){var a=c(r[0],["tfhd"])[0],o=c(r[0],["trun"])[0],l=c(r[0],["tfdt"])[0];if(a)i=p(a).trackId;if(l)n=m(l).baseMediaDecodeTime;if(o){var h=f(o);h.samples&&h.samples.length&&(s=h.samples[0].compositionTimeOffset||0)}}return(n+s)/(e[i]||9e4)},a=function(e){var t=[];return c(e,["moov","trak"]).forEach(function(e){var i=c(e,["mdia","hdlr"]),r=c(e,["tkhd"]);i.forEach(function(e,i){var n,s,a=d(e.subarray(8,12)),o=r[i];"vide"===a&&(s=0===(n=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0)?n.getUint32(12):n.getUint32(20),t.push(s))})}),t},l=function(e){var t=0===e[0]?12:20;return h(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},o=function(e){var t=[];return c(e,["moov","trak"]).forEach(function(e){var i,r,n={},s=c(e,["tkhd"])[0];s&&(r=(i=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0),n.id=0===r?i.getUint32(12):i.getUint32(20));var a=c(e,["mdia","hdlr"])[0];if(a){var o=d(a.subarray(8,12));n.type="vide"===o?"video":"soun"===o?"audio":o}var h=c(e,["mdia","minf","stbl","stsd"])[0];if(h){var p=h.subarray(8);n.codec=d(p.subarray(4,8));var f,m=c(p,[n.codec])[0];m&&(/^[a-z]vc[1-9]$/i.test(n.codec)?(f=m.subarray(78),"avcC"===d(f.subarray(4,8))&&f.length>11?(n.codec+=".",n.codec+=u(f[9]),n.codec+=u(f[10]),n.codec+=u(f[11])):n.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(n.codec)?(f=m.subarray(28),"esds"===d(f.subarray(4,8))&&f.length>20&&0!==f[19]?(n.codec+="."+u(f[19]),n.codec+="."+u(f[20]>>>2&63).replace(/^0/,"")):n.codec="mp4a.40.2"):n.codec=n.codec.toLowerCase())}var g=c(e,["mdia","mdhd"])[0];g&&(n.timescale=l(g)),t.push(n)}),t},e.exports={findBox:c,parseType:d,timescale:r,startTime:n,compositionStartTime:s,videoTrackIds:a,tracks:o,getTimescaleFromMediaHeader:l}},"/ocq":function(e,t,i){"use strict";
/*!
  * vue-router v3.5.1
  * (c) 2021 Evan You
  * @license MIT
  */function r(e,t){0}function n(e,t){for(var i in t)e[i]=t[i];return e}var s=/[!'()*]/g,a=function(e){return"%"+e.charCodeAt(0).toString(16)},o=/%2C/g,l=function(e){return encodeURIComponent(e).replace(s,a).replace(o,",")};function h(e){try{return decodeURIComponent(e)}catch(e){0}return e}var u=function(e){return null==e||"object"==typeof e?e:String(e)};function c(e){var t={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var i=e.replace(/\+/g," ").split("="),r=h(i.shift()),n=i.length>0?h(i.join("=")):null;void 0===t[r]?t[r]=n:Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]}),t):t}function d(e){var t=e?Object.keys(e).map(function(t){var i=e[t];if(void 0===i)return"";if(null===i)return l(t);if(Array.isArray(i)){var r=[];return i.forEach(function(e){void 0!==e&&(null===e?r.push(l(t)):r.push(l(t)+"="+l(e)))}),r.join("&")}return l(t)+"="+l(i)}).filter(function(e){return e.length>0}).join("&"):null;return t?"?"+t:""}var p=/\/?$/;function f(e,t,i,r){var n=r&&r.options.stringifyQuery,s=t.query||{};try{s=m(s)}catch(e){}var a={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:s,params:t.params||{},fullPath:v(t,n),matched:e?function(e){var t=[];for(;e;)t.unshift(e),e=e.parent;return t}(e):[]};return i&&(a.redirectedFrom=v(i,n)),Object.freeze(a)}function m(e){if(Array.isArray(e))return e.map(m);if(e&&"object"==typeof e){var t={};for(var i in e)t[i]=m(e[i]);return t}return e}var g=f(null,{path:"/"});function v(e,t){var i=e.path,r=e.query;void 0===r&&(r={});var n=e.hash;return void 0===n&&(n=""),(i||"/")+(t||d)(r)+n}function y(e,t,i){return t===g?e===t:!!t&&(e.path&&t.path?e.path.replace(p,"")===t.path.replace(p,"")&&(i||e.hash===t.hash&&_(e.query,t.query)):!(!e.name||!t.name)&&(e.name===t.name&&(i||e.hash===t.hash&&_(e.query,t.query)&&_(e.params,t.params))))}function _(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var i=Object.keys(e).sort(),r=Object.keys(t).sort();return i.length===r.length&&i.every(function(i,n){var s=e[i];if(r[n]!==i)return!1;var a=t[i];return null==s||null==a?s===a:"object"==typeof s&&"object"==typeof a?_(s,a):String(s)===String(a)})}function b(e){for(var t=0;t<e.matched.length;t++){var i=e.matched[t];for(var r in i.instances){var n=i.instances[r],s=i.enteredCbs[r];if(n&&s){delete i.enteredCbs[r];for(var a=0;a<s.length;a++)n._isBeingDestroyed||s[a](n)}}}}var T={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var i=t.props,r=t.children,s=t.parent,a=t.data;a.routerView=!0;for(var o=s.$createElement,l=i.name,h=s.$route,u=s._routerViewCache||(s._routerViewCache={}),c=0,d=!1;s&&s._routerRoot!==s;){var p=s.$vnode?s.$vnode.data:{};p.routerView&&c++,p.keepAlive&&s._directInactive&&s._inactive&&(d=!0),s=s.$parent}if(a.routerViewDepth=c,d){var f=u[l],m=f&&f.component;return m?(f.configProps&&S(m,a,f.route,f.configProps),o(m,a,r)):o()}var g=h.matched[c],v=g&&g.components[l];if(!g||!v)return u[l]=null,o();u[l]={component:v},a.registerRouteInstance=function(e,t){var i=g.instances[l];(t&&i!==e||!t&&i===e)&&(g.instances[l]=t)},(a.hook||(a.hook={})).prepatch=function(e,t){g.instances[l]=t.componentInstance},a.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==g.instances[l]&&(g.instances[l]=e.componentInstance),b(h)};var y=g.props&&g.props[l];return y&&(n(u[l],{route:h,configProps:y}),S(v,a,h,y)),o(v,a,r)}};function S(e,t,i,r){var s=t.props=function(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}(i,r);if(s){s=t.props=n({},s);var a=t.attrs=t.attrs||{};for(var o in s)e.props&&o in e.props||(a[o]=s[o],delete s[o])}}function E(e,t,i){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return t+e;var n=t.split("/");i&&n[n.length-1]||n.pop();for(var s=e.replace(/^\//,"").split("/"),a=0;a<s.length;a++){var o=s[a];".."===o?n.pop():"."!==o&&n.push(o)}return""!==n[0]&&n.unshift(""),n.join("/")}function w(e){return e.replace(/\/\//g,"/")}var C=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},x=j,k=M,A=function(e,t){return O(M(e,t),t)},P=O,I=U,D=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function M(e,t){for(var i,r=[],n=0,s=0,a="",o=t&&t.delimiter||"/";null!=(i=D.exec(e));){var l=i[0],h=i[1],u=i.index;if(a+=e.slice(s,u),s=u+l.length,h)a+=h[1];else{var c=e[s],d=i[2],p=i[3],f=i[4],m=i[5],g=i[6],v=i[7];a&&(r.push(a),a="");var y=null!=d&&null!=c&&c!==d,_="+"===g||"*"===g,b="?"===g||"*"===g,T=i[2]||o,S=f||m;r.push({name:p||n++,prefix:d||"",delimiter:T,optional:b,repeat:_,partial:y,asterisk:!!v,pattern:S?F(S):v?".*":"[^"+R(T)+"]+?"})}}return s<e.length&&(a+=e.substr(s)),a&&r.push(a),r}function L(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function O(e,t){for(var i=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(i[r]=new RegExp("^(?:"+e[r].pattern+")$",N(t)));return function(t,r){for(var n="",s=t||{},a=(r||{}).pretty?L:encodeURIComponent,o=0;o<e.length;o++){var l=e[o];if("string"!=typeof l){var h,u=s[l.name];if(null==u){if(l.optional){l.partial&&(n+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(C(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var c=0;c<u.length;c++){if(h=a(u[c]),!i[o].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");n+=(0===c?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(u).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):a(u),!i[o].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');n+=l.prefix+h}}else n+=l}return n}}function R(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function F(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function B(e,t){return e.keys=t,e}function N(e){return e&&e.sensitive?"":"i"}function U(e,t,i){C(t)||(i=t||i,t=[]);for(var r=(i=i||{}).strict,n=!1!==i.end,s="",a=0;a<e.length;a++){var o=e[a];if("string"==typeof o)s+=R(o);else{var l=R(o.prefix),h="(?:"+o.pattern+")";t.push(o),o.repeat&&(h+="(?:"+l+h+")*"),s+=h=o.optional?o.partial?l+"("+h+")?":"(?:"+l+"("+h+"))?":l+"("+h+")"}}var u=R(i.delimiter||"/"),c=s.slice(-u.length)===u;return r||(s=(c?s.slice(0,-u.length):s)+"(?:"+u+"(?=$))?"),s+=n?"$":r&&c?"":"(?="+u+"|$)",B(new RegExp("^"+s,N(i)),t)}function j(e,t,i){return C(t)||(i=t||i,t=[]),i=i||{},e instanceof RegExp?function(e,t){var i=e.source.match(/\((?!\?)/g);if(i)for(var r=0;r<i.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return B(e,t)}(e,t):C(e)?function(e,t,i){for(var r=[],n=0;n<e.length;n++)r.push(j(e[n],t,i).source);return B(new RegExp("(?:"+r.join("|")+")",N(i)),t)}(e,t,i):function(e,t,i){return U(M(e,i),t,i)}(e,t,i)}x.parse=k,x.compile=A,x.tokensToFunction=P,x.tokensToRegExp=I;var V=Object.create(null);function z(e,t,i){t=t||{};try{var r=V[e]||(V[e]=x.compile(e));return"string"==typeof t.pathMatch&&(t[0]=t.pathMatch),r(t,{pretty:!0})}catch(e){return""}finally{delete t[0]}}function G(e,t,i,r){var s="string"==typeof e?{path:e}:e;if(s._normalized)return s;if(s.name){var a=(s=n({},e)).params;return a&&"object"==typeof a&&(s.params=n({},a)),s}if(!s.path&&s.params&&t){(s=n({},s))._normalized=!0;var o=n(n({},t.params),s.params);if(t.name)s.name=t.name,s.params=o;else if(t.matched.length){var l=t.matched[t.matched.length-1].path;s.path=z(l,o,t.path)}else 0;return s}var h=function(e){var t="",i="",r=e.indexOf("#");r>=0&&(t=e.slice(r),e=e.slice(0,r));var n=e.indexOf("?");return n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),{path:e,query:i,hash:t}}(s.path||""),d=t&&t.path||"/",p=h.path?E(h.path,d,i||s.append):d,f=function(e,t,i){void 0===t&&(t={});var r,n=i||c;try{r=n(e||"")}catch(e){r={}}for(var s in t){var a=t[s];r[s]=Array.isArray(a)?a.map(u):u(a)}return r}(h.query,s.query,r&&r.options.parseQuery),m=s.hash||h.hash;return m&&"#"!==m.charAt(0)&&(m="#"+m),{_normalized:!0,path:p,query:f,hash:m}}var H,$=[String,Object],q=[String,Array],W=function(){},X={name:"RouterLink",props:{to:{type:$,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:q,default:"click"}},render:function(e){var t=this,i=this.$router,r=this.$route,s=i.resolve(this.to,r,this.append),a=s.location,o=s.route,l=s.href,h={},u=i.options.linkActiveClass,c=i.options.linkExactActiveClass,d=null==u?"router-link-active":u,m=null==c?"router-link-exact-active":c,g=null==this.activeClass?d:this.activeClass,v=null==this.exactActiveClass?m:this.exactActiveClass,_=o.redirectedFrom?f(null,G(o.redirectedFrom),null,i):o;h[v]=y(r,_,this.exactPath),h[g]=this.exact||this.exactPath?h[v]:function(e,t){return 0===e.path.replace(p,"/").indexOf(t.path.replace(p,"/"))&&(!t.hash||e.hash===t.hash)&&function(e,t){for(var i in t)if(!(i in e))return!1;return!0}(e.query,t.query)}(r,_);var b=h[v]?this.ariaCurrentValue:null,T=function(e){Y(e)&&(t.replace?i.replace(a,W):i.push(a,W))},S={click:Y};Array.isArray(this.event)?this.event.forEach(function(e){S[e]=T}):S[this.event]=T;var E={class:h},w=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:o,navigate:T,isActive:h[g],isExactActive:h[v]});if(w){if(1===w.length)return w[0];if(w.length>1||!w.length)return 0===w.length?e():e("span",{},w)}if("a"===this.tag)E.on=S,E.attrs={href:l,"aria-current":b};else{var C=function e(t){if(t)for(var i,r=0;r<t.length;r++){if("a"===(i=t[r]).tag)return i;if(i.children&&(i=e(i.children)))return i}}(this.$slots.default);if(C){C.isStatic=!1;var x=C.data=n({},C.data);for(var k in x.on=x.on||{},x.on){var A=x.on[k];k in S&&(x.on[k]=Array.isArray(A)?A:[A])}for(var P in S)P in x.on?x.on[P].push(S[P]):x.on[P]=T;var I=C.data.attrs=n({},C.data.attrs);I.href=l,I["aria-current"]=b}else E.on=S}return e(this.tag,E,this.$slots.default)}};function Y(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function K(e){if(!K.installed||H!==e){K.installed=!0,H=e;var t=function(e){return void 0!==e},i=function(e,i){var r=e.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(e,i)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",T),e.component("RouterLink",X);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var Q="undefined"!=typeof window;function J(e,t,i,r,n){var s=t||[],a=i||Object.create(null),o=r||Object.create(null);e.forEach(function(e){!function e(t,i,r,n,s,a){var o=n.path;var l=n.name;0;var h=n.pathToRegexpOptions||{};var u=function(e,t,i){i||(e=e.replace(/\/$/,""));if("/"===e[0])return e;if(null==t)return e;return w(t.path+"/"+e)}(o,s,h.strict);"boolean"==typeof n.caseSensitive&&(h.sensitive=n.caseSensitive);var c={path:u,regex:function(e,t){var i=x(e,[],t);return i}(u,h),components:n.components||{default:n.component},alias:n.alias?"string"==typeof n.alias?[n.alias]:n.alias:[],instances:{},enteredCbs:{},name:l,parent:s,matchAs:a,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};n.children&&n.children.forEach(function(n){var s=a?w(a+"/"+n.path):void 0;e(t,i,r,n,c,s)});i[c.path]||(t.push(c.path),i[c.path]=c);if(void 0!==n.alias)for(var d=Array.isArray(n.alias)?n.alias:[n.alias],p=0;p<d.length;++p){var f=d[p];0;var m={path:f,children:n.children};e(t,i,r,m,s,c.path||"/")}l&&(r[l]||(r[l]=c))}(s,a,o,e,n)});for(var l=0,h=s.length;l<h;l++)"*"===s[l]&&(s.push(s.splice(l,1)[0]),h--,l--);return{pathList:s,pathMap:a,nameMap:o}}function Z(e,t){var i=J(e),r=i.pathList,n=i.pathMap,s=i.nameMap;function a(e,i,a){var o=G(e,i,!1,t),h=o.name;if(h){var u=s[h];if(!u)return l(null,o);var c=u.regex.keys.filter(function(e){return!e.optional}).map(function(e){return e.name});if("object"!=typeof o.params&&(o.params={}),i&&"object"==typeof i.params)for(var d in i.params)!(d in o.params)&&c.indexOf(d)>-1&&(o.params[d]=i.params[d]);return o.path=z(u.path,o.params),l(u,o,a)}if(o.path){o.params={};for(var p=0;p<r.length;p++){var f=r[p],m=n[f];if(ee(m.regex,o.path,o.params))return l(m,o,a)}}return l(null,o)}function o(e,i){var r=e.redirect,n="function"==typeof r?r(f(e,i,null,t)):r;if("string"==typeof n&&(n={path:n}),!n||"object"!=typeof n)return l(null,i);var o=n,h=o.name,u=o.path,c=i.query,d=i.hash,p=i.params;if(c=o.hasOwnProperty("query")?o.query:c,d=o.hasOwnProperty("hash")?o.hash:d,p=o.hasOwnProperty("params")?o.params:p,h){s[h];return a({_normalized:!0,name:h,query:c,hash:d,params:p},void 0,i)}if(u){var m=function(e,t){return E(e,t.parent?t.parent.path:"/",!0)}(u,e);return a({_normalized:!0,path:z(m,p),query:c,hash:d},void 0,i)}return l(null,i)}function l(e,i,r){return e&&e.redirect?o(e,r||i):e&&e.matchAs?function(e,t,i){var r=a({_normalized:!0,path:z(i,t.params)});if(r){var n=r.matched,s=n[n.length-1];return t.params=r.params,l(s,t)}return l(null,t)}(0,i,e.matchAs):f(e,i,r,t)}return{match:a,addRoute:function(e,t){var i="object"!=typeof e?s[e]:void 0;J([t||e],r,n,s,i),i&&J(i.alias.map(function(e){return{path:e,children:[t]}}),r,n,s,i)},getRoutes:function(){return r.map(function(e){return n[e]})},addRoutes:function(e){J(e,r,n,s)}}}function ee(e,t,i){var r=t.match(e);if(!r)return!1;if(!i)return!0;for(var n=1,s=r.length;n<s;++n){var a=e.keys[n-1];a&&(i[a.name||"pathMatch"]="string"==typeof r[n]?h(r[n]):r[n])}return!0}var te=Q&&window.performance&&window.performance.now?window.performance:Date;function ie(){return te.now().toFixed(3)}var re=ie();function ne(){return re}function se(e){return re=e}var ae=Object.create(null);function oe(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),i=n({},window.history.state);return i.key=ne(),window.history.replaceState(i,"",t),window.addEventListener("popstate",ue),function(){window.removeEventListener("popstate",ue)}}function le(e,t,i,r){if(e.app){var n=e.options.scrollBehavior;n&&e.app.$nextTick(function(){var s=function(){var e=ne();if(e)return ae[e]}(),a=n.call(e,t,i,r?s:null);a&&("function"==typeof a.then?a.then(function(e){me(e,s)}).catch(function(e){0}):me(a,s))})}}function he(){var e=ne();e&&(ae[e]={x:window.pageXOffset,y:window.pageYOffset})}function ue(e){he(),e.state&&e.state.key&&se(e.state.key)}function ce(e){return pe(e.x)||pe(e.y)}function de(e){return{x:pe(e.x)?e.x:window.pageXOffset,y:pe(e.y)?e.y:window.pageYOffset}}function pe(e){return"number"==typeof e}var fe=/^#\d/;function me(e,t){var i,r="object"==typeof e;if(r&&"string"==typeof e.selector){var n=fe.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(n){var s=e.offset&&"object"==typeof e.offset?e.offset:{};t=function(e,t){var i=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:r.left-i.left-t.x,y:r.top-i.top-t.y}}(n,s={x:pe((i=s).x)?i.x:0,y:pe(i.y)?i.y:0})}else ce(e)&&(t=de(e))}else r&&ce(e)&&(t=de(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var ge,ve=Q&&((-1===(ge=window.navigator.userAgent).indexOf("Android 2.")&&-1===ge.indexOf("Android 4.0")||-1===ge.indexOf("Mobile Safari")||-1!==ge.indexOf("Chrome")||-1!==ge.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function ye(e,t){he();var i=window.history;try{if(t){var r=n({},i.state);r.key=ne(),i.replaceState(r,"",e)}else i.pushState({key:se(ie())},"",e)}catch(i){window.location[t?"replace":"assign"](e)}}function _e(e){ye(e,!0)}function be(e,t,i){var r=function(n){n>=e.length?i():e[n]?t(e[n],function(){r(n+1)}):r(n+1)};r(0)}var Te={redirected:2,aborted:4,cancelled:8,duplicated:16};function Se(e,t){return we(e,t,Te.redirected,'Redirected when going from "'+e.fullPath+'" to "'+function(e){if("string"==typeof e)return e;if("path"in e)return e.path;var t={};return Ce.forEach(function(i){i in e&&(t[i]=e[i])}),JSON.stringify(t,null,2)}(t)+'" via a navigation guard.')}function Ee(e,t){return we(e,t,Te.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function we(e,t,i,r){var n=new Error(r);return n._isRouter=!0,n.from=e,n.to=t,n.type=i,n}var Ce=["params","query","hash"];function xe(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function ke(e,t){return xe(e)&&e._isRouter&&(null==t||e.type===t)}function Ae(e){return function(t,i,r){var n=!1,s=0,a=null;Pe(e,function(e,t,i,o){if("function"==typeof e&&void 0===e.cid){n=!0,s++;var l,h=Me(function(t){var n;((n=t).__esModule||De&&"Module"===n[Symbol.toStringTag])&&(t=t.default),e.resolved="function"==typeof t?t:H.extend(t),i.components[o]=t,--s<=0&&r()}),u=Me(function(e){var t="Failed to resolve async component "+o+": "+e;a||(a=xe(e)?e:new Error(t),r(a))});try{l=e(h,u)}catch(e){u(e)}if(l)if("function"==typeof l.then)l.then(h,u);else{var c=l.component;c&&"function"==typeof c.then&&c.then(h,u)}}}),n||r()}}function Pe(e,t){return Ie(e.map(function(e){return Object.keys(e.components).map(function(i){return t(e.components[i],e.instances[i],e,i)})}))}function Ie(e){return Array.prototype.concat.apply([],e)}var De="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Me(e){var t=!1;return function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];if(!t)return t=!0,e.apply(this,i)}}var Le=function(e,t){this.router=e,this.base=function(e){if(!e)if(Q){var t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else e="/";"/"!==e.charAt(0)&&(e="/"+e);return e.replace(/\/$/,"")}(t),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Oe(e,t,i,r){var n=Pe(e,function(e,r,n,s){var a=function(e,t){"function"!=typeof e&&(e=H.extend(e));return e.options[t]}(e,t);if(a)return Array.isArray(a)?a.map(function(e){return i(e,r,n,s)}):i(a,r,n,s)});return Ie(r?n.reverse():n)}function Re(e,t){if(t)return function(){return e.apply(t,arguments)}}Le.prototype.listen=function(e){this.cb=e},Le.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},Le.prototype.onError=function(e){this.errorCbs.push(e)},Le.prototype.transitionTo=function(e,t,i){var r,n=this;try{r=this.router.match(e,this.current)}catch(e){throw this.errorCbs.forEach(function(t){t(e)}),e}var s=this.current;this.confirmTransition(r,function(){n.updateRoute(r),t&&t(r),n.ensureURL(),n.router.afterHooks.forEach(function(e){e&&e(r,s)}),n.ready||(n.ready=!0,n.readyCbs.forEach(function(e){e(r)}))},function(e){i&&i(e),e&&!n.ready&&(ke(e,Te.redirected)&&s===g||(n.ready=!0,n.readyErrorCbs.forEach(function(t){t(e)})))})},Le.prototype.confirmTransition=function(e,t,i){var n=this,s=this.current;this.pending=e;var a,o,l=function(e){!ke(e)&&xe(e)&&(n.errorCbs.length?n.errorCbs.forEach(function(t){t(e)}):(r(),console.error(e))),i&&i(e)},h=e.matched.length-1,u=s.matched.length-1;if(y(e,s)&&h===u&&e.matched[h]===s.matched[u])return this.ensureURL(),l(((o=we(a=s,e,Te.duplicated,'Avoided redundant navigation to current location: "'+a.fullPath+'".')).name="NavigationDuplicated",o));var c=function(e,t){var i,r=Math.max(e.length,t.length);for(i=0;i<r&&e[i]===t[i];i++);return{updated:t.slice(0,i),activated:t.slice(i),deactivated:e.slice(i)}}(this.current.matched,e.matched),d=c.updated,p=c.deactivated,f=c.activated,m=function(t,i){if(n.pending!==e)return l(Ee(s,e));try{t(e,s,function(t){!1===t?(n.ensureURL(!0),l(function(e,t){return we(e,t,Te.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}(s,e))):xe(t)?(n.ensureURL(!0),l(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(l(Se(s,e)),"object"==typeof t&&t.replace?n.replace(t):n.push(t)):i(t)})}catch(e){l(e)}};be([].concat(function(e){return Oe(e,"beforeRouteLeave",Re,!0)}(p),this.router.beforeHooks,function(e){return Oe(e,"beforeRouteUpdate",Re)}(d),f.map(function(e){return e.beforeEnter}),Ae(f)),m,function(){be(function(e){return Oe(e,"beforeRouteEnter",function(e,t,i,r){return function(e,t,i){return function(r,n,s){return e(r,n,function(e){"function"==typeof e&&(t.enteredCbs[i]||(t.enteredCbs[i]=[]),t.enteredCbs[i].push(e)),s(e)})}}(e,i,r)})}(f).concat(n.router.resolveHooks),m,function(){if(n.pending!==e)return l(Ee(s,e));n.pending=null,t(e),n.router.app&&n.router.app.$nextTick(function(){b(e)})})})},Le.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},Le.prototype.setupListeners=function(){},Le.prototype.teardown=function(){this.listeners.forEach(function(e){e()}),this.listeners=[],this.current=g,this.pending=null};var Fe=function(e){function t(t,i){e.call(this,t,i),this._startLocation=Be(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,i=t.options.scrollBehavior,r=ve&&i;r&&this.listeners.push(oe());var n=function(){var i=e.current,n=Be(e.base);e.current===g&&n===e._startLocation||e.transitionTo(n,function(e){r&&le(t,e,i,!0)})};window.addEventListener("popstate",n),this.listeners.push(function(){window.removeEventListener("popstate",n)})}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,i){var r=this,n=this.current;this.transitionTo(e,function(e){ye(w(r.base+e.fullPath)),le(r.router,e,n,!1),t&&t(e)},i)},t.prototype.replace=function(e,t,i){var r=this,n=this.current;this.transitionTo(e,function(e){_e(w(r.base+e.fullPath)),le(r.router,e,n,!1),t&&t(e)},i)},t.prototype.ensureURL=function(e){if(Be(this.base)!==this.current.fullPath){var t=w(this.base+this.current.fullPath);e?ye(t):_e(t)}},t.prototype.getCurrentLocation=function(){return Be(this.base)},t}(Le);function Be(e){var t=window.location.pathname;return e&&0===t.toLowerCase().indexOf(e.toLowerCase())&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var Ne=function(e){function t(t,i,r){e.call(this,t,i),r&&function(e){var t=Be(e);if(!/^\/#/.test(t))return window.location.replace(w(e+"/#"+t)),!0}(this.base)||Ue()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router.options.scrollBehavior,i=ve&&t;i&&this.listeners.push(oe());var r=function(){var t=e.current;Ue()&&e.transitionTo(je(),function(r){i&&le(e.router,r,t,!0),ve||Ge(r.fullPath)})},n=ve?"popstate":"hashchange";window.addEventListener(n,r),this.listeners.push(function(){window.removeEventListener(n,r)})}},t.prototype.push=function(e,t,i){var r=this,n=this.current;this.transitionTo(e,function(e){ze(e.fullPath),le(r.router,e,n,!1),t&&t(e)},i)},t.prototype.replace=function(e,t,i){var r=this,n=this.current;this.transitionTo(e,function(e){Ge(e.fullPath),le(r.router,e,n,!1),t&&t(e)},i)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;je()!==t&&(e?ze(t):Ge(t))},t.prototype.getCurrentLocation=function(){return je()},t}(Le);function Ue(){var e=je();return"/"===e.charAt(0)||(Ge("/"+e),!1)}function je(){var e=window.location.href,t=e.indexOf("#");return t<0?"":e=e.slice(t+1)}function Ve(e){var t=window.location.href,i=t.indexOf("#");return(i>=0?t.slice(0,i):t)+"#"+e}function ze(e){ve?ye(Ve(e)):window.location.hash=e}function Ge(e){ve?_e(Ve(e)):window.location.replace(Ve(e))}var He=function(e){function t(t,i){e.call(this,t,i),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,i){var r=this;this.transitionTo(e,function(e){r.stack=r.stack.slice(0,r.index+1).concat(e),r.index++,t&&t(e)},i)},t.prototype.replace=function(e,t,i){var r=this;this.transitionTo(e,function(e){r.stack=r.stack.slice(0,r.index).concat(e),t&&t(e)},i)},t.prototype.go=function(e){var t=this,i=this.index+e;if(!(i<0||i>=this.stack.length)){var r=this.stack[i];this.confirmTransition(r,function(){var e=t.current;t.index=i,t.updateRoute(r),t.router.afterHooks.forEach(function(t){t&&t(r,e)})},function(e){ke(e,Te.duplicated)&&(t.index=i)})}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(Le),$e=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Z(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!ve&&!1!==e.fallback,this.fallback&&(t="hash"),Q||(t="abstract"),this.mode=t,t){case"history":this.history=new Fe(this,e.base);break;case"hash":this.history=new Ne(this,e.base,this.fallback);break;case"abstract":this.history=new He(this,e.base);break;default:0}},qe={currentRoute:{configurable:!0}};function We(e,t){return e.push(t),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}$e.prototype.match=function(e,t,i){return this.matcher.match(e,t,i)},qe.currentRoute.get=function(){return this.history&&this.history.current},$e.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",function(){var i=t.apps.indexOf(e);i>-1&&t.apps.splice(i,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardown()}),!this.app){this.app=e;var i=this.history;if(i instanceof Fe||i instanceof Ne){var r=function(e){i.setupListeners(),function(e){var r=i.current,n=t.options.scrollBehavior;ve&&n&&"fullPath"in e&&le(t,e,r,!1)}(e)};i.transitionTo(i.getCurrentLocation(),r,r)}i.listen(function(e){t.apps.forEach(function(t){t._route=e})})}},$e.prototype.beforeEach=function(e){return We(this.beforeHooks,e)},$e.prototype.beforeResolve=function(e){return We(this.resolveHooks,e)},$e.prototype.afterEach=function(e){return We(this.afterHooks,e)},$e.prototype.onReady=function(e,t){this.history.onReady(e,t)},$e.prototype.onError=function(e){this.history.onError(e)},$e.prototype.push=function(e,t,i){var r=this;if(!t&&!i&&"undefined"!=typeof Promise)return new Promise(function(t,i){r.history.push(e,t,i)});this.history.push(e,t,i)},$e.prototype.replace=function(e,t,i){var r=this;if(!t&&!i&&"undefined"!=typeof Promise)return new Promise(function(t,i){r.history.replace(e,t,i)});this.history.replace(e,t,i)},$e.prototype.go=function(e){this.history.go(e)},$e.prototype.back=function(){this.go(-1)},$e.prototype.forward=function(){this.go(1)},$e.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map(function(e){return Object.keys(e.components).map(function(t){return e.components[t]})})):[]},$e.prototype.resolve=function(e,t,i){var r=G(e,t=t||this.history.current,i,this),n=this.match(r,t),s=n.redirectedFrom||n.fullPath;return{location:r,route:n,href:function(e,t,i){var r="hash"===i?"#"+t:t;return e?w(e+"/"+r):r}(this.history.base,s,this.mode),normalizedTo:r,resolved:n}},$e.prototype.getRoutes=function(){return this.matcher.getRoutes()},$e.prototype.addRoute=function(e,t){this.matcher.addRoute(e,t),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},$e.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties($e.prototype,qe),$e.install=K,$e.version="3.5.1",$e.isNavigationFailure=ke,$e.NavigationFailureType=Te,$e.START_LOCATION=g,Q&&window.Vue&&window.Vue.use($e),t.a=$e},"1tO4":function(e,t,i){var r=i("XHP2").toUnsigned;e.exports=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:r(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=r(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t}},"21It":function(e,t,i){"use strict";var r=i("FtD3");e.exports=function(e,t,i){var n=i.config.validateStatus;i.status&&n&&!n(i.status)?t(r("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)}},"2KxR":function(e,t){e.exports=function(e,t,i,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(i+": incorrect invocation!");return e}},"33ZF":function(e,t,i){"use strict";var r=i("pl6C"),n=i("yevv").handleRollover,s={};s.ts=i("fleF"),s.aac=i("SkH0");var a=i("lamJ").ONE_SECOND_IN_TS,o=function(e,t,i){for(var r,n,a,o,l=0,h=188,u=!1;h<=e.byteLength;)if(71!==e[l]||71!==e[h]&&h!==e.byteLength)l++,h++;else{switch(r=e.subarray(l,h),s.ts.parseType(r,t.pid)){case"pes":n=s.ts.parsePesType(r,t.table),a=s.ts.parsePayloadUnitStartIndicator(r),"audio"===n&&a&&(o=s.ts.parsePesTime(r))&&(o.type="audio",i.audio.push(o),u=!0)}if(u)break;l+=188,h+=188}for(l=(h=e.byteLength)-188,u=!1;l>=0;)if(71!==e[l]||71!==e[h]&&h!==e.byteLength)l--,h--;else{switch(r=e.subarray(l,h),s.ts.parseType(r,t.pid)){case"pes":n=s.ts.parsePesType(r,t.table),a=s.ts.parsePayloadUnitStartIndicator(r),"audio"===n&&a&&(o=s.ts.parsePesTime(r))&&(o.type="audio",i.audio.push(o),u=!0)}if(u)break;l-=188,h-=188}},l=function(e,t,i){for(var r,n,a,o,l,h,u,c=0,d=188,p=!1,f={data:[],size:0};d<e.byteLength;)if(71!==e[c]||71!==e[d])c++,d++;else{switch(r=e.subarray(c,d),s.ts.parseType(r,t.pid)){case"pes":if(n=s.ts.parsePesType(r,t.table),a=s.ts.parsePayloadUnitStartIndicator(r),"video"===n&&(a&&!p&&(o=s.ts.parsePesTime(r))&&(o.type="video",i.video.push(o),p=!0),!i.firstKeyFrame)){if(a&&0!==f.size){for(l=new Uint8Array(f.size),h=0;f.data.length;)u=f.data.shift(),l.set(u,h),h+=u.byteLength;if(s.ts.videoPacketContainsKeyFrame(l)){var m=s.ts.parsePesTime(l);m?(i.firstKeyFrame=m,i.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(r),f.size+=r.byteLength}}if(p&&i.firstKeyFrame)break;c+=188,d+=188}for(c=(d=e.byteLength)-188,p=!1;c>=0;)if(71!==e[c]||71!==e[d])c--,d--;else{switch(r=e.subarray(c,d),s.ts.parseType(r,t.pid)){case"pes":n=s.ts.parsePesType(r,t.table),a=s.ts.parsePayloadUnitStartIndicator(r),"video"===n&&a&&(o=s.ts.parsePesTime(r))&&(o.type="video",i.video.push(o),p=!0)}if(p)break;c-=188,d-=188}},h=function(e){var t={pid:null,table:null},i={};for(var n in function(e,t){for(var i,r=0,n=188;n<e.byteLength;)if(71!==e[r]||71!==e[n])r++,n++;else{switch(i=e.subarray(r,n),s.ts.parseType(i,t.pid)){case"pat":t.pid||(t.pid=s.ts.parsePat(i));break;case"pmt":t.table||(t.table=s.ts.parsePmt(i))}if(t.pid&&t.table)return;r+=188,n+=188}}(e,t),t.table){if(t.table.hasOwnProperty(n))switch(t.table[n]){case r.H264_STREAM_TYPE:i.video=[],l(e,t,i),0===i.video.length&&delete i.video;break;case r.ADTS_STREAM_TYPE:i.audio=[],o(e,t,i),0===i.audio.length&&delete i.audio}}return i};e.exports={inspect:function(e,t){var i;return(i=s.aac.isLikelyAacData(e)?function(e){for(var t,i=!1,r=0,n=null,o=null,l=0,h=0;e.length-h>=3;){switch(s.aac.parseType(e,h)){case"timed-metadata":if(e.length-h<10){i=!0;break}if((l=s.aac.parseId3TagSize(e,h))>e.length){i=!0;break}null===o&&(t=e.subarray(h,h+l),o=s.aac.parseAacTimestamp(t)),h+=l;break;case"audio":if(e.length-h<7){i=!0;break}if((l=s.aac.parseAdtsSize(e,h))>e.length){i=!0;break}null===n&&(t=e.subarray(h,h+l),n=s.aac.parseSampleRate(t)),r++,h+=l;break;default:h++}if(i)return null}if(null===n||null===o)return null;var u=a/n;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*r*u,pts:o+1024*r*u}]}}(e):h(e))&&(i.audio||i.video)?(function(e,t){if(e.audio&&e.audio.length){var i=t;void 0===i&&(i=e.audio[0].dts),e.audio.forEach(function(e){e.dts=n(e.dts,i),e.pts=n(e.pts,i),e.dtsTime=e.dts/a,e.ptsTime=e.pts/a})}if(e.video&&e.video.length){var r=t;if(void 0===r&&(r=e.video[0].dts),e.video.forEach(function(e){e.dts=n(e.dts,r),e.pts=n(e.pts,r),e.dtsTime=e.dts/a,e.ptsTime=e.pts/a}),e.firstKeyFrame){var s=e.firstKeyFrame;s.dts=n(s.dts,r),s.pts=n(s.pts,r),s.dtsTime=s.dts/a,s.ptsTime=s.dts/a}}}(i,t),i):null},parseAudioPes_:o}},"3Eo+":function(e,t){var i=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+r).toString(36))}},"3fs2":function(e,t,i){var r=i("RY/4"),n=i("dSzd")("iterator"),s=i("/bQp");e.exports=i("FeBl").getIteratorMethod=function(e){if(void 0!=e)return e[n]||e["@@iterator"]||s[r(e)]}},"4mcu":function(e,t){e.exports=function(){}},"52gC":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"5PlU":function(e,t,i){var r=i("RY/4"),n=i("dSzd")("iterator"),s=i("/bQp");e.exports=i("FeBl").isIterable=function(e){var t=Object(e);return void 0!==t[n]||"@@iterator"in t||s.hasOwnProperty(r(t))}},"5VQ+":function(e,t,i){"use strict";var r=i("cGG2");e.exports=function(e,t){r.forEach(e,function(i,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[r])})}},"63pp":function(e,t,i){"use strict";var r=i("awF4"),n=i.n(r),s=i("dwO+"),a=i.n(s),o=i("lt8z"),l=i.n(o),h=i("M1I4"),u=i.n(h),c=(i("T/v0"),i("tNLN"),i("86MP")),d=i.n(c),p=i("I/+Z"),f=i.n(p),m=i("ljAp"),g=i.n(m),v=i("OWA6"),y=i.n(v),_=i("ciWi"),b=i.n(_),T=i("kx0S"),S=i.n(T),E=i("j/rp"),w=i.n(E),C=i("pEUO"),x=i.n(C),k=i("QYsj"),A=i.n(k),P=i("H1Bl"),I=i.n(P),D=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return d()(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(A.a),M=function(e){for(var t,i=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},n=i.length;n--;)""!==i[n]&&((t=/([^=]*)=(.*)/.exec(i[n]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r},L=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}d()(t,e);var i=t.prototype;return i.push=function(e){var t,i,r=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce(function(t,i){var r=i(e);return r===e?t:t.concat([r])},[e]).forEach(function(e){for(var n=0;n<r.customParsers.length;n++)if(r.customParsers[n].call(r,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void r.trigger("data",i);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),void r.trigger("data",i);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"totalduration"},t[1]&&(i.duration=parseInt(t[1],10)),void r.trigger("data",i);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),void r.trigger("data",i);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void r.trigger("data",i);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void r.trigger("data",i);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),void r.trigger("data",i);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"byterange"},t[1]&&(i.length=parseInt(t[1],10)),t[2]&&(i.offset=parseInt(t[2],10)),void r.trigger("data",i);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),void r.trigger("data",i);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"map"},t[1]){var s=M(t[1]);if(s.URI&&(i.uri=s.URI),s.BYTERANGE){var a=s.BYTERANGE.split("@"),o=a[0],l=a[1];i.byterange={},o&&(i.byterange.length=parseInt(o,10)),l&&(i.byterange.offset=parseInt(l,10))}}r.trigger("data",i)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"stream-inf"},t[1]){if(i.attributes=M(t[1]),i.attributes.RESOLUTION){var h=i.attributes.RESOLUTION.split("x"),u={};h[0]&&(u.width=parseInt(h[0],10)),h[1]&&(u.height=parseInt(h[1],10)),i.attributes.RESOLUTION=u}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}r.trigger("data",i)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return i={type:"tag",tagType:"media"},t[1]&&(i.attributes=M(t[1])),void r.trigger("data",i);if(t=/^#EXT-X-ENDLIST/.exec(e))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),void r.trigger("data",i);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return i={type:"tag",tagType:"key"},t[1]&&(i.attributes=M(t[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void r.trigger("data",i);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return i={type:"tag",tagType:"start"},t[1]&&(i.attributes=M(t[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void r.trigger("data",i);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",void r.trigger("data",i);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",void r.trigger("data",i);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",void r.trigger("data",i);r.trigger("data",{type:"tag",data:e.slice(4)})}}}else r.trigger("data",{type:"comment",text:e.slice(1)})}):this.trigger("data",{type:"uri",uri:e}))},i.addParser=function(e){var t=this,i=e.expression,r=e.customType,n=e.dataParser,s=e.segment;"function"!=typeof n&&(n=function(e){return e}),this.customParsers.push(function(e){if(i.exec(e))return t.trigger("data",{type:"custom",data:n(e),customType:r,segment:s}),!0})},i.addTagMapper=function(e){var t=e.expression,i=e.map;this.tagMappers.push(function(e){return t.test(e)?i(e):e})},t}(A.a),O=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new D,t.parseStream=new L,t.lineStream.pipe(t.parseStream);var i,r,n=u()(t),s=[],a={},o={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var c=0;return t.parseStream.on("data",function(e){var t,u;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(e.offset=c)),"offset"in e&&(a.byterange=t,t.offset=e.offset),c=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:I()(e.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,h=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){i={},e.uri&&(i.uri=e.uri),e.byterange&&(i.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||o,e.attributes?(a.attributes||(a.attributes={}),l()(a.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||o,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var i=this.manifest.mediaGroups[e.attributes.TYPE];i[e.attributes["GROUP-ID"]]=i[e.attributes["GROUP-ID"]]||{},t=i[e.attributes["GROUP-ID"]],(u={default:/yes/i.test(e.attributes.DEFAULT)}).default?u.autoselect=!0:u.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(u.language=e.attributes.LANGUAGE),e.attributes.URI&&(u.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(u.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(u.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(u.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=u}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){h+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),a.dateTimeString=e.dateTimeString,a.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=e.data},"cue-out-cont":function(){a.cueOutCont=e.data},"cue-in":function(){a.cueIn=e.data}})[e.tagType]||function(){}).call(n)},uri:function(){a.uri=e.uri,s.push(a),!this.manifest.targetDuration||"duration"in a||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),r&&(a.key=r),a.timeline=h,i&&(a.map=i),a={}},comment:function(){},custom:function(){e.segment?(a.custom=a.custom||{},a.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(n)}),t}d()(t,e);var i=t.prototype;return i.push=function(e){this.lineStream.push(e)},i.end=function(){this.lineStream.push("\n")},i.addParser=function(e){this.parseStream.addParser(e)},i.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(A.a),R=i("sGG/"),F=i("OAFc"),B=function(e){return!!e&&"object"==typeof e},N=function e(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return i.reduce(function(t,i){return"object"!=typeof i?t:(Object.keys(i).forEach(function(r){Array.isArray(t[r])&&Array.isArray(i[r])?t[r]=t[r].concat(i[r]):B(t[r])&&B(i[r])?t[r]=e(t[r],i[r]):t[r]=i[r]}),t)},{})},U=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},j=function(e){if(!e.length)return[];for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t},V="INVALID_NUMBER_OF_PERIOD",z="DASH_EMPTY_MANIFEST",G="DASH_INVALID_XML",H="NO_BASE_URL",$="SEGMENT_TIME_UNSPECIFIED",q="UNSUPPORTED_UTC_TIMING_SCHEME",W=function(e){var t=e.baseUrl,i=void 0===t?"":t,r=e.source,n=void 0===r?"":r,s=e.range,a=void 0===s?"":s,o=e.indexRange,l=void 0===o?"":o,h={uri:n,resolvedUri:x()(i||"",n)};if(a||l){var u=(a||l).split("-"),c=parseInt(u[0],10),d=parseInt(u[1],10);h.byterange={length:d-c+1,offset:c}}return h},X={static:function(e){var t=e.duration,i=e.timescale,r=void 0===i?1:i,n=e.sourceDuration;return{start:0,end:Math.ceil(n/(t/r))}},dynamic:function(e){var t=e.NOW,i=e.clientOffset,r=e.availabilityStartTime,n=e.timescale,s=void 0===n?1:n,a=e.duration,o=e.start,l=void 0===o?0:o,h=e.minimumUpdatePeriod,u=void 0===h?0:h,c=e.timeShiftBufferDepth,d=void 0===c?1/0:c,p=(t+i)/1e3,f=r+l,m=p+u-f,g=Math.ceil(m*s/a),v=Math.floor((p-f-d)*s/a),y=Math.floor((p-f)*s/a);return{start:Math.max(0,v),end:Math.min(g,y)}}},Y=function(e){var t=e.type,i=void 0===t?"static":t,r=e.duration,n=e.timescale,s=void 0===n?1:n,a=e.sourceDuration,o=X[i](e),l=function(e,t){for(var i=[],r=e;r<t;r++)i.push(r);return i}(o.start,o.end).map(function(e){return function(t,i){var r=e.duration,n=e.timescale,s=void 0===n?1:n,a=e.periodIndex,o=e.startNumber;return{number:(void 0===o?1:o)+t,duration:r/s,timeline:a,time:i*r}}}(e));if("static"===i){var h=l.length-1;l[h].duration=a-r/s*h}return l},K=function(e){var t=e.baseUrl,i=e.initialization,r=void 0===i?{}:i,n=e.sourceDuration,s=e.indexRange,a=void 0===s?"":s,o=e.duration;if(!t)throw new Error(H);var l=W({baseUrl:t,source:r.sourceURL,range:r.range}),h=W({baseUrl:t,source:t,indexRange:a});if(h.map=l,o){var u=Y(e);u.length&&(h.duration=u[0].duration,h.timeline=u[0].timeline)}else n&&(h.duration=n,h.timeline=0);return h.number=0,[h]},Q=function(e,t,i){for(var r=e.sidx.map?e.sidx.map:null,n=e.sidx.duration,s=e.timeline||0,a=e.sidx.byterange,o=a.offset+a.length,l=t.timescale,h=t.references.filter(function(e){return 1!==e.referenceType}),u=[],c=o+t.firstOffset,d=0;d<h.length;d++){var p=t.references[d],f=p.referencedSize,m=p.subsegmentDuration,g=K({baseUrl:i,timescale:l,timeline:s,periodIndex:s,duration:m,sourceDuration:n,indexRange:c+"-"+(c+f-1)})[0];r&&(g.map=r),u.push(g),c+=f}return e.segments=u,e},J=function(e){var t;return(t=e.reduce(function(e,t){var i,r=t.attributes.id+(t.attributes.lang||"");e[r]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(i=e[r].segments).push.apply(i,t.segments),t.attributes.contentProtection&&(e[r].attributes.contentProtection=t.attributes.contentProtection)):e[r]=t;return e},{}),Object.keys(t).map(function(e){return t[e]})).map(function(e){var t,i;return e.discontinuityStarts=(t=e.segments,i="discontinuity",t.reduce(function(e,t,r){return t[i]&&e.push(r),e},[])),e})},Z=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var i in e){var r=e[i];if(r.sidx){var n=r.sidx.uri+"-"+(a=r.sidx.byterange,void 0,o=a.offset+a.length-1,a.offset+"-"+o),s=t[n]&&t[n].sidx;r.sidx&&s&&Q(r,s,r.sidx.resolvedUri)}}var a,o;return e},ee=function(e){var t,i=e.attributes,r=e.segments,n=e.sidx,s={attributes:(t={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),n&&(s.sidx=n),s},te=function(e,t,i){var r;if(void 0===i&&(i={}),!e.length)return{};var n=e[0].attributes,s=n.sourceDuration,a=n.type,o=void 0===a?"static":a,l=n.suggestedPresentationDelay,h=n.minimumUpdatePeriod,u=J(e.filter(function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType})).map(ee),c=J(e.filter(function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType})),d=e.filter(function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType}),p={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:s,playlists:Z(u,i)};return h>=0&&(p.minimumUpdatePeriod=1e3*h),t&&(p.locations=t),"dynamic"===o&&(p.suggestedPresentationDelay=l),c.length&&(p.mediaGroups.AUDIO.audio=function(e,t){var i;void 0===t&&(t={});var r=e.reduce(function(e,r){var n=r.attributes.role&&r.attributes.role.value||"",s=r.attributes.lang||"",a="main";if(s){var o=n?" ("+n+")":"";a=""+r.attributes.lang+o}return e[a]&&e[a].playlists[0].attributes.BANDWIDTH>r.attributes.bandwidth?e:(e[a]={language:s,autoselect:!0,default:"main"===n,playlists:Z([function(e){var t,i=e.attributes,r=e.segments,n=e.sidx,s={attributes:(t={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),n&&(s.sidx=n),s}(r)],t),uri:""},void 0===i&&"main"===n&&((i=r).default=!0),e)},{});i||(r[Object.keys(r)[0]].default=!0);return r}(c,i)),d.length&&(p.mediaGroups.SUBTITLES.subs=function(e,t){return void 0===t&&(t={}),e.reduce(function(e,i){var r=i.attributes.lang||"text";return e[r]?e:(e[r]={language:r,default:!1,autoselect:!1,playlists:Z([function(e){var t,i=e.attributes,r=e.segments;void 0===r&&(r=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var n=((t={NAME:i.id,BANDWIDTH:i.bandwidth})["PROGRAM-ID"]=1,t);return i.codecs&&(n.CODECS=i.codecs),{attributes:n,uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:r,mediaSequence:r.length?r[0].number:1}}(i)],t),uri:""},e)},{})}(d,i)),p},ie=function(e,t,i){var r=e.NOW,n=e.clientOffset,s=e.availabilityStartTime,a=e.timescale,o=void 0===a?1:a,l=e.start,h=void 0===l?0:l,u=e.minimumUpdatePeriod,c=(r+n)/1e3+(void 0===u?0:u)-(s+h);return Math.ceil((c*o-t)/i)},re=function(e,t){for(var i=e.type,r=void 0===i?"static":i,n=e.minimumUpdatePeriod,s=void 0===n?0:n,a=e.media,o=void 0===a?"":a,l=e.sourceDuration,h=e.timescale,u=void 0===h?1:h,c=e.startNumber,d=void 0===c?1:c,p=e.periodIndex,f=[],m=-1,g=0;g<t.length;g++){var v=t[g],y=v.d,_=v.r||0,b=v.t||0;m<0&&(m=b),b&&b>m&&(m=b);var T=void 0;if(_<0){var S=g+1;T=S===t.length?"dynamic"===r&&s>0&&o.indexOf("$Number$")>0?ie(e,m,y):(l*u-m)/y:(t[S].t-m)/y}else T=_+1;for(var E=d+f.length+T,w=d+f.length;w<E;)f.push({number:w,duration:y/u,time:m,timeline:p}),m+=y,w++}return f},ne=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,se=function(e,t){return e.replace(ne,function(e){return function(t,i,r,n){if("$$"===t)return"$";if(void 0===e[i])return t;var s=""+e[i];return"RepresentationID"===i?s:(n=r?parseInt(n,10):1,s.length>=n?s:""+new Array(n-s.length+1).join("0")+s)}}(t))},ae=function(e,t){var i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,n=void 0===r?{sourceURL:"",range:""}:r,s=W({baseUrl:e.baseUrl,source:se(n.sourceURL,i),range:n.range});return function(e,t){return e.duration||t?e.duration?Y(e):re(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(e,t).map(function(t){i.Number=t.number,i.Time=t.time;var r=se(e.media||"",i);return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:x()(e.baseUrl||"",r),map:s,number:t.number}})},oe=function(e,t){var i=e.duration,r=e.segmentUrls,n=void 0===r?[]:r;if(!i&&!t||i&&t)throw new Error($);var s,a=n.map(function(t){return function(e,t){var i=e.baseUrl,r=e.initialization,n=void 0===r?{}:r,s=W({baseUrl:i,source:n.sourceURL,range:n.range}),a=W({baseUrl:i,source:t.media,range:t.mediaRange});return a.map=s,a}(e,t)});return i&&(s=Y(e)),t&&(s=re(e,t)),s.map(function(e,t){if(a[t]){var i=a[t];return i.timeline=e.timeline,i.duration=e.duration,i.number=e.number,i}}).filter(function(e){return e})},le=function(e){var t,i,r=e.attributes,n=e.segmentInfo;n.template?(i=ae,t=N(r,n.template)):n.base?(i=K,t=N(r,n.base)):n.list&&(i=oe,t=N(r,n.list));var s={attributes:r};if(!i)return s;var a=i(t,n.timeline);if(t.duration){var o=t,l=o.duration,h=o.timescale,u=void 0===h?1:h;t.duration=l/u}else a.length?t.duration=a.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):t.duration=0;return s.attributes=t,s.segments=a,n.base&&t.indexRange&&(s.sidx=a[0],s.segments=[]),s},he=function(e,t){return j(e.childNodes).filter(function(e){return e.tagName===t})},ue=function(e){return e.textContent.trim()},ce=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var i=t.slice(1),r=i[0],n=i[1],s=i[2],a=i[3],o=i[4],l=i[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(n||0)+86400*parseFloat(s||0)+3600*parseFloat(a||0)+60*parseFloat(o||0)+parseFloat(l||0)},de={mediaPresentationDuration:function(e){return ce(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return ce(e)},suggestedPresentationDelay:function(e){return ce(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return ce(e)},start:function(e){return ce(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?ce(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},pe=function(e){return e&&e.attributes?j(e.attributes).reduce(function(e,t){var i=de[t.name]||de.DEFAULT;return e[t.name]=i(t.value),e},{}):{}},fe={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},me=function(e,t){return t.length?U(e.map(function(e){return t.map(function(t){return x()(e,ue(t))})})):e},ge=function(e){var t=he(e,"SegmentTemplate")[0],i=he(e,"SegmentList")[0],r=i&&he(i,"SegmentURL").map(function(e){return N({tag:"SegmentURL"},pe(e))}),n=he(e,"SegmentBase")[0],s=i||t,a=s&&he(s,"SegmentTimeline")[0],o=i||n||t,l=o&&he(o,"Initialization")[0],h=t&&pe(t);h&&l?h.initialization=l&&pe(l):h&&h.initialization&&(h.initialization={sourceURL:h.initialization});var u={template:h,timeline:a&&he(a,"S").map(function(e){return pe(e)}),list:i&&N(pe(i),{segmentUrls:r,initialization:pe(l)}),base:n&&N(pe(n),{initialization:pe(l)})};return Object.keys(u).forEach(function(e){u[e]||delete u[e]}),u},ve=function(e,t,i){return function(r){var n=pe(r),s=me(t,he(r,"BaseURL")),a=he(r,"Role")[0],o={role:pe(a)},l=N(e,n,o),h=he(r,"ContentProtection").reduce(function(e,t){var i=pe(t),r=fe[i.schemeIdUri];if(r){e[r]={attributes:i};var n=he(t,"cenc:pssh")[0];if(n){var s=ue(n),a=s&&I()(s);e[r].pssh=a}}return e},{});Object.keys(h).length&&(l=N(l,{contentProtection:h}));var u=ge(r),c=he(r,"Representation"),d=N(i,u);return U(c.map(function(e,t,i){return function(r){var n=he(r,"BaseURL"),s=me(t,n),a=N(e,pe(r)),o=ge(r);return s.map(function(e){return{segmentInfo:N(i,o),attributes:N(a,{baseUrl:e})}})}}(l,s,d)))}},ye=function(e,t){void 0===t&&(t={});var i=t,r=i.manifestUri,s=void 0===r?"":r,a=i.NOW,o=void 0===a?Date.now():a,l=i.clientOffset,h=void 0===l?0:l,u=he(e,"Period");if(!u.length)throw new Error(V);var c=he(e,"Location"),d=pe(e),p=me([s],he(e,"BaseURL"));return d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=o,d.clientOffset=h,c.length&&(d.locations=c.map(ue)),{locations:d.locations,representationInfo:U(u.map(function(e,t){return function(i,r){var s=me(t,he(i,"BaseURL")),a=pe(i),o=parseInt(a.id,10),l=n.a.isNaN(o)?r:o,h=N(e,{periodIndex:l}),u=he(i,"AdaptationSet"),c=ge(i);return U(u.map(ve(h,s,c)))}}(d,p)))}},_e=function(e){if(""===e)throw new Error(z);var t,i,r=new F.DOMParser;try{i=(t=r.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(G);return i},be=function(e,t){void 0===t&&(t={});var i=ye(_e(e),t),r=i.representationInfo.map(le);return te(r,i.locations,t.sidxMapping)},Te=function(e){return function(e){var t=he(e,"UTCTiming")[0];if(!t)return null;var i=pe(t);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(q)}return i}(_e(e))},Se=Q,Ee=i("GlnR"),we=i.n(Ee),Ce=i("I7p8"),xe=i("7GhN"),ke=i("33ZF"),Ae=i.n(ke),Pe=i("lamJ"),Ie=i("/cRm"),De=i.n(Ie),Me=i("cNr3"),Le="7.11.4",Oe=[],Re=function(e,t){return function(i,r,s){var a=t.levels[r],o=new RegExp("^("+a+")$");if("log"!==i&&s.unshift(i.toUpperCase()+":"),s.unshift(e+":"),Oe){Oe.push([].concat(s));var l=Oe.length-1e3;Oe.splice(0,l>0?l:0)}if(n.a.console){var h=n.a.console[i];h||"debug"!==i||(h=n.a.console.info||n.a.console.log),h&&a&&o.test(i)&&h[Array.isArray(s)?"apply":"call"](n.a.console,s)}}};var Fe=function e(t){var i,r="info",n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i("log",r,t)};return i=Re(t,n),n.createLogger=function(i){return e(t+": "+i)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},n.level=function(e){if("string"==typeof e){if(!n.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');r=e}return r},(n.history=function(){return Oe?[].concat(Oe):[]}).filter=function(e){return(Oe||[]).filter(function(t){return new RegExp(".*"+e+".*").test(t[0])})},n.history.clear=function(){Oe&&(Oe.length=0)},n.history.disable=function(){null!==Oe&&(Oe.length=0,Oe=null)},n.history.enable=function(){null===Oe&&(Oe=[])},n.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i("error",r,t)},n.warn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i("warn",r,t)},n.debug=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i("debug",r,t)},n}("VIDEOJS"),Be=Fe.createLogger,Ne=Object.prototype.toString,Ue=function(e){return ze(e)?Object.keys(e):[]};function je(e,t){Ue(e).forEach(function(i){return t(e[i],i)})}function Ve(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return Object.assign?l.a.apply(void 0,[e].concat(i)):(i.forEach(function(t){t&&je(t,function(t,i){e[i]=t})}),e)}function ze(e){return!!e&&"object"==typeof e}function Ge(e){return ze(e)&&"[object Object]"===Ne.call(e)&&e.constructor===Object}function He(e,t){if(!e||!t)return"";if("function"==typeof n.a.getComputedStyle){var i=n.a.getComputedStyle(e);return i?i.getPropertyValue(t)||i[t]:""}return""}function $e(e){return"string"==typeof e&&Boolean(e.trim())}function qe(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function We(){return a.a===n.a.document}function Xe(e){return ze(e)&&1===e.nodeType}function Ye(){try{return n.a.parent!==n.a.self}catch(e){return!0}}function Ke(e){return function(t,i){if(!$e(t))return a.a[e](null);$e(i)&&(i=a.a.querySelector(i));var r=Xe(i)?i:a.a;return r[e]&&r[e](t)}}function Qe(e,t,i,r){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===i&&(i={});var n=a.a.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var i=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(Fe.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+i+"."),n.setAttribute(e,i)):"textContent"===e?Je(n,i):n[e]===i&&"tabIndex"!==e||(n[e]=i)}),Object.getOwnPropertyNames(i).forEach(function(e){n.setAttribute(e,i[e])}),r&&vt(n,r),n}function Je(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function Ze(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function et(e,t){return qe(t),e.classList?e.classList.contains(t):(i=t,new RegExp("(^|\\s)"+i+"($|\\s)")).test(e.className);var i}function tt(e,t){return e.classList?e.classList.add(t):et(e,t)||(e.className=(e.className+" "+t).trim()),e}function it(e,t){return e.classList?e.classList.remove(t):(qe(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function rt(e,t,i){var r=et(e,t);if("function"==typeof i&&(i=i(e,t)),"boolean"!=typeof i&&(i=!r),i!==r)return i?tt(e,t):it(e,t),e}function nt(e,t){Object.getOwnPropertyNames(t).forEach(function(i){var r=t[i];null===r||void 0===r||!1===r?e.removeAttribute(i):e.setAttribute(i,!0===r?"":r)})}function st(e){var t={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,n=r.length-1;n>=0;n--){var s=r[n].name,a=r[n].value;"boolean"!=typeof e[s]&&-1===i.indexOf(","+s+",")||(a=null!==a),t[s]=a}return t}function at(e,t){return e.getAttribute(t)}function ot(e,t,i){e.setAttribute(t,i)}function lt(e,t){e.removeAttribute(t)}function ht(){a.a.body.focus(),a.a.onselectstart=function(){return!1}}function ut(){a.a.onselectstart=function(){return!0}}function ct(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(i[e]=t[e])}),i.height||(i.height=parseFloat(He(e,"height"))),i.width||(i.width=parseFloat(He(e,"width"))),i}}function dt(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};var t=e.offsetWidth,i=e.offsetHeight,r=0,n=0;do{r+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent}while(e);return{left:r,top:n,width:t,height:i}}function pt(e,t){var i={},r=dt(t.target),n=dt(e),s=n.width,a=n.height,o=t.offsetY-(n.top-r.top),l=t.offsetX-(n.left-r.left);return t.changedTouches&&(l=t.changedTouches[0].pageX-n.left,o=t.changedTouches[0].pageY+n.top),i.y=1-Math.max(0,Math.min(1,o/a)),i.x=Math.max(0,Math.min(1,l/s)),i}function ft(e){return ze(e)&&3===e.nodeType}function mt(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function gt(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),Xe(e)||ft(e)?e:"string"==typeof e&&/\S/.test(e)?a.a.createTextNode(e):void 0}).filter(function(e){return e})}function vt(e,t){return gt(t).forEach(function(t){return e.appendChild(t)}),e}function yt(e,t){return vt(mt(e),t)}function _t(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var bt,Tt=Ke("querySelector"),St=Ke("querySelectorAll"),Et=Object.freeze({__proto__:null,isReal:We,isEl:Xe,isInFrame:Ye,createEl:Qe,textContent:Je,prependTo:Ze,hasClass:et,addClass:tt,removeClass:it,toggleClass:rt,setAttributes:nt,getAttributes:st,getAttribute:at,setAttribute:ot,removeAttribute:lt,blockTextSelection:ht,unblockTextSelection:ut,getBoundingClientRect:ct,findPosition:dt,getPointerPosition:pt,isTextNode:ft,emptyEl:mt,normalizeContent:gt,appendContent:vt,insertContent:yt,isSingleLeftClick:_t,$:Tt,$$:St}),wt=!1,Ct=function(){if(We()&&!1!==bt.options.autoSetup){var e=Array.prototype.slice.call(a.a.getElementsByTagName("video")),t=Array.prototype.slice.call(a.a.getElementsByTagName("audio")),i=Array.prototype.slice.call(a.a.getElementsByTagName("video-js")),r=e.concat(t,i);if(r&&r.length>0)for(var n=0,s=r.length;n<s;n++){var o=r[n];if(!o||!o.getAttribute){xt(1);break}void 0===o.player&&null!==o.getAttribute("data-setup")&&bt(o)}else wt||xt(1)}};function xt(e,t){t&&(bt=t),n.a.setTimeout(Ct,e)}function kt(){wt=!0,n.a.removeEventListener("load",kt)}We()&&("complete"===a.a.readyState?kt():n.a.addEventListener("load",kt));var At,Pt=function(e){var t=a.a.createElement("style");return t.className=e,t},It=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},Dt=3;function Mt(){return Dt++}n.a.WeakMap||(At=function(){function e(){this.vdata="vdata"+Math.floor(n.a.performance&&n.a.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var i=e[this.vdata]||Mt();return e[this.vdata]||(e[this.vdata]=i),this.data[i]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];Fe("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var Lt,Ot=n.a.WeakMap?new WeakMap:new At;function Rt(e,t){if(Ot.has(e)){var i=Ot.get(e);0===i.handlers[t].length&&(delete i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&Ot.delete(e)}}function Ft(e,t,i,r){i.forEach(function(i){e(t,i,r)})}function Bt(e){if(e.fixed_)return e;function t(){return!0}function i(){return!1}if(!e||!e.isPropagationStopped){var r=e||n.a.event;for(var s in e={},r)"layerX"!==s&&"layerY"!==s&&"keyLocation"!==s&&"webkitMovementX"!==s&&"webkitMovementY"!==s&&("returnValue"===s&&r.preventDefault||(e[s]=r[s]));if(e.target||(e.target=e.srcElement||a.a),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=i,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=i,null!==e.clientX&&void 0!==e.clientX){var o=a.a.documentElement,l=a.a.body;e.pageX=e.clientX+(o&&o.scrollLeft||l&&l.scrollLeft||0)-(o&&o.clientLeft||l&&l.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||l&&l.scrollTop||0)-(o&&o.clientTop||l&&l.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var Nt=function(){if("boolean"!=typeof Lt){Lt=!1;try{var e=Object.defineProperty({},"passive",{get:function(){Lt=!0}});n.a.addEventListener("test",null,e),n.a.removeEventListener("test",null,e)}catch(e){}}return Lt},Ut=["touchstart","touchmove"];function jt(e,t,i){if(Array.isArray(t))return Ft(jt,e,t,i);Ot.has(e)||Ot.set(e,{});var r=Ot.get(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),i.guid||(i.guid=Mt()),r.handlers[t].push(i),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,i){if(!r.disabled){t=Bt(t);var n=r.handlers[t.type];if(n)for(var s=n.slice(0),a=0,o=s.length;a<o&&!t.isImmediatePropagationStopped();a++)try{s[a].call(e,t,i)}catch(e){Fe.error(e)}}}),1===r.handlers[t].length)if(e.addEventListener){var n=!1;Nt()&&Ut.indexOf(t)>-1&&(n={passive:!0}),e.addEventListener(t,r.dispatcher,n)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function Vt(e,t,i){if(Ot.has(e)){var r=Ot.get(e);if(r.handlers){if(Array.isArray(t))return Ft(Vt,e,t,i);var n=function(e,t){r.handlers[t]=[],Rt(e,t)};if(void 0!==t){var s=r.handlers[t];if(s)if(i){if(i.guid)for(var a=0;a<s.length;a++)s[a].guid===i.guid&&s.splice(a--,1);Rt(e,t)}else n(e,t)}else for(var o in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},o)&&n(e,o)}}}function zt(e,t,i){var r=Ot.has(e)?Ot.get(e):{},n=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Bt(t),r.dispatcher&&r.dispatcher.call(e,t,i),n&&!t.isPropagationStopped()&&!0===t.bubbles)zt.call(null,n,t,i);else if(!n&&!t.defaultPrevented&&t.target&&t.target[t.type]){Ot.has(t.target)||Ot.set(t.target,{});var s=Ot.get(t.target);t.target[t.type]&&(s.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),s.disabled=!1)}return!t.defaultPrevented}function Gt(e,t,i){if(Array.isArray(t))return Ft(Gt,e,t,i);var r=function r(){Vt(e,t,r),i.apply(this,arguments)};r.guid=i.guid=i.guid||Mt(),jt(e,t,r)}function Ht(e,t,i){var r=function r(){Vt(e,t,r),i.apply(this,arguments)};r.guid=i.guid=i.guid||Mt(),jt(e,t,r)}var $t,qt=Object.freeze({__proto__:null,fixEvent:Bt,on:jt,off:Vt,trigger:zt,one:Gt,any:Ht}),Wt=30,Xt=function(e,t,i){t.guid||(t.guid=Mt());var r=t.bind(e);return r.guid=i?i+"_"+t.guid:t.guid,r},Yt=function(e,t){var i=n.a.performance.now();return function(){var r=n.a.performance.now();r-i>=t&&(e.apply(void 0,arguments),i=r)}},Kt=function(e,t,i,r){var s;void 0===r&&(r=n.a);var a=function(){var n=this,a=arguments,o=function(){s=null,o=null,i||e.apply(n,a)};!s&&i&&e.apply(n,a),r.clearTimeout(s),s=r.setTimeout(o,t)};return a.cancel=function(){r.clearTimeout(s),s=null},a},Qt=function(){};Qt.prototype.allowedEvents_={},Qt.prototype.on=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},jt(this,e,t),this.addEventListener=i},Qt.prototype.addEventListener=Qt.prototype.on,Qt.prototype.off=function(e,t){Vt(this,e,t)},Qt.prototype.removeEventListener=Qt.prototype.off,Qt.prototype.one=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},Gt(this,e,t),this.addEventListener=i},Qt.prototype.any=function(e,t){var i=this.addEventListener;this.addEventListener=function(){},Ht(this,e,t),this.addEventListener=i},Qt.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=Bt(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),zt(this,e)},Qt.prototype.dispatchEvent=Qt.prototype.trigger,Qt.prototype.queueTrigger=function(e){var t=this;$t||($t=new Map);var i=e.type||e,r=$t.get(this);r||(r=new Map,$t.set(this,r));var s=r.get(i);r.delete(i),n.a.clearTimeout(s);var a=n.a.setTimeout(function(){0===r.size&&(r=null,$t.delete(t)),t.trigger(e)},0);r.set(i,a)};var Jt=function(e){return"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},Zt=function(e){return e instanceof Qt||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},ei=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},ti=function(e,t,i){if(!e||!e.nodeName&&!Zt(e))throw new Error("Invalid target for "+Jt(t)+"#"+i+"; must be a DOM node or evented object.")},ii=function(e,t,i){if(!ei(e))throw new Error("Invalid event type for "+Jt(t)+"#"+i+"; must be a non-empty string or array.")},ri=function(e,t,i){if("function"!=typeof e)throw new Error("Invalid listener for "+Jt(t)+"#"+i+"; must be a function.")},ni=function(e,t,i){var r,n,s,a=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return a?(r=e.eventBusEl_,t.length>=3&&t.shift(),n=t[0],s=t[1]):(r=t[0],n=t[1],s=t[2]),ti(r,e,i),ii(n,e,i),ri(s,e,i),{isTargetingSelf:a,target:r,type:n,listener:s=Xt(e,s)}},si=function(e,t,i,r){ti(e,e,t),e.nodeName?qt[t](e,i,r):e[t](i,r)},ai={on:function(){for(var e=this,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var n=ni(this,i,"on"),s=n.isTargetingSelf,a=n.target,o=n.type,l=n.listener;if(si(a,"on",o,l),!s){var h=function(){return e.off(a,o,l)};h.guid=l.guid;var u=function(){return e.off("dispose",h)};u.guid=l.guid,si(this,"on","dispose",h),si(a,"on","dispose",u)}},one:function(){for(var e=this,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var n=ni(this,i,"one"),s=n.isTargetingSelf,a=n.target,o=n.type,l=n.listener;if(s)si(a,"one",o,l);else{var h=function t(){e.off(a,o,t);for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];l.apply(null,r)};h.guid=l.guid,si(a,"one",o,h)}},any:function(){for(var e=this,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var n=ni(this,i,"any"),s=n.isTargetingSelf,a=n.target,o=n.type,l=n.listener;if(s)si(a,"any",o,l);else{var h=function t(){e.off(a,o,t);for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];l.apply(null,r)};h.guid=l.guid,si(a,"any",o,h)}},off:function(e,t,i){if(!e||ei(e))Vt(this.eventBusEl_,e,t);else{var r=e,n=t;ti(r,this,"off"),ii(n,this,"off"),ri(i,this,"off"),i=Xt(this,i),this.off("dispose",i),r.nodeName?(Vt(r,n,i),Vt(r,"dispose",i)):Zt(r)&&(r.off(n,i),r.off("dispose",i))}},trigger:function(e,t){ti(this.eventBusEl_,this,"trigger");var i=e&&"string"!=typeof e?e.type:e;if(!ei(i)){var r="Invalid event type for "+Jt(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!e)throw new Error(r);(this.log||Fe).error(r)}return zt(this.eventBusEl_,e,t)}};function oi(e,t){void 0===t&&(t={});var i=t.eventBusKey;if(i){if(!e[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');e.eventBusEl_=e[i]}else e.eventBusEl_=Qe("span",{className:"vjs-event-bus"});return Ve(e,ai),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on("dispose",function(){e.off(),n.a.setTimeout(function(){e.eventBusEl_=null},0)}),e}var li={state:{},setState:function(e){var t,i=this;return"function"==typeof e&&(e=e()),je(e,function(e,r){i.state[r]!==e&&((t=t||{})[r]={from:i.state[r],to:e}),i.state[r]=e}),t&&Zt(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function hi(e,t){return Ve(e,li),e.state=Ve({},e.state,t),"function"==typeof e.handleStateChanged&&Zt(e)&&e.on("statechanged",e.handleStateChanged),e}var ui=function(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toLowerCase()})},ci=function(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})};function di(){for(var e={},t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return i.forEach(function(t){t&&je(t,function(t,i){Ge(t)?(Ge(e[i])||(e[i]={}),e[i]=di(e[i],t)):e[i]=t})}),e}var pi=function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.map_[e]=t,this},t.forEach=function(e,t){for(var i in this.map_)e.call(t,this.map_[i],i,this)},e}(),fi=n.a.Map?n.a.Map:pi,mi=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var i in this.set_)e.call(t,i,i,this)},e}(),gi=n.a.Set?n.a.Set:mi,vi=function(){function e(e,t,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=di({},this.options_),t=this.options_=di(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+Mt()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&(oi(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),hi(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new gi,this.setIntervalIds_=new gi,this.rafIds_=new gi,this.namedRafs_=new fi,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(i),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Ot.has(this.el_)&&Ot.delete(this.el_),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=di(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,i){return Qe(e,t,i)},t.localize=function(e,t,i){void 0===i&&(i=e);var r=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages(),s=n&&n[r],a=r&&r.split("-")[0],o=n&&n[a],l=i;return s&&s[e]?l=s[e]:o&&o[e]&&(l=o[e]),t&&(l=l.replace(/\{(\d+)\}/g,function(e,i){var r=t[i-1],n=r;return void 0===r&&(n=e),n})),l},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t=t.reduce(function(e,t){return e.concat(t)},[]);for(var r=this,n=0;n<t.length;n++)if(!(r=r.getChild(t[n]))||!r.getChild)return;return r},t.addChild=function(t,i,r){var n,s;if(void 0===i&&(i={}),void 0===r&&(r=this.children_.length),"string"==typeof t){s=ci(t);var a=i.componentClass||s;i.name=s;var o=e.getComponent(a);if(!o)throw new Error("Component "+a+" does not exist");if("function"!=typeof o)return null;n=new o(this.player_||this,i)}else n=t;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(r,0,n),n.parentComponent_=this,"function"==typeof n.id&&(this.childIndex_[n.id()]=n),(s=s||n.name&&ci(n.name()))&&(this.childNameIndex_[s]=n,this.childNameIndex_[ui(s)]=n),"function"==typeof n.el&&n.el()){var l=null;this.children_[r+1]&&(this.children_[r+1].el_?l=this.children_[r+1].el_:Xe(this.children_[r+1])&&(l=this.children_[r+1])),this.contentEl().insertBefore(n.el(),l)}return n},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){t=!0,this.children_.splice(i,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[ci(e.name())]=null,this.childNameIndex_[ui(e.name())]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,i=this.options_.children;if(i){var r,n=this.options_,s=e.getComponent("Tech");(r=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(e){return!r.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r,n;return"string"==typeof e?n=i[r=e]||t.options_[r]||{}:(r=e.name,n=e),{name:r,opts:n}}).filter(function(t){var i=e.getComponent(t.opts.componentClass||ci(t.name));return i&&!s.isTech(i)}).forEach(function(e){var i=e.name,r=e.opts;if(void 0!==n[i]&&(r=n[i]),!1!==r){!0===r&&(r={}),r.playerOptions=t.options_.playerOptions;var s=t.addChild(i,r);s&&(t[i]=s)}})}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},t.$=function(e,t){return Tt(e,t||this.contentEl())},t.$$=function(e,t){return St(e,t||this.contentEl())},t.hasClass=function(e){return et(this.el_,e)},t.addClass=function(e){tt(this.el_,e)},t.removeClass=function(e){it(this.el_,e)},t.toggleClass=function(e,t){rt(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return at(this.el_,e)},t.setAttribute=function(e,t){ot(this.el_,e,t)},t.removeAttribute=function(e){lt(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,i){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],n=r.indexOf("px");return-1!==n?parseInt(r.slice(0,n),10):parseInt(this.el_["offset"+ci(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=He(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var i="offset"+ci(e);t=this.el_[i]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,i=null;this.on("touchstart",function(r){1===r.touches.length&&(i={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t=n.a.performance.now(),e=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)e=!1;else if(i){var r=t.touches[0].pageX-i.pageX,n=t.touches[0].pageY-i.pageY;Math.sqrt(r*r+n*n)>10&&(e=!1)}});var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",function(r){(i=null,!0===e)&&(n.a.performance.now()-t<200&&(r.preventDefault(),this.trigger("tap")))})},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=Xt(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var i=function(i){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}},t.setTimeout=function(e,t){var i,r=this;return e=Xt(this,e),this.clearTimersOnDispose_(),i=n.a.setTimeout(function(){r.setTimeoutIds_.has(i)&&r.setTimeoutIds_.delete(i),e()},t),this.setTimeoutIds_.add(i),i},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),n.a.clearTimeout(e)),e},t.setInterval=function(e,t){e=Xt(this,e),this.clearTimersOnDispose_();var i=n.a.setInterval(e,t);return this.setIntervalIds_.add(i),i},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),n.a.clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=Xt(this,e),t=n.a.requestAnimationFrame(function(){i.rafIds_.has(t)&&i.rafIds_.delete(t),e()}),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.requestNamedAnimationFrame=function(e,t){var i=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=Xt(this,t);var r=this.requestAnimationFrame(function(){t(),i.namedRafs_.has(e)&&i.namedRafs_.delete(e)});return this.namedRafs_.set(e,r),e}},t.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),n.a.cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var i=t[0],r=t[1];e[i].forEach(function(t,i){return e[r](i)})}),e.clearingTimersOnDispose_=!1}))},e.registerComponent=function(t,i){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r,n=e.getComponent("Tech"),s=n&&n.isTech(i),a=e===i||e.prototype.isPrototypeOf(i.prototype);if(s||!a)throw r=s?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+r+".");t=ci(t),e.components_||(e.components_={});var o=e.getComponent("Player");if("Player"===t&&o&&o.players){var l=o.players,h=Object.keys(l);if(l&&h.length>0&&h.map(function(e){return l[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=i,e.components_[ui(t)]=i,i},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();vi.prototype.supportsRaf_="function"==typeof n.a.requestAnimationFrame&&"function"==typeof n.a.cancelAnimationFrame,vi.registerComponent("Component",vi);var yi,_i=n.a.navigator&&n.a.navigator.userAgent||"",bi=/AppleWebKit\/([\d.]+)/i.exec(_i),Ti=bi?parseFloat(bi.pop()):null,Si=/iPod/i.test(_i),Ei=(yi=_i.match(/OS (\d+)_/i))&&yi[1]?yi[1]:null,wi=/Android/i.test(_i),Ci=function(){var e=_i.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return t&&i?parseFloat(e[1]+"."+e[2]):t||null}(),xi=wi&&Ci<5&&Ti<537,ki=/Firefox/i.test(_i),Ai=/Edg/i.test(_i),Pi=!Ai&&(/Chrome/i.test(_i)||/CriOS/i.test(_i)),Ii=function(){var e=_i.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),Di=function(){var e=/MSIE\s(\d+)\.\d/.exec(_i),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(_i)&&/rv:11.0/.test(_i)&&(t=11),t}(),Mi=/Safari/i.test(_i)&&!Pi&&!wi&&!Ai,Li=/Windows/i.test(_i),Oi=Boolean(We()&&("ontouchstart"in n.a||n.a.navigator.maxTouchPoints||n.a.DocumentTouch&&n.a.document instanceof n.a.DocumentTouch)),Ri=/iPad/i.test(_i)||Mi&&Oi&&!/iPhone/i.test(_i),Fi=/iPhone/i.test(_i)&&!Ri,Bi=Fi||Ri||Si,Ni=(Mi||Bi)&&!Pi,Ui=Object.freeze({__proto__:null,IS_IPOD:Si,IOS_VERSION:Ei,IS_ANDROID:wi,ANDROID_VERSION:Ci,IS_NATIVE_ANDROID:xi,IS_FIREFOX:ki,IS_EDGE:Ai,IS_CHROME:Pi,CHROME_VERSION:Ii,IE_VERSION:Di,IS_SAFARI:Mi,IS_WINDOWS:Li,TOUCH_ENABLED:Oi,IS_IPAD:Ri,IS_IPHONE:Fi,IS_IOS:Bi,IS_ANY_SAFARI:Ni});function ji(e,t,i,r){return function(e,t,i){if("number"!=typeof t||t<0||t>i)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+i+").")}(e,r,i.length-1),i[r][t]}function Vi(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:ji.bind(null,"start",0,e),end:ji.bind(null,"end",1,e)}}function zi(e,t){return Array.isArray(e)?Vi(e):void 0===e||void 0===t?Vi():Vi([[e,t]])}function Gi(e,t){var i,r,n=0;if(!t)return 0;e&&e.length||(e=zi(0,0));for(var s=0;s<e.length;s++)i=e.start(s),(r=e.end(s))>t&&(r=t),n+=r-i;return n/t}for(var Hi,$i={prefixed:!0},qi=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Wi=qi[0],Xi=0;Xi<qi.length;Xi++)if(qi[Xi][1]in a.a){Hi=qi[Xi];break}if(Hi){for(var Yi=0;Yi<Hi.length;Yi++)$i[Wi[Yi]]=Hi[Yi];$i.prefixed=Hi[0]!==Wi[0]}function Ki(e){if(e instanceof Ki)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:ze(e)&&("number"==typeof e.code&&(this.code=e.code),Ve(this,e)),this.message||(this.message=Ki.defaultMessages[this.code]||"")}Ki.prototype.code=0,Ki.prototype.message="",Ki.prototype.status=null,Ki.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Ki.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Qi=0;Qi<Ki.errorTypes.length;Qi++)Ki[Ki.errorTypes[Qi]]=Qi,Ki.prototype[Ki.errorTypes[Qi]]=Qi;function Ji(e){return void 0!==e&&null!==e&&"function"==typeof e.then}function Zi(e){Ji(e)&&e.then(null,function(e){})}var er=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,i,r){return e[i]&&(t[i]=e[i]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},tr=function(e){var t=e.$$("track"),i=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=er(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===i.indexOf(e)}).map(er))},ir=function(e,t){return e.forEach(function(e){var i=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return i.addCue(e)})}),t.textTracks()},rr="vjs-modal-dialog",nr=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=Qe("div",{className:rr+"-content"},{role:"document"}),r.descEl_=Qe("p",{className:rr+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),Je(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}d()(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},i.buildCSSClass=function(){return rr+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},i.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},i.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},i.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,i=this.getChild("closeButton");if(t&&!i){var r=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(i,"close",this.close)}!t&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(e){var t=this.contentEl(),i=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),yt(t,e),this.trigger("modalfill"),r?i.insertBefore(t,r):i.appendChild(t);var n=this.getChild("closeButton");n&&i.appendChild(n.el_)},i.empty=function(){this.trigger("beforemodalempty"),mt(this.contentEl()),this.trigger("modalempty")},i.content=function(e){return void 0!==e&&(this.content_=e),this.content_},i.conditionalFocus_=function(){var e=a.a.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(e){if(e.stopPropagation(),g.a.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(g.a.isEventKey(e,"Tab")){for(var t,i=this.focusableEls_(),r=this.el_.querySelector(":focus"),n=0;n<i.length;n++)if(r===i[n]){t=n;break}a.a.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(i[i.length-1].focus(),e.preventDefault()):e.shiftKey||t!==i.length-1||(i[0].focus(),e.preventDefault())}},i.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof n.a.HTMLAnchorElement||e instanceof n.a.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof n.a.HTMLInputElement||e instanceof n.a.HTMLSelectElement||e instanceof n.a.HTMLTextAreaElement||e instanceof n.a.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof n.a.HTMLIFrameElement||e instanceof n.a.HTMLObjectElement||e instanceof n.a.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},t}(vi);nr.prototype.options_={pauseOnOpen:!0,temporary:!0},vi.registerComponent("ModalDialog",nr);var sr=function(e){function t(t){var i;void 0===t&&(t=[]),(i=e.call(this)||this).tracks_=[],Object.defineProperty(u()(i),"length",{get:function(){return this.tracks_.length}});for(var r=0;r<t.length;r++)i.addTrack(t[r]);return i}d()(t,e);var i=t.prototype;return i.addTrack=function(e){var t=this,i=this.tracks_.length;""+i in this||Object.defineProperty(this,i,{get:function(){return this.tracks_[i]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},Zt(e)&&e.addEventListener("labelchange",e.labelchange_)},i.removeTrack=function(e){for(var t,i=0,r=this.length;i<r;i++)if(this[i]===e){(t=this[i]).off&&t.off(),this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},i.getTrackById=function(e){for(var t=null,i=0,r=this.length;i<r;i++){var n=this[i];if(n.id===e){t=n;break}}return t},t}(Qt);for(var ar in sr.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},sr.prototype.allowedEvents_)sr.prototype["on"+ar]=null;var or=function(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].enabled=!1)},lr=function(e){function t(t){var i;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].enabled){or(t,t[r]);break}return(i=e.call(this,t)||this).changing_=!1,i}d()(t,e);var i=t.prototype;return i.addTrack=function(t){var i=this;t.enabled&&or(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){i.changing_||(i.changing_=!0,or(i,t),i.changing_=!1,i.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},i.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(sr),hr=function(e,t){for(var i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].selected=!1)},ur=function(e){function t(t){var i;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].selected){hr(t,t[r]);break}return(i=e.call(this,t)||this).changing_=!1,Object.defineProperty(u()(i),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),i}d()(t,e);var i=t.prototype;return i.addTrack=function(t){var i=this;t.selected&&hr(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){i.changing_||(i.changing_=!0,hr(i,t),i.changing_=!1,i.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},i.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(sr),cr=function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var i=t.prototype;return i.addTrack=function(t){var i=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return i.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return i.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(sr),dr=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,i=e.length;t<i;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,i=0,r=this.trackElements_.length;i<r;i++)if(e===this.trackElements_[i].track){t=this.trackElements_[i];break}return t},t.removeTrackElement_=function(e){for(var t=0,i=this.trackElements_.length;t<i;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),pr=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,i=0,r=e.length;this.cues_=e,this.length_=e.length;var n=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(i=t;i<r;i++)n.call(this,i)},t.getCueById=function(e){for(var t=null,i=0,r=this.length;i<r;i++){var n=this[i];if(n.id===e){t=n;break}}return t},e}(),fr={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},mr={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},gr={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},vr={disabled:"disabled",hidden:"hidden",showing:"showing"},yr=function(e){function t(t){var i;void 0===t&&(t={}),i=e.call(this)||this;var r={id:t.id||"vjs_track_"+Mt(),kind:t.kind||"",language:t.language||""},n=t.label||"",s=function(e){Object.defineProperty(u()(i),e,{get:function(){return r[e]},set:function(){}})};for(var a in r)s(a);return Object.defineProperty(u()(i),"label",{get:function(){return n},set:function(e){e!==n&&(n=e,this.trigger("labelchange"))}}),i}return d()(t,e),t}(Qt),_r=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],i=a.a.createElement("a");i.href=e;var r,s=""===i.host&&"file:"!==i.protocol;s&&((r=a.a.createElement("div")).innerHTML='<a href="'+e+'"></a>',i=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),a.a.body.appendChild(r));for(var o={},l=0;l<t.length;l++)o[t[l]]=i[t[l]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=n.a.location.protocol),s&&a.a.body.removeChild(r),o},br=function(e){if(!e.match(/^https?:\/\//)){var t=a.a.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},Tr=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},Sr=function(e,t){void 0===t&&(t=n.a.location);var i=_r(e);return(":"===i.protocol?t.protocol:i.protocol)+i.host!==t.protocol+t.host},Er=Object.freeze({__proto__:null,parseUrl:_r,getAbsoluteURL:br,getFileExtension:Tr,isCrossOrigin:Sr}),wr=function(e,t){var i=new n.a.WebVTT.Parser(n.a,n.a.vttjs,n.a.WebVTT.StringDecoder()),r=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){r.push(e)},i.onflush=function(){t.trigger({type:"loadeddata",target:t})},i.parse(e),r.length>0&&(n.a.console&&n.a.console.groupCollapsed&&n.a.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return Fe.error(e)}),n.a.console&&n.a.console.groupEnd&&n.a.console.groupEnd()),i.flush()},Cr=function(e,t){var i={uri:e},r=Sr(e);r&&(i.cors=r);var s="use-credentials"===t.tech_.crossOrigin();s&&(i.withCredentials=s),y()(i,Xt(this,function(e,i,r){if(e)return Fe.error(e,i);t.loaded_=!0,"function"!=typeof n.a.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],function(e){if("vttjserror"!==e.type)return wr(r,t);Fe.error("vttjs failed to load, stopping trying to process "+t.src)}):wr(r,t)}))},xr=function(e){function t(t){var i;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var r=di(t,{kind:gr[t.kind]||"subtitles",language:t.language||t.srclang||""}),n=vr[r.mode]||"disabled",s=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(n="hidden"),(i=e.call(this,r)||this).tech_=r.tech,i.cues_=[],i.activeCues_=[],i.preload_=!1!==i.tech_.preloadTextTracks;var a=new pr(i.cues_),o=new pr(i.activeCues_),l=!1,h=Xt(u()(i),function(){this.tech_.isReady_&&!this.tech_.isDisposed()&&(this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1))});return i.tech_.one("dispose",function(){i.tech_.off("timeupdate",h)}),"disabled"!==n&&i.tech_.on("timeupdate",h),Object.defineProperties(u()(i),{default:{get:function(){return s},set:function(){}},mode:{get:function(){return n},set:function(e){vr[e]&&n!==e&&(n=e,this.preload_||"disabled"===n||0!==this.cues.length||Cr(this.src,this),this.tech_.off("timeupdate",h),"disabled"!==n&&this.tech_.on("timeupdate",h),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return o;for(var e=this.tech_.currentTime(),t=[],i=0,r=this.cues.length;i<r;i++){var n=this.cues[i];n.startTime<=e&&n.endTime>=e?t.push(n):n.startTime===n.endTime&&n.startTime<=e&&n.startTime+.5>=e&&t.push(n)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var s=0;s<t.length;s++)-1===this.activeCues_.indexOf(t[s])&&(l=!0);return this.activeCues_=t,o.setCues_(this.activeCues_),o},set:function(){}}}),r.src?(i.src=r.src,i.preload_||(i.loaded_=!0),(i.preload_||s||"subtitles"!==r.kind&&"captions"!==r.kind)&&Cr(i.src,u()(i))):i.loaded_=!0,i}d()(t,e);var i=t.prototype;return i.addCue=function(e){var t=e;if(n.a.vttjs&&!(e instanceof n.a.vttjs.VTTCue)){for(var i in t=new n.a.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i in t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),s=0;s<r.length;s++)r[s]!==this&&r[s].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},i.removeCue=function(e){for(var t=this.cues_.length;t--;){var i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(yr);xr.prototype.allowedEvents_={cuechange:"cuechange"};var kr=function(e){function t(t){var i;void 0===t&&(t={});var r=di(t,{kind:mr[t.kind]||""});i=e.call(this,r)||this;var n=!1;return Object.defineProperty(u()(i),"enabled",{get:function(){return n},set:function(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("enabledchange"))}}),r.enabled&&(i.enabled=r.enabled),i.loaded_=!0,i}return d()(t,e),t}(yr),Ar=function(e){function t(t){var i;void 0===t&&(t={});var r=di(t,{kind:fr[t.kind]||""});i=e.call(this,r)||this;var n=!1;return Object.defineProperty(u()(i),"selected",{get:function(){return n},set:function(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("selectedchange"))}}),r.selected&&(i.selected=r.selected),i}return d()(t,e),t}(yr),Pr=0,Ir=2,Dr=function(e){function t(t){var i,r;void 0===t&&(t={}),i=e.call(this)||this;var n=new xr(t);return i.kind=n.kind,i.src=n.src,i.srclang=n.language,i.label=n.label,i.default=n.default,Object.defineProperties(u()(i),{readyState:{get:function(){return r}},track:{get:function(){return n}}}),r=Pr,n.addEventListener("loadeddata",function(){r=Ir,i.trigger({type:"load",target:u()(i)})}),i}return d()(t,e),t}(Qt);Dr.prototype.allowedEvents_={load:"load"},Dr.NONE=Pr,Dr.LOADING=1,Dr.LOADED=Ir,Dr.ERROR=3;var Mr={audio:{ListClass:lr,TrackClass:kr,capitalName:"Audio"},video:{ListClass:ur,TrackClass:Ar,capitalName:"Video"},text:{ListClass:cr,TrackClass:xr,capitalName:"Text"}};Object.keys(Mr).forEach(function(e){Mr[e].getterName=e+"Tracks",Mr[e].privateName=e+"Tracks_"});var Lr={remoteText:{ListClass:cr,TrackClass:xr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:dr,TrackClass:Dr,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Or=l()({},Mr,Lr);Lr.names=Object.keys(Lr),Mr.names=Object.keys(Mr),Or.names=[].concat(Lr.names).concat(Mr.names);var Rr=function(e){function t(t,i){var r;return void 0===t&&(t={}),void 0===i&&(i=function(){}),t.reportTouchActivity=!1,(r=e.call(this,null,t,i)||this).hasStarted_=!1,r.on("playing",function(){this.hasStarted_=!0}),r.on("loadstart",function(){this.hasStarted_=!1}),Or.names.forEach(function(e){var i=Or[e];t&&t[i.getterName]&&(r[i.privateName]=t[i.getterName])}),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===t["native"+e+"Tracks"]&&(r["featuresNative"+e+"Tracks"]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.preloadTextTracks=!1!==t.preloadTextTracks,r.autoRemoteTextTracks_=new Or.text.ListClass,r.initTrackListeners(),t.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}d()(t,e);var i=t.prototype;return i.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},i.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Xt(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},i.onDurationChange=function(e){this.duration_=this.duration()},i.buffered=function(){return zi(0,0)},i.bufferedPercent=function(){return Gi(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(Mr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},i.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach(function(e){for(var i=t[e+"Tracks"]()||[],r=i.length;r--;){var n=i[r];"text"===e&&t.removeRemoteTextTrack(n),i.removeTrack(n)}})},i.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var i=e[t];this.removeRemoteTextTrack(i)}},i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=function(e){return void 0!==e&&(this.error_=new Ki(e),this.trigger("error")),this.error_},i.played=function(){return this.hasStarted_?zi(0,0):zi()},i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var e=this;Mr.names.forEach(function(t){var i=Mr[t],r=function(){e.trigger(t+"trackchange")},n=e[i.getterName]();n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),e.on("dispose",function(){n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)})})},i.addWebVttScript_=function(){var e=this;if(!n.a.WebVTT)if(a.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&Ge(b.a)&&Object.keys(b.a).length>0)return void this.trigger("vttjsloaded");var t=a.a.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),n.a.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},i.emulateTextTracks=function(){var e=this,t=this.textTracks(),i=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},n=function(e){return t.removeTrack(e.track)};i.on("addtrack",r),i.on("removetrack",n),this.addWebVttScript_();var s=function(){return e.trigger("texttrackchange")},a=function(){s();for(var e=0;e<t.length;e++){var i=t[e];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",function(){i.off("addtrack",r),i.off("removetrack",n),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",s)}})},i.addTextTrack=function(e,t,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,i,r,n){void 0===n&&(n={});var s=e.textTracks();n.kind=t,i&&(n.label=i),r&&(n.language=r),n.tech=e;var a=new Or.text.TrackClass(n);return s.addTrack(a),a}(this,e,t,i)},i.createRemoteTextTrack=function(e){var t=di(e,{tech:this});return new Lr.remoteTextEl.TrackClass(t)},i.addRemoteTextTrack=function(e,t){var i=this;void 0===e&&(e={});var r=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(Fe.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==t&&this.ready(function(){return i.autoRemoteTextTracks_.addTrack(r.track)}),r},i.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var e=this.options_.Promise||n.a.Promise;if(e)return e.reject()},i.disablePictureInPicture=function(){return!0},i.setDisablePictureInPicture=function(){},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,i){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,i){if(t.techs_||(t.techs_={}),!t.isTech(i))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=ci(e),t.techs_[e]=i,t.techs_[ui(e)]=i,"Tech"!==e&&t.defaultTechOrder_.push(e),i},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=ci(e),n.a&&n.a.videojs&&n.a.videojs[e]?(Fe.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),n.a.videojs[e]):void 0)},t}(vi);Or.names.forEach(function(e){var t=Or[e];Rr.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),Rr.prototype.featuresVolumeControl=!0,Rr.prototype.featuresMuteControl=!0,Rr.prototype.featuresFullscreenResize=!1,Rr.prototype.featuresPlaybackRate=!1,Rr.prototype.featuresProgressEvents=!1,Rr.prototype.featuresSourceset=!1,Rr.prototype.featuresTimeupdateEvents=!1,Rr.prototype.featuresNativeTextTracks=!1,Rr.withSourceHandlers=function(e){e.registerSourceHandler=function(t,i){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===i&&(i=r.length),r.splice(i,0,t)},e.canPlayType=function(t){for(var i,r=e.sourceHandlers||[],n=0;n<r.length;n++)if(i=r[n].canPlayType(t))return i;return""},e.selectSourceHandler=function(t,i){for(var r=e.sourceHandlers||[],n=0;n<r.length;n++)if(r[n].canHandleSource(t,i))return r[n];return null},e.canPlaySource=function(t,i){var r=e.selectSourceHandler(t,i);return r?r.canHandleSource(t,i):""};["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var i=e.selectSourceHandler(t,this.options_);i||(e.nativeSourceHandler?i=e.nativeSourceHandler:Fe.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=i.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},vi.registerComponent("Tech",Rr),Rr.registerTech("Tech",Rr),Rr.defaultTechOrder_=[];var Fr={},Br={},Nr={};function Ur(e,t,i){e.setTimeout(function(){return function e(t,i,r,n,s,a){void 0===t&&(t={});void 0===i&&(i=[]);void 0===s&&(s=[]);void 0===a&&(a=!1);var o=i,l=o[0],h=o.slice(1);if("string"==typeof l)e(t,Fr[l],r,n,s,a);else if(l){var u=function(e,t){var i=Br[e.id()],r=null;if(void 0===i||null===i)return r=t(e),Br[e.id()]=[[t,r]],r;for(var n=0;n<i.length;n++){var s=i[n],a=s[0],o=s[1];a===t&&(r=o)}null===r&&(r=t(e),i.push([t,r]));return r}(n,l);if(!u.setSource)return s.push(u),e(t,h,r,n,s,a);u.setSource(Ve({},t),function(i,o){if(i)return e(t,h,r,n,s,a);s.push(u),e(o,t.type===o.type?h:Fr[o.type],r,n,s,a)})}else h.length?e(t,h,r,n,s,a):a?r(t,s):e(t,Fr["*"],r,n,s,!0)}(t,Fr[t.type],i,e)},1)}function jr(e,t,i,r){void 0===r&&(r=null);var n="call"+ci(i),s=e.reduce(Hr(n),r),a=s===Nr,o=a?null:t[i](s);return function(e,t,i,r){for(var n=e.length-1;n>=0;n--){var s=e[n];s[t]&&s[t](r,i)}}(e,i,o,a),o}var Vr={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},zr={setCurrentTime:1,setMuted:1,setVolume:1},Gr={play:1,pause:1};function Hr(e){return function(t,i){return t===Nr?Nr:i[e]?i[e](t):t}}var $r={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},qr=function(e){void 0===e&&(e="");var t=Tr(e);return $r[t.toLowerCase()]||""};function Wr(e){if(!e.type){var t=qr(e.src);t&&(e.type=t)}return e}var Xr=function(e){function t(t,i,r){var n,s=di({createEl:!1},i);if(n=e.call(this,t,s,r)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)t.src(i.playerOptions.sources);else for(var a=0,o=i.playerOptions.techOrder;a<o.length;a++){var l=ci(o[a]),h=Rr.getTech(l);if(l||(h=vi.getComponent(l)),h&&h.isSupported()){t.loadTech_(l);break}}return n}return d()(t,e),t}(vi);vi.registerComponent("MediaLoader",Xr);var Yr=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).emitTapEvents(),r.enable(),r}d()(t,e);var i=t.prototype;return i.createEl=function(t,i,r){void 0===t&&(t="div"),void 0===i&&(i={}),void 0===r&&(r={}),i=Ve({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},i),"button"===t&&Fe.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=Ve({role:"button"},r),this.tabIndex_=i.tabIndex;var n=e.prototype.createEl.call(this,t,i,r);return this.createControlTextEl(n),n},i.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},i.createControlTextEl=function(e){return this.controlTextEl_=Qe("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},i.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var i=this.localize(e);this.controlText_=e,Je(this.controlTextEl_,i),this.nonIconControl||t.setAttribute("title",i)},i.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},i.handleLanguagechange=function(){this.controlText(this.controlText_)},i.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(t){g.a.isEventKey(t,"Space")||g.a.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(vi);vi.registerComponent("ClickableComponent",Yr);var Kr=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).update(),t.on("posterchange",Xt(u()(r),r.update)),r}d()(t,e);var i=t.prototype;return i.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},i.createEl=function(){return Qe("div",{className:"vjs-poster",tabIndex:-1})},i.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},i.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},i.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(Di||Ai)&&t||this.player_.tech(!0).focus(),this.player_.paused()?Zi(this.player_.play()):this.player_.pause()}},t}(Yr);vi.registerComponent("PosterImage",Kr);var Qr={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Jr(e,t){var i;if(4===e.length)i=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");i=e.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function Zr(e,t,i){try{e.style[t]=i}catch(e){return}}var en=function(e){function t(t,i,r){var s;s=e.call(this,t,i,r)||this;var a=Xt(u()(s),s.updateDisplay);return t.on("loadstart",Xt(u()(s),s.toggleDisplay)),t.on("texttrackchange",a),t.on("loadedmetadata",Xt(u()(s),s.preselectTrack)),t.ready(Xt(u()(s),function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",a),t.on("playerresize",a),n.a.addEventListener("orientationchange",a),t.on("dispose",function(){return n.a.removeEventListener("orientationchange",a)});for(var e=this.options_.playerOptions.tracks||[],i=0;i<e.length;i++)this.player_.addRemoteTextTrack(e[i],!0);this.preselectTrack()}})),s}d()(t,e);var i=t.prototype;return i.preselectTrack=function(){for(var e,t,i,r={captions:1,subtitles:1},n=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,a=0;a<n.length;a++){var o=n[a];s&&s.enabled&&s.language&&s.language===o.language&&o.kind in r?o.kind===s.kind?i=o:i||(i=o):s&&!s.enabled?(i=null,e=null,t=null):o.default&&("descriptions"!==o.kind||e?o.kind in r&&!t&&(t=o):e=o)}i?i.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof n.a.WebVTT&&n.a.WebVTT.processCues(n.a,[],this.el_)},i.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var i=[],r=0;r<e.length;++r){var n=e[r];"showing"===n.mode&&i.push(n)}this.updateForTrack(i)}else{for(var s=null,a=null,o=e.length;o--;){var l=e[o];"showing"===l.mode&&("descriptions"===l.kind?s=l:a=l)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):s&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(s))}},i.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),i=e.activeCues,r=i.length;r--;){var s=i[r];if(s){var a=s.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&Zr(a.firstChild,"color",Jr(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Zr(a.firstChild,"backgroundColor",Jr(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Zr(a,"backgroundColor",Jr(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var o=n.a.parseFloat(a.style.fontSize);a.style.fontSize=o*t.fontPercent+"px",a.style.height="auto",a.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Qr[t.fontFamily])}}},i.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof n.a.WebVTT&&!e.every(function(e){return!e.activeCues})){for(var t=[],i=0;i<e.length;++i)for(var r=e[i],s=0;s<r.activeCues.length;++s)t.push(r.activeCues[s]);n.a.WebVTT.processCues(n.a,t,this.el_);for(var a=0;a<e.length;++a){for(var o=e[a],l=0;l<o.activeCues.length;++l){var h=o.activeCues[l].displayState;tt(h,"vjs-text-track-cue"),tt(h,"vjs-text-track-cue-"+(o.language?o.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(o)}}},t}(vi);vi.registerComponent("TextTrackDisplay",en);var tn=function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),i=this.localize(t?"Audio Player":"Video Player"),r=Qe("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[i])}),n=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(r),n},t}(vi);vi.registerComponent("LoadingSpinner",tn);var rn=function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var i=t.prototype;return i.createEl=function(e,t,i){void 0===t&&(t={}),void 0===i&&(i={}),t=Ve({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),i=Ve({type:"button"},i);var r=vi.prototype.createEl.call(this,"button",t,i);return this.createControlTextEl(r),r},i.addChild=function(e,t){void 0===t&&(t={});var i=this.constructor.name;return Fe.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),vi.prototype.addChild.call(this,e,t)},i.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(t){g.a.isEventKey(t,"Space")||g.a.isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(Yr);vi.registerComponent("Button",rn);var nn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var i=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Zi(t),void(!this.player_.tech(!0)||(Di||Ai)&&i||this.player_.tech(!0).focus())}var r=this.player_.getChild("controlBar"),n=r&&r.getChild("playToggle");if(n){var s=function(){return n.focus()};Ji(t)?t.then(s,function(){}):this.setTimeout(s,1)}else this.player_.tech(!0).focus()},i.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},i.handleMouseDown=function(e){this.mouseused_=!0},t}(rn);nn.prototype.controlText_="Play Video",vi.registerComponent("BigPlayButton",nn);var sn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).controlText(i&&i.controlText||r.localize("Close")),r}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},i.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(t){g.a.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(rn);vi.registerComponent("CloseButton",sn);var an=function(e){function t(t,i){var r;return void 0===i&&(i={}),r=e.call(this,t,i)||this,i.replay=void 0===i.replay||i.replay,r.on(t,"play",r.handlePlay),r.on(t,"pause",r.handlePause),i.replay&&r.on(t,"ended",r.handleEnded),r}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},i.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},i.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(rn);an.prototype.controlText_="Play",vi.registerComponent("PlayToggle",an);var on=function(e,t){e=e<0?0:e;var i=Math.floor(e%60),r=Math.floor(e/60%60),n=Math.floor(e/3600),s=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(n=r=i="-"),(n=n>0||a>0?n+":":"")+(r=((n||s>=10)&&r<10?"0"+r:r)+":")+(i=i<10?"0"+i:i)},ln=on;function hn(e,t){return void 0===t&&(t=e),ln(e,t)}var un=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).on(t,["timeupdate","ended"],r.updateContent),r.updateTextNode_(),r}d()(t,e);var i=t.prototype;return i.createEl=function(){var t=this.buildCSSClass(),i=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"</span>"});return this.contentEl_=Qe("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),i.appendChild(this.contentEl_),i},i.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},i.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=hn(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(t.contentEl_){var e=t.textNode_;e&&t.contentEl_.firstChild!==e&&(e=null,Fe.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=a.a.createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}}))},i.updateContent=function(e){},t}(vi);un.prototype.labelText_="Time",un.prototype.controlText_="Time",vi.registerComponent("TimeDisplay",un);var cn=function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(un);cn.prototype.labelText_="Current Time",cn.prototype.controlText_="Current Time",vi.registerComponent("CurrentTimeDisplay",cn);var dn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).on(t,"durationchange",r.updateContent),r.on(t,"loadstart",r.updateContent),r.on(t,"loadedmetadata",r.updateContent),r}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(un);dn.prototype.labelText_="Duration",dn.prototype.controlText_="Duration",vi.registerComponent("DurationDisplay",dn);var pn=function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(vi);vi.registerComponent("TimeDivider",pn);var fn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).on(t,"durationchange",r.updateContent),r}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var t=e.prototype.createEl.call(this);return t.insertBefore(Qe("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},i.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(un);fn.prototype.labelText_="Remaining Time",fn.prototype.controlText_="Remaining Time",vi.registerComponent("RemainingTimeDisplay",fn);var mn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}d()(t,e);var i=t.prototype;return i.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Qe("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},i.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},i.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(vi);vi.registerComponent("LiveDisplay",mn);var gn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).updateLiveEdgeStatus(),r.player_.liveTracker&&r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatus),r}d()(t,e);var i=t.prototype;return i.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Qe("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,e.prototype.dispose.call(this)},t}(rn);gn.prototype.controlText_="Seek to live, currently playing live",vi.registerComponent("SeekToLive",gn);var vn=function(e,t,i){return e=Number(e),Math.min(i,Math.max(t,isNaN(e)?t:e))},yn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}d()(t,e);var i=t.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(t,i,r){return void 0===i&&(i={}),void 0===r&&(r={}),i.className=i.className+" vjs-slider",i=Ve({tabIndex:0},i),r=Ve({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,i,r)},i.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Pi||e.preventDefault(),ht(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},i.handleMouseMove=function(e){},i.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;ut(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},i.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_?t:(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",function(){var i=e.vertical()?"height":"width";e.bar.el().style[i]=(100*t).toFixed(2)+"%"}),t)}},i.getProgress=function(){return Number(vn(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(e){var t=pt(this.el_,e);return this.vertical()?t.y:t.x},i.handleKeyDown=function(t){g.a.isEventKey(t,"Left")||g.a.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):g.a.isEventKey(t,"Right")||g.a.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},i.handleClick=function(e){e.stopPropagation(),e.preventDefault()},i.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(vi);vi.registerComponent("Slider",yn);var _n=function(e,t){return vn(e/t*100,0,100).toFixed(2)+"%"},bn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).partEls_=[],r.on(t,"progress",r.update),r}d()(t,e);var i=t.prototype;return i.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),i=Qe("span",{className:"vjs-control-text"}),r=Qe("span",{textContent:this.localize("Loaded")}),n=a.a.createTextNode(": ");return this.percentageEl_=Qe("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(i),i.appendChild(r),i.appendChild(n),i.appendChild(this.percentageEl_),t},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},i.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var e=t.player_.liveTracker,i=t.player_.buffered(),r=e&&e.isLive()?e.seekableEnd():t.player_.duration(),n=t.player_.bufferedEnd(),s=t.partEls_,a=_n(n,r);t.percent_!==a&&(t.el_.style.width=a,Je(t.percentageEl_,a),t.percent_=a);for(var o=0;o<i.length;o++){var l=i.start(o),h=i.end(o),u=s[o];u||(u=t.el_.appendChild(Qe()),s[o]=u),u.dataset.start===l&&u.dataset.end===h||(u.dataset.start=l,u.dataset.end=h,u.style.left=_n(l,n),u.style.width=_n(h-l,n))}for(var c=s.length;c>i.length;c--)t.el_.removeChild(s[c-1]);s.length=i.length})},t}(vi);vi.registerComponent("LoadProgressBar",bn);var Tn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).update=Yt(Xt(u()(r),r.update),Wt),r}d()(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(e,t,i){var r=dt(this.el_),n=ct(this.player_.el()),s=e.width*t;if(n&&r){var a=e.left-n.left+s,o=e.width-s+(n.right-e.right),l=r.width/2;a<l?l+=l-a:o<l&&(l=o),l<0?l=0:l>r.width&&(l=r.width),l=Math.round(l),this.el_.style.right="-"+l+"px",this.write(i)}},i.write=function(e){Je(this.el_,e)},i.updateTime=function(e,t,i,r){var n=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var s,a=n.player_.duration();if(n.player_.liveTracker&&n.player_.liveTracker.isLive()){var o=n.player_.liveTracker.liveWindow(),l=o-t*o;s=(l<1?"":"-")+hn(l,o)}else s=hn(i,a);n.update(e,t,s),r&&r()})},t}(vi);vi.registerComponent("TimeTooltip",Tn);var Sn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).update=Yt(Xt(u()(r),r.update),Wt),r}d()(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(e,t){var i=this.getChild("timeTooltip");if(i){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,t,r)}},t}(vi);Sn.prototype.options_={children:[]},Bi||wi||Sn.prototype.options_.children.push("timeTooltip"),vi.registerComponent("PlayProgressBar",Sn);var En=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).update=Yt(Xt(u()(r),r.update),Wt),r}d()(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(e,t){var i=this,r=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,r,function(){i.el_.style.left=e.width*t+"px"})},t}(vi);En.prototype.options_={children:["timeTooltip"]},vi.registerComponent("MouseTimeDisplay",En);var wn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).setEventHandlers_(),r}d()(t,e);var i=t.prototype;return i.setEventHandlers_=function(){this.update_=Xt(this,this.update),this.update=Yt(this.update_,Wt),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in a.a&&"visibilityState"in a.a&&this.on(a.a,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(e){a.a.hidden?this.disableInterval_(e):(this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Wt))},i.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(t){var i=this,r=e.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var e=i.player_.ended()?i.player_.duration():i.getCurrentTime_(),t=i.player_.liveTracker,n=i.player_.duration();t&&t.isLive()&&(n=i.player_.liveTracker.liveCurrentTime()),i.percent_!==r&&(i.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),i.percent_=r),i.currentTime_===e&&i.duration_===n||(i.el_.setAttribute("aria-valuetext",i.localize("progress bar timing: currentTime={1} duration={2}",[hn(e,n),hn(n,n)],"{1} of {2}")),i.currentTime_=e,i.duration_=n),i.bar&&i.bar.update(ct(i.el()),i.getProgress())}),r},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var e,t=this.getCurrentTime_(),i=this.player_.liveTracker;return i&&i.isLive()?(e=(t-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},i.handleMouseDown=function(t){_t(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},i.handleMouseMove=function(e){if(_t(e)){var t,i=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){if(i>=.99)return void r.seekToLiveEdge();var n=r.seekableStart(),s=r.liveCurrentTime();if((t=n+i*r.liveWindow())>=s&&(t=s),t<=n&&(t=n+.1),t===1/0)return}else(t=i*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},i.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},i.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},i.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Zi(this.player_.play()):this.update_()},i.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},i.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},i.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(t){if(g.a.isEventKey(t,"Space")||g.a.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(g.a.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(0);else if(g.a.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(g()(t))){t.preventDefault(),t.stopPropagation();var i=10*(g.a.codes[g()(t)]-g.a.codes[0])/100;this.player_.currentTime(this.player_.duration()*i)}else g.a.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):g.a.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in a.a&&"visibilityState"in a.a&&this.off(a.a,"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(yn);wn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Bi||wi||wn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),vi.registerComponent("SeekBar",wn);var Cn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).handleMouseMove=Yt(Xt(u()(r),r.handleMouseMove),Wt),r.throttledHandleMouseSeek=Yt(Xt(u()(r),r.handleMouseSeek),Wt),r.enable(),r}d()(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var i=t.getChild("playProgressBar"),r=t.getChild("mouseTimeDisplay");if(i||r){var n=t.el(),s=dt(n),a=pt(n,e).x;a=vn(a,0,1),r&&r.update(s,a),i&&i.update(s,t.getProgress())}}},i.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},i.enabled=function(){return this.enabled_},i.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},i.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.handleMouseDown=function(e){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},i.handleMouseUp=function(e){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(vi);Cn.prototype.options_={children:["seekBar"]},vi.registerComponent("ProgressControl",Cn);var xn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],r.handlePictureInPictureChange),r.on(t,["disablepictureinpicturechanged","loadedmetadata"],r.handlePictureInPictureEnabledChange),r.disable(),r}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){a.a.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},i.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(rn);xn.prototype.controlText_="Picture-in-Picture",vi.registerComponent("PictureInPictureToggle",xn);var kn=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).on(t,"fullscreenchange",r.handleFullscreenChange),!1===a.a[t.fsApi_.fullscreenEnabled]&&r.disable(),r}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(rn);kn.prototype.controlText_="Fullscreen",vi.registerComponent("FullscreenToggle",kn);var An=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Pn=function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(vi);vi.registerComponent("VolumeLevel",Pn);var In=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).on("slideractive",r.updateLastVolume_),r.on(t,"volumechange",r.updateARIAAttributes),t.ready(function(){return r.updateARIAAttributes()}),r}d()(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(t){_t(t)&&e.prototype.handleMouseDown.call(this,t)},i.handleMouseMove=function(e){_t(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},i.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},i.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},t}(yn);In.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},In.prototype.playerEvent="volumechange",vi.registerComponent("VolumeBar",In);var Dn=function(e){function t(t,i){var r;return void 0===i&&(i={}),i.vertical=i.vertical||!1,(void 0===i.volumeBar||Ge(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),r=e.call(this,t,i)||this,An(u()(r),t),r.throttledHandleMouseMove=Yt(Xt(u()(r),r.handleMouseMove),Wt),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")}),r}d()(t,e);var i=t.prototype;return i.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},i.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},i.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},i.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(vi);Dn.prototype.options_={children:["volumeBar"]},vi.registerComponent("VolumeControl",Dn);var Mn=function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Ln=function(e){function t(t,i){var r;return r=e.call(this,t,i)||this,Mn(u()(r),t),r.on(t,["loadstart","volumechange"],r.update),r}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},i.handleClick=function(e){var t=this.player_.volume(),i=this.player_.lastVolume_();if(0===t){var r=i<.1?.1:i;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(e){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var e=this.player_.volume(),t=3;Bi&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var i=0;i<4;i++)it(this.el_,"vjs-vol-"+i);tt(this.el_,"vjs-vol-"+t)},i.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(rn);Ln.prototype.controlText_="Mute",vi.registerComponent("MuteToggle",Ln);var On=function(e){function t(t,i){var r;return void 0===i&&(i={}),void 0!==i.inline?i.inline=i.inline:i.inline=!0,(void 0===i.volumeControl||Ge(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),(r=e.call(this,t,i)||this).on(t,["loadstart"],r.volumePanelState_),r.on(r.muteToggle,"keyup",r.handleKeyPress),r.on(r.volumeControl,"keyup",r.handleVolumeControlKeyUp),r.on("keydown",r.handleKeyPress),r.on("mouseover",r.handleMouseOver),r.on("mouseout",r.handleMouseOut),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}d()(t,e);var i=t.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},i.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(e){g.a.isEventKey(e,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(e){this.addClass("vjs-hover"),jt(a.a,"keyup",Xt(this,this.handleKeyPress))},i.handleMouseOut=function(e){this.removeClass("vjs-hover"),Vt(a.a,"keyup",Xt(this,this.handleKeyPress))},i.handleKeyPress=function(e){g.a.isEventKey(e,"Esc")&&this.handleMouseOut()},t}(vi);On.prototype.options_={children:["muteToggle","volumeControl"]},vi.registerComponent("VolumePanel",On);var Rn=function(e){function t(t,i){var r;return r=e.call(this,t,i)||this,i&&(r.menuButton_=i.menuButton),r.focusedChild_=-1,r.on("keydown",r.handleKeyDown),r.boundHandleBlur_=Xt(u()(r),r.handleBlur),r.boundHandleTapClick_=Xt(u()(r),r.handleTapClick),r}d()(t,e);var i=t.prototype;return i.addEventListenerForItem=function(e){e instanceof vi&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(e){e instanceof vi&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},i.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},i.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=Qe(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),jt(i,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),i},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},i.handleBlur=function(e){var t=e.relatedTarget||a.a.activeElement;if(!this.children().some(function(e){return e.el()===t})){var i=this.menuButton_;i&&i.buttonPressed_&&t!==i.el().firstChild&&i.unpressButton()}},i.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var i=t.filter(function(t){return t.el()===e.target})[0];if(!i)return;"CaptionSettingsMenuItem"!==i.name()&&this.menuButton_.focus()}},i.handleKeyDown=function(e){g.a.isEventKey(e,"Left")||g.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(g.a.isEventKey(e,"Right")||g.a.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},i.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},i.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},i.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(vi);vi.registerComponent("Menu",Rn);var Fn=function(e){function t(t,i){var r;void 0===i&&(i={}),(r=e.call(this,t,i)||this).menuButton_=new rn(t,i),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var n=rn.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+n,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"keydown",r.handleKeyDown),r.on(r.menuButton_,"mouseenter",function(){r.addClass("vjs-hover"),r.menu.show(),jt(a.a,"keyup",Xt(u()(r),r.handleMenuKeyUp))}),r.on("mouseleave",r.handleMouseLeave),r.on("keydown",r.handleSubmenuKeyDown),r}d()(t,e);var i=t.prototype;return i.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var e=new Rn(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=Qe("li",{className:"vjs-menu-title",innerHTML:ci(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var i=new vi(this.player_,{el:t});e.addItem(i)}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},i.createItems=function(){},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+rn.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},i.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},i.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},i.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(e){this.removeClass("vjs-hover"),Vt(a.a,"keyup",Xt(this,this.handleMenuKeyUp))},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(e){g.a.isEventKey(e,"Esc")||g.a.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),g.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(g.a.isEventKey(e,"Up")||g.a.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(e){(g.a.isEventKey(e,"Esc")||g.a.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},i.handleSubmenuKeyDown=function(e){(g.a.isEventKey(e,"Esc")||g.a.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),g.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Bi&&Ye())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(vi);vi.registerComponent("MenuButton",Fn);var Bn=function(e){function t(t,i){var r,n=i.tracks;if((r=e.call(this,t,i)||this).items.length<=1&&r.hide(),!n)return u()(r);var s=Xt(u()(r),r.update);return n.addEventListener("removetrack",s),n.addEventListener("addtrack",s),n.addEventListener("labelchange",s),r.player_.on("ready",s),r.player_.on("dispose",function(){n.removeEventListener("removetrack",s),n.removeEventListener("addtrack",s),n.removeEventListener("labelchange",s)}),r}return d()(t,e),t}(Fn);vi.registerComponent("TrackButton",Bn);var Nn=["Tab","Esc","Up","Down","Right","Left"],Un=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).selectable=i.selectable,r.isSelected_=i.selected||!1,r.multiSelectable=i.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}d()(t,e);var i=t.prototype;return i.createEl=function(t,i,r){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",Ve({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},i),r)},i.handleKeyDown=function(t){Nn.some(function(e){return g.a.isEventKey(t,e)})||e.prototype.handleKeyDown.call(this,t)},i.handleClick=function(e){this.selected(!0)},i.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Yr);vi.registerComponent("MenuItem",Un);var jn=function(e){function t(t,i){var r,s=i.track,o=t.textTracks();i.label=s.label||s.language||"Unknown",i.selected="showing"===s.mode,(r=e.call(this,t,i)||this).track=s,r.kinds=(i.kinds||[i.kind||r.track.kind]).filter(Boolean);var l,h=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.handleTracksChange.apply(u()(r),t)},c=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.handleSelectedLanguageChange.apply(u()(r),t)};(t.on(["loadstart","texttrackchange"],h),o.addEventListener("change",h),o.addEventListener("selectedlanguagechange",c),r.on("dispose",function(){t.off(["loadstart","texttrackchange"],h),o.removeEventListener("change",h),o.removeEventListener("selectedlanguagechange",c)}),void 0===o.onchange)&&r.on(["tap","click"],function(){if("object"!=typeof n.a.Event)try{l=new n.a.Event("change")}catch(e){}l||(l=a.a.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(l)});return r.handleTracksChange(),r}d()(t,e);var i=t.prototype;return i.handleClick=function(t){var i=this.track,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var n=0;n<r.length;n++){var s=r[n];-1!==this.kinds.indexOf(s.kind)&&(s===i?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}},i.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},i.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(Un);vi.registerComponent("TextTrackMenuItem",jn);var Vn=function(e){function t(t,i){return i.track={player:t,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,e.call(this,t,i)||this}d()(t,e);var i=t.prototype;return i.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!0,r=0,n=t.length;r<n;r++){var s=t[r];if(this.options_.kinds.indexOf(s.kind)>-1&&"showing"===s.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},i.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),i=!0,r=0,n=t.length;r<n;r++){var s=t[r];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&"showing"===s.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(jn);vi.registerComponent("OffTextTrackMenuItem",Vn);var zn=function(e){function t(t,i){return void 0===i&&(i={}),i.tracks=t.textTracks(),e.call(this,t,i)||this}return d()(t,e),t.prototype.createItems=function(e,t){var i;void 0===e&&(e=[]),void 0===t&&(t=jn),this.label_&&(i=this.label_+" off"),e.push(new Vn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var n=0;n<r.length;n++){var s=r[n];if(this.kinds_.indexOf(s.kind)>-1){var a=new t(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+s.kind+"-menu-item"),e.push(a)}}return e},t}(Bn);vi.registerComponent("TextTrackButton",zn);var Gn=function(e){function t(t,i){var r,n=i.track,s=i.cue,a=t.currentTime();return i.selectable=!0,i.multiSelectable=!1,i.label=s.text,i.selected=s.startTime<=a&&a<s.endTime,(r=e.call(this,t,i)||this).track=n,r.cue=s,n.addEventListener("cuechange",Xt(u()(r),r.update)),r}d()(t,e);var i=t.prototype;return i.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},i.update=function(e){var t=this.cue,i=this.player_.currentTime();this.selected(t.startTime<=i&&i<t.endTime)},t}(Un);vi.registerComponent("ChaptersTrackMenuItem",Gn);var Hn=function(e){function t(t,i,r){return e.call(this,t,i,r)||this}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},i.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},i.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},i.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var i=e[t];if(i.kind===this.kind_)return i}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ci(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},i.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var i=0,r=t.length;i<r;i++){var n=t[i],s=new Gn(this.player_,{track:this.track_,cue:n});e.push(s)}return e},t}(zn);Hn.prototype.kind_="chapters",Hn.prototype.controlText_="Chapters",vi.registerComponent("ChaptersButton",Hn);var $n=function(e){function t(t,i,r){var n;n=e.call(this,t,i,r)||this;var s=t.textTracks(),a=Xt(u()(n),n.handleTracksChange);return s.addEventListener("change",a),n.on("dispose",function(){s.removeEventListener("change",a)}),n}d()(t,e);var i=t.prototype;return i.handleTracksChange=function(e){for(var t=this.player().textTracks(),i=!1,r=0,n=t.length;r<n;r++){var s=t[r];if(s.kind!==this.kind_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(zn);$n.prototype.kind_="descriptions",$n.prototype.controlText_="Descriptions",vi.registerComponent("DescriptionsButton",$n);var qn=function(e){function t(t,i,r){return e.call(this,t,i,r)||this}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(zn);qn.prototype.kind_="subtitles",qn.prototype.controlText_="Subtitles",vi.registerComponent("SubtitlesButton",qn);var Wn=function(e){function t(t,i){var r;return i.track={player:t,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",(r=e.call(this,t,i)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+i.kind+" settings dialog"),r}return d()(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(jn);vi.registerComponent("CaptionSettingsMenuItem",Wn);var Xn=function(e){function t(t,i,r){return e.call(this,t,i,r)||this}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Wn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(zn);Xn.prototype.kind_="captions",Xn.prototype.controlText_="Captions",vi.registerComponent("CaptionsButton",Xn);var Yn=function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.createEl=function(t,i,r){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(n+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),n+="</span>",e.prototype.createEl.call(this,t,Ve({innerHTML:n},i),r)},t}(jn);vi.registerComponent("SubsCapsMenuItem",Yn);var Kn=function(e){function t(t,i){var r;return void 0===i&&(i={}),(r=e.call(this,t,i)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(ci(r.label_)),r}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Wn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,Yn)},t}(zn);Kn.prototype.kinds_=["captions","subtitles"],Kn.prototype.controlText_="Subtitles",vi.registerComponent("SubsCapsButton",Kn);var Qn=function(e){function t(t,i){var r,n=i.track,s=t.audioTracks();i.label=n.label||n.language||"Unknown",i.selected=n.enabled,(r=e.call(this,t,i)||this).track=n,r.addClass("vjs-"+n.kind+"-menu-item");var a=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];r.handleTracksChange.apply(u()(r),t)};return s.addEventListener("change",a),r.on("dispose",function(){s.removeEventListener("change",a)}),r}d()(t,e);var i=t.prototype;return i.createEl=function(t,i,r){var n='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(n+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),n+="</span>",e.prototype.createEl.call(this,t,Ve({innerHTML:n},i),r)},i.handleClick=function(t){var i=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var r=0;r<i.length;r++){var n=i[r];n.enabled=n===this.track}},i.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(Un);vi.registerComponent("AudioTrackMenuItem",Qn);var Jn=function(e){function t(t,i){return void 0===i&&(i={}),i.tracks=t.audioTracks(),e.call(this,t,i)||this}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),i=0;i<t.length;i++){var r=t[i];e.push(new Qn(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e},t}(Bn);Jn.prototype.controlText_="Audio Track",vi.registerComponent("AudioTrackButton",Jn);var Zn=function(e){function t(t,i){var r,n=i.rate,s=parseFloat(n,10);return i.label=n,i.selected=1===s,i.selectable=!0,i.multiSelectable=!1,(r=e.call(this,t,i)||this).label=n,r.rate=s,r.on(t,"ratechange",r.update),r}d()(t,e);var i=t.prototype;return i.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(Un);Zn.prototype.contentElType="button",vi.registerComponent("PlaybackRateMenuItem",Zn);var es=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).updateVisibility(),r.updateLabel(),r.on(t,"loadstart",r.updateVisibility),r.on(t,"ratechange",r.updateLabel),r}d()(t,e);var i=t.prototype;return i.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=Qe("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},i.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},i.createMenu=function(){var e=new Rn(this.player()),t=this.playbackRates();if(t)for(var i=t.length-1;i>=0;i--)e.addChild(new Zn(this.player(),{rate:t[i]+"x"}));return e},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(e){for(var t=this.player().playbackRate(),i=this.playbackRates(),r=i[0],n=0;n<i.length;n++)if(i[n]>t){r=i[n];break}this.player().playbackRate(r)},i.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(Fn);es.prototype.controlText_="Playback Rate",vi.registerComponent("PlaybackRateMenuButton",es);var ts=function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(vi);vi.registerComponent("Spacer",ts);var is=function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},i.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="",t},t}(ts);vi.registerComponent("CustomControlSpacer",is);var rs=function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(vi);rs.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in a.a&&rs.prototype.options_.children.splice(rs.prototype.options_.children.length-1,0,"pictureInPictureToggle"),vi.registerComponent("ControlBar",rs);var ns=function(e){function t(t,i){var r;return(r=e.call(this,t,i)||this).on(t,"error",r.open),r}d()(t,e);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},i.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(nr);ns.prototype.options_=l()({},nr.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),vi.registerComponent("ErrorDisplay",ns);var ss=["#000","Black"],as=["#00F","Blue"],os=["#0FF","Cyan"],ls=["#0F0","Green"],hs=["#F0F","Magenta"],us=["#F00","Red"],cs=["#FFF","White"],ds=["#FF0","Yellow"],ps=["1","Opaque"],fs=["0.5","Semi-Transparent"],ms=["0","Transparent"],gs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ss,cs,us,ls,as,ds,hs,os]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ps,fs,ms]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[cs,ss,us,ls,as,ds,hs,os]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ps,fs]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[ms,fs,ps]}};function vs(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}gs.windowColor.options=gs.backgroundColor.options;var ys=function(e){function t(t,i){var r;return i.temporary=!1,(r=e.call(this,t,i)||this).updateDisplay=Xt(u()(r),r.updateDisplay),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=Qe("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===i.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.close()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),je(gs,function(e){r.on(r.$(e.selector),"change",r.updateDisplay)}),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}d()(t,e);var i=t.prototype;return i.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},i.createElSelect_=function(e,t,i){var r=this;void 0===t&&(t=""),void 0===i&&(i="label");var n=gs[e],s=n.id.replace("%s",this.id_),a=[t,s].join(" ").trim();return["<"+i+' id="'+s+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(n.label),"</"+i+">",'<select aria-labelledby="'+a+'">'].concat(n.options.map(function(e){var t=s+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',r.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},i.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return Qe("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return Qe("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var e=this.localize("restore all settings to the default values");return Qe("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var e,t,i,r=this;return e=gs,t=function(e,t,i){var n,s,a=(n=r.$(t.selector),s=t.parser,vs(n.options[n.options.selectedIndex].value,s));return void 0!==a&&(e[i]=a),e},void 0===(i={})&&(i=0),Ue(e).reduce(function(i,r){return t(i,e[r],r)},i)},i.setValues=function(e){var t=this;je(gs,function(i,r){!function(e,t,i){if(t)for(var r=0;r<e.options.length;r++)if(vs(e.options[r].value,i)===t){e.selectedIndex=r;break}}(t.$(i.selector),e[r],i.parser)})},i.setDefaults=function(){var e=this;je(gs,function(t){var i=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=i})},i.restoreSettings=function(){var e;try{e=JSON.parse(n.a.localStorage.getItem("vjs-text-track-settings"))}catch(e){Fe.warn(e)}e&&this.setValues(e)},i.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?n.a.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):n.a.localStorage.removeItem("vjs-text-track-settings")}catch(e){Fe.warn(e)}}},i.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,i=e&&e.captionsButton;t?t.focus():i&&i.focus()},t}(nr);vi.registerComponent("TextTrackSettings",ys);var _s=function(e){function t(t,i){var r,s=i.ResizeObserver||n.a.ResizeObserver;null===i.ResizeObserver&&(s=!1);var a=di({createEl:!s,reportTouchActivity:!1},i);return(r=e.call(this,t,a)||this).ResizeObserver=i.ResizeObserver||n.a.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=Kt(function(){r.resizeHandler()},100,!1,u()(r)),s?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(t.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var e=r.debouncedHandler_,t=r.unloadListener_=function(){Vt(this,"resize",e),Vt(this,"unload",t),t=null};jt(r.el_.contentWindow,"unload",t),jt(r.el_.contentWindow,"resize",e)}},r.one("load",r.loadListener_)),r}d()(t,e);var i=t.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},i.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(vi);vi.registerComponent("ResizeManager",_s);var bs={trackingThreshold:30,liveTolerance:15},Ts=function(e){function t(t,i){var r,n=di(bs,i,{createEl:!1});return(r=e.call(this,t,n)||this).reset_(),r.on(r.player_,"durationchange",r.handleDurationchange),Di&&"hidden"in a.a&&"visibilityState"in a.a&&r.on(a.a,"visibilitychange",r.handleVisibilityChange),r}d()(t,e);var i=t.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(a.a.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(n.a.performance.now().toFixed(4)),i=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+i;var r=this.liveCurrentTime(),s=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-s)>this.options_.liveTolerance;this.timeupdateSeen_&&r!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}},i.handleDurationchange=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,Wt),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},i.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&e>2,this.skipNextSeeked_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},i.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},i.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],i=e?e.length:0;i--;)t.push(e.end(i));return t.length?t.sort()[t.length-1]:1/0},i.seekableStart=function(){for(var e=this.player_.seekable(),t=[],i=e?e.length:0;i--;)t.push(e.start(i));return t.length?t.sort()[0]:0},i.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return"number"==typeof this.trackingInterval_},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(a.a,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),e.prototype.dispose.call(this)},t}(vi);vi.registerComponent("LiveTracker",Ts);var Ss,Es=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var i=e.$$("source"),r=[],n="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var a=i[s].src;a&&-1===r.indexOf(a)&&r.push(a)}return!!r.length&&(1===r.length&&(n=r[0]),e.triggerSourceset(n),!0)},ws=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=a.a.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var i=a.a.createDocumentFragment();t.childNodes.length;)i.appendChild(t.childNodes[0]);return this.innerText="",n.a.Element.prototype.appendChild.call(this,i),this.innerHTML}}),Cs=function(e,t){for(var i={},r=0;r<e.length&&!((i=Object.getOwnPropertyDescriptor(e[r],t))&&i.set&&i.get);r++);return i.enumerable=!0,i.configurable=!0,i},xs=function(e){var t=e.el();if(!t.resetSourceWatch_){var i={},r=function(e){return Cs([e.el(),n.a.HTMLMediaElement.prototype,n.a.Element.prototype,ws],"innerHTML")}(e),s=function(i){return function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=i.apply(t,n);return Es(e),a}};["append","appendChild","insertAdjacentHTML"].forEach(function(e){t[e]&&(i[e]=t[e],t[e]=s(i[e]))}),Object.defineProperty(t,"innerHTML",di(r,{set:s(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(i).forEach(function(e){t[e]=i[e]}),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},ks=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?br(n.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return n.a.Element.prototype.setAttribute.call(this,"src",e),e}}),As=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var i=function(e){return Cs([e.el(),n.a.HTMLMediaElement.prototype,ks],"src")}(e),r=t.setAttribute,s=t.load;Object.defineProperty(t,"src",di(i,{set:function(r){var n=i.set.call(t,r);return e.triggerSourceset(t.src),n}})),t.setAttribute=function(i,n){var s=r.call(t,i,n);return/src/i.test(i)&&e.triggerSourceset(t.src),s},t.load=function(){var i=s.call(t);return Es(e)||(e.triggerSourceset(""),xs(e)),i},t.currentSrc?e.triggerSourceset(t.currentSrc):Es(e)||xs(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=s,t.setAttribute=r,Object.defineProperty(t,"src",i),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},Ps=function(e,t,i,r){void 0===r&&(r=!0);var n=function(i){return Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var e=i();return n(e),e}};return r&&(s.set=n),Object.defineProperty(e,t,s)},Is=function(e){function t(t,i){var r;r=e.call(this,t,i)||this;var n=t.source,s=!1;if(n&&(r.el_.currentSrc!==n.src||t.tag&&3===t.tag.initNetworkState_)?r.setSource(n):r.handleLateInit_(r.el_),t.enableSourceset&&r.setupSourcesetHandling_(),r.isScrubbing_=!1,r.el_.hasChildNodes()){for(var a=r.el_.childNodes,o=a.length,l=[];o--;){var h=a[o];"track"===h.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(h),r.remoteTextTracks().addTrack(h.track),r.textTracks().addTrack(h.track),s||r.el_.hasAttribute("crossorigin")||!Sr(h.src)||(s=!0)):l.push(h))}for(var u=0;u<l.length;u++)r.el_.removeChild(l[u])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&s&&Fe.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),r.restoreMetadataTracksInIOSNativePlayer_(),(Oi||Fi||xi)&&!0===t.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}d()(t,e);var i=t.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){As(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),i=function(){e=[];for(var i=0;i<t.length;i++){var r=t[i];"metadata"===r.kind&&e.push({track:r,storedMode:r.mode})}};i(),t.addEventListener("change",i),this.on("dispose",function(){return t.removeEventListener("change",i)});var r=function i(){for(var r=0;r<e.length;r++){var n=e[r];"disabled"===n.track.mode&&n.track.mode!==n.storedMode&&(n.track.mode=n.storedMode)}t.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",i),t.removeEventListener("change",r),t.addEventListener("change",r)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",r)})},i.overrideNative_=function(e,t){var i=this;if(t===this["featuresNative"+e+"Tracks"]){var r=e.toLowerCase();this[r+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach(function(e){i.el()[r+"Tracks"].removeEventListener(e,i[r+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r)}},i.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},i.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},i.proxyNativeTracksForType_=function(e){var t=this,i=Mr[e],r=this.el()[i.getterName],n=this[i.getterName]();if(this["featuresNative"+i.capitalName+"Tracks"]&&r&&r.addEventListener){var s={change:function(i){var r={type:"change",target:n,currentTarget:n,srcElement:n};n.trigger(r),"text"===e&&t[Lr.remoteText.getterName]().trigger(r)},addtrack:function(e){n.addTrack(e.track)},removetrack:function(e){n.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<n.length;t++){for(var i=!1,s=0;s<r.length;s++)if(r[s]===n[t]){i=!0;break}i||e.push(n[t])}for(;e.length;)n.removeTrack(e.shift())};this[i.getterName+"Listeners_"]=s,Object.keys(s).forEach(function(e){var i=s[e];r.addEventListener(e,i),t.on("dispose",function(t){return r.removeEventListener(e,i)})}),this.on("loadstart",a),this.on("dispose",function(e){return t.off("loadstart",a)})}},i.proxyNativeTracks_=function(){var e=this;Mr.names.forEach(function(t){e.proxyNativeTracksForType_(t)})},i.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),t.disposeMediaElement(e),e=i}else{e=a.a.createElement("video");var r=di({},this.options_.tag&&st(this.options_.tag));Oi&&!0===this.options_.nativeControlsForTouch||delete r.controls,nt(e,Ve(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&ot(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var n=["loop","muted","playsinline","autoplay"],s=0;s<n.length;s++){var o=n[s],l=this.options_[o];void 0!==l&&(l?ot(e,o,o):lt(e,o),e[o]=l)}return e},i.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,i=function(){t=!0};this.on("loadstart",i);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",r),t||this.trigger("loadstart")})}var n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(e){this.trigger(e)},this)})}},i.setScrubbing=function(e){this.isScrubbing_=e},i.scrubbing=function(){return this.isScrubbing_},i.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&Ni?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){Fe(e,"Video is not ready. (Video.js)")}},i.duration=function(){var e=this;if(this.el_.duration===1/0&&wi&&Pi&&0===this.el_.currentTime){return this.on("timeupdate",function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))}),NaN}return this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){e.off("webkitbeginfullscreen",i),e.off("webkitendfullscreen",t)})}},i.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=n.a.navigator&&n.a.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},i.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Zi(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},i.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},i.reset=function(){t.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(e){this.el_.controls=!!e},i.addTextTrack=function(t,i,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,i,r):e.prototype.addTextTrack.call(this,t,i,r)},i.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var i=a.a.createElement("track");return t.kind&&(i.kind=t.kind),t.label&&(i.label=t.label),(t.language||t.srclang)&&(i.srclang=t.language||t.srclang),t.default&&(i.default=t.default),t.id&&(i.id=t.id),t.src&&(i.src=t.src),i},i.addRemoteTextTrack=function(t,i){var r=e.prototype.addRemoteTextTrack.call(this,t,i);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},i.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var i=this.$$("track"),r=i.length;r--;)t!==i[r]&&t!==i[r].track||this.el().removeChild(i[r])},i.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),n.a.performance&&"function"==typeof n.a.performance.now?e.creationTime=n.a.performance.now():n.a.performance&&n.a.performance.timing&&"number"==typeof n.a.performance.timing.navigationStart&&(e.creationTime=n.a.Date.now()-n.a.performance.timing.navigationStart),e},t}(Rr);Ps(Is,"TEST_VID",function(){if(We()){var e=a.a.createElement("video"),t=a.a.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}}),Is.isSupported=function(){try{Is.TEST_VID.volume=.5}catch(e){return!1}return!(!Is.TEST_VID||!Is.TEST_VID.canPlayType)},Is.canPlayType=function(e){return Is.TEST_VID.canPlayType(e)},Is.canPlaySource=function(e,t){return Is.canPlayType(e.type)},Is.canControlVolume=function(){try{var e=Is.TEST_VID.volume;return Is.TEST_VID.volume=e/2+.1,e!==Is.TEST_VID.volume}catch(e){return!1}},Is.canMuteVolume=function(){try{var e=Is.TEST_VID.muted;return Is.TEST_VID.muted=!e,Is.TEST_VID.muted?ot(Is.TEST_VID,"muted","muted"):lt(Is.TEST_VID,"muted"),e!==Is.TEST_VID.muted}catch(e){return!1}},Is.canControlPlaybackRate=function(){if(wi&&Pi&&Ii<58)return!1;try{var e=Is.TEST_VID.playbackRate;return Is.TEST_VID.playbackRate=e/2+.1,e!==Is.TEST_VID.playbackRate}catch(e){return!1}},Is.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(a.a.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(a.a.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(a.a.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(a.a.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Is.supportsNativeTextTracks=function(){return Ni||Bi&&Pi},Is.supportsNativeVideoTracks=function(){return!(!Is.TEST_VID||!Is.TEST_VID.videoTracks)},Is.supportsNativeAudioTracks=function(){return!(!Is.TEST_VID||!Is.TEST_VID.audioTracks)},Is.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(e){var t=e[0],i=e[1];Ps(Is.prototype,t,function(){return Is[i]()},!0)}),Is.prototype.movingMediaElementInDOM=!Bi,Is.prototype.featuresFullscreenResize=!0,Is.prototype.featuresProgressEvents=!0,Is.prototype.featuresTimeupdateEvents=!0,Is.patchCanPlayType=function(){Ci>=4&&!ki&&!Pi&&(Ss=Is.TEST_VID&&Is.TEST_VID.constructor.prototype.canPlayType,Is.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":Ss.call(this,e)})},Is.unpatchCanPlayType=function(){var e=Is.TEST_VID.constructor.prototype.canPlayType;return Ss&&(Is.TEST_VID.constructor.prototype.canPlayType=Ss),e},Is.patchCanPlayType(),Is.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Is.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),i=t.length;i--;)e.removeChild(t[i]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Is.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){Is.prototype["set"+ci(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(e){Is.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(e){Is.prototype["set"+ci(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){Is.prototype[e]=function(){return this.el_[e]()}}),Rr.withSourceHandlers(Is),Is.nativeSourceHandler={},Is.nativeSourceHandler.canPlayType=function(e){try{return Is.TEST_VID.canPlayType(e)}catch(e){return""}},Is.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Is.nativeSourceHandler.canPlayType(e.type);if(e.src){var i=Tr(e.src);return Is.nativeSourceHandler.canPlayType("video/"+i)}return""},Is.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},Is.nativeSourceHandler.dispose=function(){},Is.registerSourceHandler(Is.nativeSourceHandler),Rr.registerTech("Html5",Is);var Ds=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Ms={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Ls=["tiny","xsmall","small","medium","large","xlarge","huge"],Os={};Ls.forEach(function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;Os[e]="vjs-layout-"+t});var Rs={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Fs=function(e){function t(i,r,n){var s;if(i.id=i.id||r.id||"vjs_video_"+Mt(),(r=Ve(t.getTagSettings(i),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof i.closest){var o=i.closest("[lang]");o&&o.getAttribute&&(r.language=o.getAttribute("lang"))}else for(var l=i;l&&1===l.nodeType;){if(st(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}if((s=e.call(this,null,r,n)||this).boundDocumentFullscreenChange_=function(e){return s.documentFullscreenChange_(e)},s.boundFullWindowOnEscKey_=function(e){return s.fullWindowOnEscKey(e)},s.isFullscreen_=!1,s.log=Be(s.id_),s.fsApi_=$i,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&st(i),s.language(s.options_.language),r.languages){var h={};Object.getOwnPropertyNames(r.languages).forEach(function(e){h[e.toLowerCase()]=r.languages[e]}),s.languages_=h}else s.languages_=t.prototype.options_.languages;s.resetCache_(),s.poster_=r.poster||"",s.controls_=!!r.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(e){if("function"!=typeof s[e])throw new Error('plugin "'+e+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),oi(u()(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(jt(a.a,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on(["playerreset","resize"],s.updateStyleEl_);var c=di(s.options_);r.plugins&&Object.keys(r.plugins).forEach(function(e){s[e](r.plugins[e])}),r.debug&&s.debug(!0),s.options_.playerOptions=c,s.middleware_=[],s.initChildren(),s.isAudio("audio"===i.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),Oi&&s.addClass("vjs-touch-enabled"),Bi||s.addClass("vjs-workinghover"),t.players[s.id_]=u()(s);var d=Le.split(".")[0];return s.addClass("vjs-v"+d),s.userActive(!0),s.reportUserActivity(),s.one("play",s.listenForUserActivity_),s.on("stageclick",s.handleStageClick_),s.on("keydown",s.handleKeyDown),s.on("languagechange",s.handleLanguagechange),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}d()(t,e);var i=t.prototype;return i.dispose=function(){var i=this;this.trigger("dispose"),this.off("dispose"),Vt(a.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Vt(a.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Br[this.id()]=null,Or.names.forEach(function(e){var t=Or[e],r=i[t.getterName]();r&&r.off&&r.off()}),e.prototype.dispose.call(this)},i.createEl=function(){var t,i=this.tag,r=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),s="video-js"===this.tag.tagName.toLowerCase();r?t=this.el_=i.parentNode:s||(t=this.el_=e.prototype.createEl.call(this,"div"));var o=st(i);if(s){for(t=this.el_=i,i=this.tag=a.a.createElement("video");t.children.length;)i.appendChild(t.firstChild);et(t,"video-js")||tt(t,"video-js"),t.appendChild(i),r=this.playerElIngest_=t,Object.keys(t).forEach(function(e){try{i[e]=t[e]}catch(e){}})}if(i.setAttribute("tabindex","-1"),o.tabindex="-1",(Di||Pi&&Li)&&(i.setAttribute("role","application"),o.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(e){s&&"class"===e||t.setAttribute(e,o[e]),s&&i.setAttribute(e,o[e])}),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",i.player=t.player=this,this.addClass("vjs-paused"),!0!==n.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Pt("vjs-styles-dimensions");var l=Tt(".vjs-styles-defaults"),h=Tt("head");h.insertBefore(this.styleEl_,l?l.nextSibling:h.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var u=i.getElementsByTagName("a"),c=0;c<u.length;c++){var d=u.item(c);tt(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!r&&i.parentNode.insertBefore(t,i),Ze(i,t),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_=t,t},i.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):Fe.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},i.width=function(e){return this.dimension("width",e)},i.height=function(e){return this.dimension("height",e)},i.dimension=function(e,t){var i=e+"_";if(void 0===t)return this[i]||0;if(""===t||"auto"===t)return this[i]=void 0,void this.updateStyleEl_();var r=parseFloat(t);isNaN(r)?Fe.error('Improper value "'+t+'" supplied for for '+e):(this[i]=r,this.updateStyleEl_())},i.fluid=function(e){var t,i,r=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,Zt(this)&&this.off(["playerreset","resize"],this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),i=function(){r.on(["playerreset","resize"],r.updateStyleEl_)},Zt(t=this)?i():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(i))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},i.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},i.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){if(!0!==n.a.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,i,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),s=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/s:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*s,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),It(this.styleEl_,"\n      ."+i+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*s+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,o="number"==typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(a>=0&&(l.width=a),o>=0&&(l.height=o))}},i.loadTech_=function(e,t){var i=this;this.tech_&&this.unloadTech_();var r=ci(e),n=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(Rr.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var s={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+n+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Or.names.forEach(function(e){var t=Or[e];s[t.getterName]=i[t.privateName]}),Ve(s,this.options_[r]),Ve(s,this.options_[n]),Ve(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var a=Rr.getTech(e);if(!a)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new a(s),this.tech_.ready(Xt(this,this.handleTechReady_),!0),ir(this.textTracksJson_||[],this.tech_),Ds.forEach(function(e){i.on(i.tech_,e,i["handleTech"+ci(e)+"_"])}),Object.keys(Ms).forEach(function(e){i.on(i.tech_,e,function(t){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+Ms[e]+"_"].bind(i),event:t}):i["handleTech"+Ms[e]+"_"](t)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||Ze(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var e=this;Or.names.forEach(function(t){var i=Or[t];e[i.privateName]=e[i.getterName]()}),this.textTracksJson_=tr(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},i.tech=function(e){return void 0===e&&Fe.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},i.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var i,r=function(){var e=t.muted();t.muted(!0);var i=function(){t.muted(e)};t.playTerminatedQueue_.push(i);var r=t.play();if(Ji(r))return r.catch(i)};if("any"===e&&!0!==this.muted()?Ji(i=this.play())&&(i=i.catch(r)):i="muted"===e&&!0!==this.muted()?r():this.play(),Ji(i))return i.then(function(){t.trigger({type:"autoplay-success",autoplay:e})}).catch(function(i){t.trigger({type:"autoplay-failure",autoplay:e})})}},i.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,i="";"string"!=typeof t&&(t=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!i&&(i=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(function(e){return e.src===t});if(i.length)return i[0].type;for(var r=e.$$("source"),n=0;n<r.length;n++){var s=r[n];if(s.type&&s.src&&s.src===t)return s.type}return qr(t)}(this,t)),this.cache_.source=di({},e,{src:t,type:i});for(var r=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),n=[],s=this.$$("source"),a=[],o=0;o<s.length;o++){var l=st(s[o]);n.push(l),l.src&&l.src===t&&a.push(l.src)}a.length&&!r.length?this.cache_.sources=n:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},i.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var i=function(e){return t.updateSourceCaches_(e)},r=this.currentSource().src,n=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(n)&&(!this.lastSource_||this.lastSource_.tech!==n&&this.lastSource_.player!==r)&&(i=function(){}),i(n),e.src||this.tech_.any(["sourceset","loadstart"],function(e){if("sourceset"!==e.type){var i=t.techGet("currentSrc");t.lastSource_.tech=i,t.updateSourceCaches_(i)}})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},i.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},i.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},i.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",function i(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",i))})},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(Fe.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},i.handleTechClick_=function(e){_t(e)&&this.controls_&&(this.paused()?Zi(this.play()):this.pause())},i.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(t){return t.contains(e.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var i=this.el(),r=a.a[this.fsApi_.fullscreenElement]===i;!r&&i.matches?r=i.matches(":"+this.fsApi_.fullscreen):!r&&i.msMatchesSelector&&(r=i.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}},i.handleTechFullscreenChange_=function(e,t){t&&(t.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(t.isFullscreen))},i.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},i.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var e=this.tech_.error();this.error(e)},i.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},i.techCall_=function(e,t){this.ready(function(){if(e in zr)return function(e,t,i,r){return t[i](e.reduce(Hr(i),r))}(this.middleware_,this.tech_,e,t);if(e in Gr)return jr(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw Fe(e),e}},!0)},i.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Vr)return function(e,t,i){return e.reduceRight(Hr(i),t[i]())}(this.middleware_,this.tech_,e);if(e in Gr)return jr(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw Fe("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw Fe("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw Fe(t),t}}},i.play=function(){var e=this,t=this.options_.Promise||n.a.Promise;return t?new t(function(t){e.play_(t)}):this.play_()},i.play_=function(e){var t=this;void 0===e&&(e=Zi),this.playCallbacks_.push(e);var i=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(i||!Ni&&!Bi||this.load());var r=this.techGet_("play");null===r?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)},i.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})},i.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(t){t(e)})},i.pause=function(){this.techCall_("pause")},i.paused=function(){return!1!==this.techGet_("paused")},i.played=function(){return this.techGet_("played")||zi(0,0)},i.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},i.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=zi(0,0)),e},i.bufferedPercent=function(){return Gi(this.buffered(),this.duration())},i.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),i=e.end(e.length-1);return i>t&&(i=t),i},i.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},i.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},i.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},i.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},i.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},i.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},i.requestFullscreen=function(e){var t=this.options_.Promise||n.a.Promise;if(t){var i=this;return new t(function(t,r){function n(){i.off("fullscreenerror",a),i.off("fullscreenchange",s)}function s(){n(),t()}function a(e,t){n(),r(t)}i.one("fullscreenchange",s),i.one("fullscreenerror",a);var o=i.requestFullscreenHelper_(e);if(o)return o.then(n,n),o})}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(e){var t,i=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var r=this.el_[this.fsApi_.requestFullscreen](t);return r&&r.then(function(){return i.isFullscreen(!0)},function(){return i.isFullscreen(!1)}),r}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},i.exitFullscreen=function(){var e=this.options_.Promise||n.a.Promise;if(e){var t=this;return new e(function(e,i){function r(){t.off("fullscreenerror",s),t.off("fullscreenchange",n)}function n(){r(),e()}function s(e,t){r(),i(t)}t.one("fullscreenchange",n),t.one("fullscreenerror",s);var a=t.exitFullscreenHelper_();if(a)return a.then(r,r),a})}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=a.a[this.fsApi_.exitFullscreen]();return t&&t.then(function(){return e.isFullscreen(!1)}),t}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=a.a.documentElement.style.overflow,jt(a.a,"keydown",this.boundFullWindowOnEscKey_),a.a.documentElement.style.overflow="hidden",tt(a.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(e){g.a.isEventKey(e,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Vt(a.a,"keydown",this.boundFullWindowOnEscKey_),a.a.documentElement.style.overflow=this.docOrigOverflow,it(a.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},i.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if("pictureInPictureEnabled"in a.a&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},i.exitPictureInPicture=function(){if("pictureInPictureEnabled"in a.a)return a.a.exitPictureInPicture()},i.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){(function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},i.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},i=t.fullscreenKey,r=void 0===i?function(e){return g.a.isEventKey(e,"f")}:i,n=t.muteKey,s=void 0===n?function(e){return g.a.isEventKey(e,"m")}:n,o=t.playPauseKey,l=void 0===o?function(e){return g.a.isEventKey(e,"k")||g.a.isEventKey(e,"Space")}:o;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();var h=vi.getComponent("FullscreenToggle");!1!==a.a[this.fsApi_.fullscreenEnabled]&&h.prototype.handleClick.call(this,e)}else if(s.call(this,e)){e.preventDefault(),e.stopPropagation(),vi.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(l.call(this,e)){e.preventDefault(),e.stopPropagation(),vi.getComponent("PlayToggle").prototype.handleClick.call(this,e)}},i.canPlayType=function(e){for(var t,i=0,r=this.options_.techOrder;i<r.length;i++){var n=r[i],s=Rr.getTech(n);if(s||(s=vi.getComponent(n)),s){if(s.isSupported()&&(t=s.canPlayType(e)))return t}else Fe.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.')}return""},i.selectSource=function(e){var t,i=this,r=this.options_.techOrder.map(function(e){return[e,Rr.getTech(e)]}).filter(function(e){var t=e[0],i=e[1];return i?i.isSupported():(Fe.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),n=function(e,t,i){var r;return e.some(function(e){return t.some(function(t){if(r=i(e,t))return!0})}),r},s=function(e,t){var r=e[0];if(e[1].canPlaySource(t,i.options_[r.toLowerCase()]))return{source:t,tech:r}};return(this.options_.sourceOrder?n(e,r,(t=s,function(e,i){return t(i,e)})):n(r,e,s))||!1},i.src=function(e){var t=this;if(void 0===e)return this.cache_.src||"";var i=function e(t){if(Array.isArray(t)){var i=[];t.forEach(function(t){t=e(t),Array.isArray(t)?i=i.concat(t):ze(t)&&i.push(t)}),t=i}else t="string"==typeof t&&t.trim()?[Wr({src:t})]:ze(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Wr(t)]:[];return t}(e);i.length?(this.changingSrc_=!0,this.cache_.sources=i,this.updateSourceCaches_(i[0]),Ur(this,i[0],function(e,r){var n,s;if(t.middleware_=r,t.cache_.sources=i,t.updateSourceCaches_(e),t.src_(e))return i.length>1?t.src(i.slice(1)):(t.changingSrc_=!1,t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady());n=r,s=t.tech_,n.forEach(function(e){return e.setTech&&e.setTech(s)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},i.src_=function(e){var t,i,r=this,n=this.selectSource([e]);return!n||(t=n.tech,i=this.techName_,ci(t)!==ci(i)?(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(function(){r.changingSrc_=!1}),!1):(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1))},i.load=function(){this.techCall_("load")},i.reset=function(){var e=this,t=this.options_.Promise||n.a.Promise;this.paused()||!t?this.doReset_():Zi(this.play().then(function(){return e.doReset_()}))},i.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Zt(this)&&this.trigger("playerreset")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,i=e.remainingTimeDisplay;t&&t.updateContent(),i&&i.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},i.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentType=function(){return this.currentSource()&&this.currentSource().type||""},i.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},i.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},i.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},i.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},i.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},i.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},i.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},i.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},i.error=function(e){if(void 0===e)return this.error_||null;if(this.options_.suppressNotSupportedError&&e&&4===e.code){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",function(){this.off(["click","touchstart"],t)})}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Ki(e),this.addClass("vjs-error"),Fe.error("(CODE:"+this.error_.code+" "+Ki.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},i.reportUserActivity=function(e){this.userActivity_=!0},i.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},i.listenForUserActivity_=function(){var e,t,i,r=Xt(this,this.reportUserActivity),n=function(t){r(),this.clearInterval(e)};this.on("mousedown",function(){r(),this.clearInterval(e),e=this.setInterval(r,250)}),this.on("mousemove",function(e){e.screenX===t&&e.screenY===i||(t=e.screenX,i=e.screenY,r())}),this.on("mouseup",n),this.on("mouseleave",n);var s,a=this.getChild("controlBar");!a||Bi||wi||(a.on("mouseenter",function(e){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),a.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e<=0||(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},i.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},i.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},i.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},i.addTextTrack=function(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)},i.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},i.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},i.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Zt(this)&&this.trigger("languagechange"))},i.languages=function(){return di(t.prototype.options_.languages,this.languages_)},i.toJSON=function(){var e=di(this.options_),t=e.tracks;e.tracks=[];for(var i=0;i<t.length;i++){var r=t[i];(r=di(r)).player=void 0,e.tracks[i]=r}return e},i.createModal=function(e,t){var i=this;(t=t||{}).content=e||"";var r=new nr(this,t);return this.addChild(r),r.on("dispose",function(){i.removeChild(r)}),r.open(),r},i.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),i=0;i<Ls.length;i++){var r=Ls[i];if(t<=this.breakpoints_[r]){if(e===r)return;e&&this.removeClass(Os[e]),this.addClass(Os[r]),this.breakpoint_=r;break}}},i.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},i.breakpoints=function(e){return void 0===e?Ve(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Ve({},Rs,e),this.updateCurrentBreakpoint_(),Ve(this.breakpoints_))},i.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return Os[this.breakpoint_]||""},i.loadMedia=function(e,t){var i=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=di(e);var r=this.cache_.media,n=r.artwork,s=r.poster,a=r.src,o=r.textTracks;!n&&s&&(this.cache_.media.artwork=[{src:s,type:qr(s)}]),a&&this.src(a),s&&this.poster(s),Array.isArray(o)&&o.forEach(function(e){return i.addRemoteTextTrack(e,!1)}),this.ready(t)}},i.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}})};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:qr(t.poster)}]),t}return di(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},i=st(e),r=i["data-setup"];if(et(e,"vjs-fill")&&(i.fill=!0),et(e,"vjs-fluid")&&(i.fluid=!0),null!==r){var n=f()(r||"{}"),s=n[0],a=n[1];s&&Fe.error(s),Ve(i,a)}if(Ve(t,i),e.hasChildNodes())for(var o=e.childNodes,l=0,h=o.length;l<h;l++){var u=o[l],c=u.nodeName.toLowerCase();"source"===c?t.sources.push(st(u)):"track"===c&&t.tracks.push(st(u))}return t},i.flexNotSupported_=function(){var e=a.a.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},i.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},t}(vi);Or.names.forEach(function(e){var t=Or[e];Fs.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),Fs.prototype.crossorigin=Fs.prototype.crossOrigin,Fs.players={};var Bs=n.a.navigator;Fs.prototype.options_={techOrder:Rr.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Bs&&(Bs.languages&&Bs.languages[0]||Bs.userLanguage||Bs.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){Fs.prototype[e]=function(){return this.techGet_(e)}}),Ds.forEach(function(e){Fs.prototype["handleTech"+ci(e)+"_"]=function(){return this.trigger(e)}}),vi.registerComponent("Player",Fs);var Ns={},Us=function(e){return Ns.hasOwnProperty(e)},js=function(e){return Us(e)?Ns[e]:void 0},Vs=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},zs=function(e,t,i){var r=(i?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},Gs=function(e,t){return t.prototype.name=e,function(){zs(this,{name:e,plugin:t,instance:null},!0);for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];var s=S()(t,[this].concat(r));return this[e]=function(){return s},zs(this,s.getEventHash()),s}},Hs=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),oi(this),delete this.trigger,hi(this,this.constructor.defaultState),Vs(t,this.name),this.dispose=Xt(this,this.dispose),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),zt(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=Gs(e,Ns[e])},e.isBasic=function(t){var i="string"==typeof t?js(t):t;return"function"==typeof i&&!e.prototype.isPrototypeOf(i.prototype)},e.registerPlugin=function(t,i){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(Us(t))Fe.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Fs.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof i)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof i+".");return Ns[t]=i,"plugin"!==t&&(e.isBasic(i)?Fs.prototype[t]=function(e,t){var i=function(){zs(this,{name:e,plugin:t,instance:null},!0);var i=t.apply(this,arguments);return Vs(this,e),zs(this,{name:e,plugin:t,instance:i}),i};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i}(t,i):Fs.prototype[t]=Gs(t,i)),i},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");Us(e)&&(delete Ns[e],delete Fs.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(Ns)),e.forEach(function(e){var i=js(e);i&&((t=t||{})[e]=i)}),t},e.getPluginVersion=function(e){var t=js(e);return t&&t.VERSION||""},e}();Hs.getPlugin=js,Hs.BASE_PLUGIN_NAME="plugin",Hs.registerPlugin("plugin",Hs),Fs.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},Fs.prototype.hasPlugin=function(e){return!!Us(e)};var $s=function(e){return 0===e.indexOf("#")?e.slice(1):e};function qs(e,t,i){var r=qs.getPlayer(e);if(r)return t&&Fe.warn('Player "'+e+'" is already initialised. Options will not be applied.'),i&&r.ready(i),r;var n="string"==typeof e?Tt("#"+$s(e)):e;if(!Xe(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");n.ownerDocument.defaultView&&n.ownerDocument.body.contains(n)||Fe.warn("The element supplied is not included in the DOM"),t=t||{},qs.hooks("beforesetup").forEach(function(e){var i=e(n,di(t));ze(i)&&!Array.isArray(i)?t=di(t,i):Fe.error("please return an object in beforesetup hooks")});var s=vi.getComponent("Player");return r=new s(n,t,i),qs.hooks("setup").forEach(function(e){return e(r)}),r}if(qs.hooks_={},qs.hooks=function(e,t){return qs.hooks_[e]=qs.hooks_[e]||[],t&&(qs.hooks_[e]=qs.hooks_[e].concat(t)),qs.hooks_[e]},qs.hook=function(e,t){qs.hooks(e,t)},qs.hookOnce=function(e,t){qs.hooks(e,[].concat(t).map(function(t){return function i(){return qs.removeHook(e,i),t.apply(void 0,arguments)}}))},qs.removeHook=function(e,t){var i=qs.hooks(e).indexOf(t);return!(i<=-1)&&(qs.hooks_[e]=qs.hooks_[e].slice(),qs.hooks_[e].splice(i,1),!0)},!0!==n.a.VIDEOJS_NO_DYNAMIC_STYLE&&We()){var Ws=Tt(".vjs-styles-defaults");if(!Ws){Ws=Pt("vjs-styles-defaults");var Xs=Tt("head");Xs&&Xs.insertBefore(Ws,Xs.firstChild),It(Ws,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}xt(1,qs),qs.VERSION=Le,qs.options=Fs.prototype.options_,qs.getPlayers=function(){return Fs.players},qs.getPlayer=function(e){var t,i=Fs.players;if("string"==typeof e){var r=$s(e),n=i[r];if(n)return n;t=Tt("#"+r)}else t=e;if(Xe(t)){var s=t,a=s.player,o=s.playerId;if(a||i[o])return a||i[o]}},qs.getAllPlayers=function(){return Object.keys(Fs.players).map(function(e){return Fs.players[e]}).filter(Boolean)},qs.players=Fs.players,qs.getComponent=vi.getComponent,qs.registerComponent=function(e,t){Rr.isTech(t)&&Fe.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),vi.registerComponent.call(vi,e,t)},qs.getTech=Rr.getTech,qs.registerTech=Rr.registerTech,qs.use=function(e,t){Fr[e]=Fr[e]||[],Fr[e].push(t)},Object.defineProperty(qs,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(qs.middleware,"TERMINATOR",{value:Nr,writeable:!1,enumerable:!0}),qs.browser=Ui,qs.TOUCH_ENABLED=Oi,qs.extend=function(e,t){void 0===t&&(t={});var i=function(){e.apply(this,arguments)},r={};for(var n in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(i=t.constructor),r=t):"function"==typeof t&&(i=t),w()(i,e),e&&(i.super_=e),r)r.hasOwnProperty(n)&&(i.prototype[n]=r[n]);return i},qs.mergeOptions=di,qs.bind=Xt,qs.registerPlugin=Hs.registerPlugin,qs.deregisterPlugin=Hs.deregisterPlugin,qs.plugin=function(e,t){return Fe.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Hs.registerPlugin(e,t)},qs.getPlugins=Hs.getPlugins,qs.getPlugin=Hs.getPlugin,qs.getPluginVersion=Hs.getPluginVersion,qs.addLanguage=function(e,t){var i;return e=(""+e).toLowerCase(),qs.options.languages=di(qs.options.languages,((i={})[e]=t,i)),qs.options.languages[e]},qs.log=Fe,qs.createLogger=Be,qs.createTimeRange=qs.createTimeRanges=zi,qs.formatTime=hn,qs.setFormatTime=function(e){ln=e},qs.resetFormatTime=function(){ln=on},qs.parseUrl=_r,qs.isCrossOrigin=Sr,qs.EventTarget=Qt,qs.on=jt,qs.one=Gt,qs.off=Vt,qs.trigger=zt,qs.xhr=y.a,qs.TextTrack=xr,qs.AudioTrack=kr,qs.VideoTrack=Ar,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){qs[e]=function(){return Fe.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Et[e].apply(null,arguments)}}),qs.computedStyle=He,qs.dom=Et,qs.url=Er,qs.defineLazyProperty=Ps;
/*! @name @videojs/http-streaming @version 2.4.2 @license Apache-2.0 */
var Ys,Ks=x.a,Qs=function(e,t,i){return e&&i&&i.responseURL&&t!==i.responseURL?i.responseURL:t},Js=qs.log,Zs=function(e,t){return e+"-"+t},ea=function(e){var t=e.manifestString,i=e.customTagParsers,r=void 0===i?[]:i,n=e.customTagMappers,s=void 0===n?[]:n,a=new O;return r.forEach(function(e){return a.addParser(e)}),s.forEach(function(e){return a.addTagMapper(e)}),a.push(t),a.end(),a.manifest},ta=function(e,t){["AUDIO","SUBTITLES"].forEach(function(i){for(var r in e.mediaGroups[i])for(var n in e.mediaGroups[i][r]){var s=e.mediaGroups[i][r][n];t(s,i,r,n)}})},ia=function(e){var t=e.playlist,i=e.uri,r=e.id;t.id=r,i&&(t.uri=i),t.attributes=t.attributes||{}},ra=function(e,t){e.uri=t;for(var i=0;i<e.playlists.length;i++)if(!e.playlists[i].uri){var r="placeholder-uri-"+i;e.playlists[i].uri=r}ta(e,function(t,i,r,n){if(t.playlists&&t.playlists.length&&!t.playlists[0].uri){var s="placeholder-uri-"+i+"-"+r+"-"+n,a=Zs(0,s);t.playlists[0].uri=s,t.playlists[0].id=a,e.playlists[a]=t.playlists[0],e.playlists[s]=t.playlists[0]}}),function(e){for(var t=e.playlists.length;t--;){var i=e.playlists[t];ia({playlist:i,id:Zs(t,i.uri)}),i.resolvedUri=Ks(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||Js.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(e),function(e){ta(e,function(t){t.uri&&(t.resolvedUri=Ks(e.uri,t.uri))})}(e)},na=qs.mergeOptions,sa=function(e,t){e.resolvedUri||(e.resolvedUri=Ks(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Ks(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Ks(t,e.map.uri))},aa=function(e,t){var i=na(e,{}),r=i.playlists[t.id];if(!r)return null;if(r.segments&&t.segments&&r.segments.length===t.segments.length&&r.endList===t.endList&&r.mediaSequence===t.mediaSequence)return null;var n=na(r,t);r.segments&&(n.segments=function(e,t,i){var r=t.slice();i=i||0;for(var n=Math.min(e.length,t.length+i),s=i;s<n;s++)r[s-i]=na(e[s],r[s-i]);return r}(r.segments,t.segments,t.mediaSequence-r.mediaSequence)),n.segments.forEach(function(e){sa(e,n.resolvedUri)});for(var s=0;s<i.playlists.length;s++)i.playlists[s].id===t.id&&(i.playlists[s]=n);return i.playlists[t.id]=n,i.playlists[t.uri]=n,i},oa=function(e,t){var i=e.segments[e.segments.length-1];return t&&i&&i.duration?1e3*i.duration:500*(e.targetDuration||10)},la=function(e){function t(t,i,r){var n;if(void 0===r&&(r={}),n=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");var s=r,a=s.withCredentials,o=void 0!==a&&a,l=s.handleManifestRedirects,h=void 0!==l&&l;n.src=t,n.vhs_=i,n.withCredentials=o,n.handleManifestRedirects=h;var u=i.options_;return n.customTagParsers=u&&u.customTagParsers||[],n.customTagMappers=u&&u.customTagMappers||[],n.state="HAVE_NOTHING",n.on("mediaupdatetimeout",function(){"HAVE_METADATA"===n.state&&(n.state="HAVE_CURRENT_METADATA",n.request=n.vhs_.xhr({uri:Ks(n.master.uri,n.media().uri),withCredentials:n.withCredentials},function(e,t){if(n.request)return e?n.playlistRequestError(n.request,n.media(),"HAVE_METADATA"):void n.haveMetadata({playlistString:n.request.responseText,url:n.media().uri,id:n.media().id})}))}),n}d()(t,e);var i=t.prototype;return i.playlistRequestError=function(e,t,i){var r=t.uri,n=t.id;this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[n],status:e.status,message:"HLS playlist request error at URL: "+r+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")},i.haveMetadata=function(e){var t=this,i=e.playlistString,r=e.playlistObject,s=e.url,a=e.id;this.request=null,this.state="HAVE_METADATA";var o=r||ea({manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers});o.lastRequest=Date.now(),ia({playlist:o,uri:s,id:a});var l=aa(this.master,o);this.targetDuration=o.targetDuration,l?(this.master=l,this.media_=this.master.playlists[a]):this.trigger("playlistunchanged"),this.media().endList||(n.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=n.a.setTimeout(function(){t.trigger("mediaupdatetimeout")},oa(this.media(),!!l))),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),n.a.clearTimeout(this.mediaUpdateTimeout),n.a.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},i.media=function(e,t){var i=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(n.a.clearTimeout(this.finalRenditionTimeout),t){var r=e.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=n.a.setTimeout(this.media.bind(this,e,!1),r)}else{var s=this.state,a=!this.media_||e.id!==this.media_.id;if(this.master.playlists[e.id].endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),"HAVE_MASTER"===s?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},function(t,r){if(i.request){if(e.lastRequest=Date.now(),e.resolvedUri=Qs(i.handleManifestRedirects,e.resolvedUri,r),t)return i.playlistRequestError(i.request,e,s);i.haveMetadata({playlistString:r.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===s?i.trigger("loadedmetadata"):i.trigger("mediachange")}})}}},i.pause=function(){this.stopRequest(),n.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},i.load=function(e){var t=this;n.a.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(e){var r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=n.a.setTimeout(function(){return t.load()},r)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},i.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=n.a.location.href),this.src.resolvedUri=this.src.uri,void setTimeout(function(){e.setupInitialPlaylist(e.src)},0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(t,i){if(e.request){if(e.request=null,t)return e.error={status:i.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:i.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=Qs(e.handleManifestRedirects,e.src,i);var r=ea({manifestString:i.responseText,customTagParsers:e.customTagParsers,customTagMappers:e.customTagMappers});e.setupInitialPlaylist(r)}})},i.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},i.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,ra(this.master,this.srcUri()),e.playlists.forEach(function(e){e.segments&&e.segments.forEach(function(t){sa(t,e.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var t=this.srcUri()||n.a.location.href;this.master=function(e,t){var i=Zs(0,t),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:n.a.location.href,resolvedUri:n.a.location.href,playlists:[{uri:t,id:i,resolvedUri:t,attributes:{}}]};return r.playlists[i]=r.playlists[0],r.playlists[t]=r.playlists[0],r}(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(qs.EventTarget),ha=function(e,t){var i,r=[];if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&r.push([e.start(i),e.end(i)]);return qs.createTimeRanges(r)},ua=function(e,t){return ha(e,function(e,i){return e-.1<=t&&i+.1>=t})},ca=function(e,t){return ha(e,function(e){return e-1/30>=t})},da=function(e){var t=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)t.push(e.start(i)+" => "+e.end(i));return t.join(", ")},pa=function(e){for(var t=[],i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t},fa=qs.createTimeRange,ma=function(e,t,i){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;var r=function(e,t){var i=0,r=t-e.mediaSequence,n=e.segments[r];if(n){if(void 0!==n.start)return{result:n.start,precise:!0};if(void 0!==n.end)return{result:n.end-n.duration,precise:!0}}for(;r--;){if(void 0!==(n=e.segments[r]).end)return{result:i+n.end,precise:!0};if(i+=n.duration,void 0!==n.start)return{result:i+n.start,precise:!0}}return{result:i,precise:!1}}(e,t);if(r.precise)return r.result;var n=function(e,t){for(var i,r=0,n=t-e.mediaSequence;n<e.segments.length;n++){if(void 0!==(i=e.segments[n]).start)return{result:i.start-r,precise:!0};if(r+=i.duration,void 0!==i.end)return{result:i.end-r,precise:!0}}return{result:-1,precise:!1}}(e,t);return n.precise?n.result:r.result+i},ga=function(e,t,i){if(!e)return 0;if("number"!=typeof i&&(i=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return n.a.Infinity}return ma(e,t,i)},va=function(e,t,i){var r=0;if(t>i){var n=[i,t];t=n[0],i=n[1]}if(t<0){for(var s=t;s<Math.min(0,i);s++)r+=e.targetDuration;t=0}for(var a=t;a<i;a++)r+=e.segments[a].duration;return r},ya=function(e,t){if(!e.segments.length)return 0;var i=e.segments.length,r=e.segments[i-1].duration||e.targetDuration,n="number"==typeof t?t:r+2*e.targetDuration;if(0===n)return i;for(var s=0;i--&&!((s+=e.segments[i].duration)>=n););return Math.max(0,i)},_a=function(e,t,i,r){if(!e||!e.segments)return null;if(e.endList)return ga(e);if(null===t)return null;t=t||0;var n=i?ya(e,r):e.segments.length;return ma(e,e.mediaSequence+n,t)},ba=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Ta=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Sa=function(e){var t=ba(e);return!e.disabled&&!t},Ea=function(e,t){return t.attributes&&t.attributes[e]},wa=function(e,t){if(1===e.playlists.length)return!0;var i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!Sa(e)&&(e.attributes.BANDWIDTH||0)<i}).length},Ca={duration:ga,seekable:function(e,t,i){var r=t||0,n=_a(e,t,!0,i);return null===n?fa():fa(r,n)},safeLiveIndex:ya,getMediaInfoForTime:function(e,t,i,r){var n,s=e.segments.length,a=t-r;if(a<0){if(i>0)for(n=i-1;n>=0;n--)if((a+=e.segments[n].duration+1/30)>0)return{mediaIndex:n,startTime:r-va(e,i,n)};return{mediaIndex:0,startTime:t}}if(i<0){for(n=i;n<0;n++)if((a-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};i=0}for(n=i;n<s;n++)if((a-=e.segments[n].duration+1/30)<0)return{mediaIndex:n,startTime:r+va(e,i,n)};return{mediaIndex:s-1,startTime:t}},isEnabled:Sa,isDisabled:function(e){return e.disabled},isBlacklisted:ba,isIncompatible:Ta,playlistEnd:_a,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:Ea,estimateSegmentRequestTime:function(e,t,i,r){return void 0===r&&(r=0),Ea("BANDWIDTH",i)?(e*i.attributes.BANDWIDTH-8*r)/t:NaN},isLowestEnabledRendition:wa},xa=qs.xhr,ka=qs.mergeOptions,Aa=function(e,t,i,r){var n="arraybuffer"===e.responseType?e.response:e.responseText;!t&&n&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=n.byteLength||n.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===i.statusCode||206===i.statusCode||0===i.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(n||e.responseText)))),r(t,e)},Pa=function(){return function e(t,i){t=ka({timeout:45e3},t);var r=e.beforeRequest||qs.Vhs.xhr.beforeRequest;if(r&&"function"==typeof r){var n=r(t);n&&(t=n)}var s=xa(t,function(e,t){return Aa(s,e,t,i)}),a=s.abort;return s.abort=function(){return s.aborted=!0,a.apply(s,arguments)},s.uri=t.uri,s.requestTime=Date.now(),s}},Ia=function(e){var t,i,r={};return e.byterange&&(r.Range=(t=e.byterange,i=t.offset+t.length-1,"bytes="+t.offset+"-"+i)),r},Da=function(e,t){return e.start(t)+"-"+e.end(t)},Ma=function(e,t){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(t%2?" ":"")},La=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},Oa=function(e){var t={};return Object.keys(e).forEach(function(i){var r=e[i];ArrayBuffer.isView(r)?t[i]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[i]=r}),t},Ra=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},Fa=function(e){return e.resolvedUri},Ba=function(e){for(var t=Array.prototype.slice.call(e),i="",r=0;r<t.length/16;r++)i+=t.slice(16*r,16*r+16).map(Ma).join("")+" "+t.slice(16*r,16*r+16).map(La).join("")+"\n";return i},Na=Object.freeze({__proto__:null,createTransferableMessage:Oa,initSegmentId:Ra,segmentKeyId:Fa,hexDump:Ba,tagDump:function(e){var t=e.bytes;return Ba(t)},textRanges:function(e){var t,i="";for(t=0;t<e.length;t++)i+=Da(e,t)+" ";return i}}),Ua=function(e){var t=e.playlist,i=e.time,r=void 0===i?void 0:i,n=e.callback;if(!n)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===r)return n({message:"getProgramTime: playlist and time must be provided"});var s=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var i,r=0,n=0;n<t.segments.length&&!(e<=(r=(i=t.segments[n]).videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:r+i.duration));n++);var s=t.segments[t.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>r){if(e>r+.25*s.duration)return null;i=s}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:r-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}}(r,t);if(!s)return n({message:"valid programTime was not found"});if("estimate"===s.type)return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var a={mediaSeconds:r},o=function(e,t){if(!t.dateTimeObject)return null;var i=t.videoTimingInfo.transmuxerPrependedSeconds,r=e-(t.videoTimingInfo.transmuxedPresentationStart+i);return new Date(t.dateTimeObject.getTime()+1e3*r)}(r,s.segment);return o&&(a.programDateTime=o.toISOString()),n(null,a)},ja=function e(t){var i=t.programTime,r=t.playlist,n=t.retryCount,s=void 0===n?2:n,a=t.seekTo,o=t.pauseAfterSeek,l=void 0===o||o,h=t.tech,u=t.callback;if(!u)throw new Error("seekToProgramTime: callback must be provided");if(void 0===i||!r||!a)return u({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!h.hasStarted_)return u({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(r))return u({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});var c=function(e,t){var i;try{i=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var r=t.segments[0];if(i<r.dateTimeObject)return null;for(var n=0;n<t.segments.length-1&&(r=t.segments[n],!(i<t.segments[n+1].dateTimeObject));n++);var s,a=t.segments[t.segments.length-1],o=a.dateTimeObject,l=a.videoTimingInfo?(s=a.videoTimingInfo).transmuxedPresentationEnd-s.transmuxedPresentationStart-s.transmuxerPrependedSeconds:a.duration+.25*a.duration;return i>new Date(o.getTime()+1e3*l)?null:(i>o&&(r=a),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Ca.duration(t,t.mediaSequence+t.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})}(i,r);if(!c)return u({message:i+" was not found in the stream"});var d=c.segment,p=function(e,t){var i,r;try{i=new Date(e),r=new Date(t)}catch(e){}var n=i.getTime();return(r.getTime()-n)/1e3}(d.dateTimeObject,i);if("estimate"===c.type)return 0===s?u({message:i+" is not buffered yet. Try again"}):(a(c.estimatedStart+p),void h.one("seeked",function(){e({programTime:i,playlist:r,retryCount:s-1,seekTo:a,pauseAfterSeek:l,tech:h,callback:u})}));var f=d.start+p;h.one("seeked",function(){return u(null,h.currentTime())}),l&&h.pause(),a(f)},Va=function(e,t){if(4===e.readyState)return t()},za=qs.EventTarget,Ga=qs.mergeOptions,Ha=function(e){var t=e.byterange.offset+e.byterange.length-1;return e.uri+"-"+e.byterange.offset+"-"+t},$a=function(e,t){var i,r,n={};for(var s in e){var a=e[s].sidx;if(a){var o=Ha(a);if(!t[o])break;var l=t[o].sidxInfo;i=l,r=a,(Boolean(!i.map&&!r.map)||Boolean(i.map&&r.map&&i.map.byterange.offset===r.map.byterange.offset&&i.map.byterange.length===r.map.byterange.length))&&i.uri===r.uri&&i.byterange.offset===r.byterange.offset&&i.byterange.length===r.byterange.length&&(n[o]=t[o])}}return n},qa=function(e){function t(t,i,r,n){var s;void 0===r&&(r={}),(s=e.call(this)||this).masterPlaylistLoader_=n||u()(s),n||(s.isMaster_=!0);var a=r,o=a.withCredentials,l=void 0!==o&&o,h=a.handleManifestRedirects,c=void 0!==h&&h;if(s.vhs_=i,s.withCredentials=l,s.handleManifestRedirects=c,!t)throw new Error("A non-empty playlist URL or object is required");return s.on("minimumUpdatePeriod",function(){s.refreshXml_()}),s.on("mediaupdatetimeout",function(){s.refreshMedia_(s.media().id)}),s.state="HAVE_NOTHING",s.loadedPlaylists_={},s.isMaster_?(s.masterPlaylistLoader_.srcUrl=t,s.masterPlaylistLoader_.sidxMapping_={}):s.childPlaylist_=t,s}d()(t,e);var i=t.prototype;return i.requestErrored_=function(e,t,i){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,i&&(this.state=i),this.trigger("error"),!0):void 0)},i.addSidxSegments_=function(e,t,i){var r=this,s=e.sidx&&Ha(e.sidx);if(e.sidx&&s&&!this.masterPlaylistLoader_.sidxMapping_[s]){var a=Qs(this.handleManifestRedirects,e.sidx.resolvedUri),o=this.masterPlaylistLoader_.sidxMapping_;o[s]={sidxInfo:e.sidx};var l=function(n,a){if(!r.requestErrored_(n,a,t)){var l=we()(Object(xe.toUint8)(a.response).subarray(8));return o[s].sidx=l,Se(e,l,e.sidx.resolvedUri),i(!0)}};this.request=function(e,t,i){var r,n=[],s=!1,a=function(e,t,r,n){return t.abort(),s=!0,i(e,t,r,n)},o=function(e,t){if(!s){if(e)return a(e,t,"",n);var i=t.responseText.substring(n&&n.byteLength||0,t.responseText.length);if(n=Object(xe.concatTypedArrays)(n,Object(xe.stringToBytes)(i,!0)),r=r||Object(Ce.getId3Offset)(n),n.length<10||r&&n.length<r+2)return Va(t,function(){return a(e,t,"",n)});var o=Object(Ce.detectContainerForBytes)(n);return"ts"===o&&n.length<188?Va(t,function(){return a(e,t,"",n)}):!o&&n.length<376?Va(t,function(){return a(e,t,"",n)}):a(null,t,o,n)}},l=t({uri:e,beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",function(t){return t.total,t.loaded,Aa(e,null,{statusCode:e.status},o)})}},function(e,t){return Aa(l,e,t,o)});return l}(a,this.vhs_.xhr,function(t,i,n,s){if(t)return l(t,i);if(!n||"mp4"!==n)return l({status:i.status,message:"Unsupported "+(n||"unknown")+" container type for sidx segment at URL: "+a,response:"",playlist:e,internal:!0,blacklistDuration:1/0,code:2},i);var o=e.sidx.byterange,h=o.offset,u=o.length;if(s.length>=u+h)return l(t,{response:s.subarray(h,h+u),status:i.status,uri:i.uri});r.request=r.vhs_.xhr({uri:a,responseType:"arraybuffer",headers:Ia({byterange:e.sidx.byterange})},l)})}else this.mediaRequest_=n.a.setTimeout(function(){return i(!1)},0)},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},n.a.clearTimeout(this.minimumUpdatePeriodTimeout_),n.a.clearTimeout(this.mediaRequest_),n.a.clearTimeout(this.mediaUpdateTimeout),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},i.media=function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,i,function(r){t.haveMetadata({startingState:i,playlist:e})}))},i.haveMetadata=function(e){var t=e.startingState,i=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,this.mediaRequest_=null,this.refreshMedia_(i.id),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")},i.pause=function(){this.stopRequest(),n.a.clearTimeout(this.mediaUpdateTimeout),n.a.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)},i.load=function(e){var t=this;n.a.clearTimeout(this.mediaUpdateTimeout),n.a.clearTimeout(this.minimumUpdatePeriodTimeout_);var i=this.media();if(e){var r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=n.a.setTimeout(function(){return t.load()},r)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},i.start=function(){var e=this;this.started=!0,this.isMaster_?this.requestMaster_(function(t,i){e.haveMaster_(),e.hasPendingRequest()||e.media_||e.media(e.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=n.a.setTimeout(function(){return e.haveMaster_()},0)},i.requestMaster_=function(e){var t=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(i,r){if(!t.requestErrored_(i,r)){var n=r.responseText!==t.masterPlaylistLoader_.masterXml_;return t.masterPlaylistLoader_.masterXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?t.masterLoaded_=Date.parse(r.responseHeaders.date):t.masterLoaded_=Date.now(),t.masterPlaylistLoader_.srcUrl=Qs(t.handleManifestRedirects,t.masterPlaylistLoader_.srcUrl,r),n?(t.handleMaster_(),void t.syncClientServerClock_(function(){return e(r,n)})):e(r,n)}"HAVE_NOTHING"===t.state&&(t.started=!1)})},i.syncClientServerClock_=function(e){var t=this,i=Te(this.masterPlaylistLoader_.masterXml_);return null===i?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===i.method?(this.masterPlaylistLoader_.clientOffset_=i.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:Ks(this.masterPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},function(r,n){if(t.request){if(r)return t.masterPlaylistLoader_.clientOffset_=t.masterLoaded_-Date.now(),e();var s;s="HEAD"===i.method?n.responseHeaders&&n.responseHeaders.date?Date.parse(n.responseHeaders.date):t.masterLoaded_:Date.parse(n.responseText),t.masterPlaylistLoader_.clientOffset_=s-Date.now(),e()}}))},i.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},i.handleMaster_=function(){this.mediaRequest_=null;var e,t,i,r,n,s,a=(e={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_},t=e.masterXml,i=e.srcUrl,r=e.clientOffset,n=e.sidxMapping,s=be(t,{manifestUri:i,clientOffset:r,sidxMapping:n}),ra(s,i),s),o=this.masterPlaylistLoader_.master;o&&(a=function(e,t,i){for(var r=!0,n=Ga(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),s=0;s<t.playlists.length;s++){var a=t.playlists[s];if(a.sidx){var o=Ha(a.sidx);i&&i[o]&&Se(a,i[o].sidx,a.sidx.resolvedUri)}var l=aa(n,a);l&&(n=l,r=!1)}return ta(t,function(e,t,i,s){if(e.playlists&&e.playlists.length){var a=e.playlists[0].id,o=aa(n,e.playlists[0]);o&&((n=o).mediaGroups[t][i][s].playlists[0]=n.playlists[a],r=!1)}}),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:n}(o,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||o;var l=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return l&&l!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=l),(!o||a&&o.minimumUpdatePeriod!==a.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(a)},i.updateMinimumUpdatePeriodTimeout_=function(){var e=this;n.a.clearTimeout(this.minimumUpdatePeriodTimeout_);var t=function t(i){e.minimumUpdatePeriodTimeout_=n.a.setTimeout(function(){e.trigger("minimumUpdatePeriod"),t(i)},i)},i=this.masterPlaylistLoader_.master&&this.masterPlaylistLoader_.master.minimumUpdatePeriod;i>0?t(i):0===i&&(this.media()?t(1e3*this.media().targetDuration):this.one("loadedplaylist",function(){t(1e3*e.media().targetDuration)}))},i.refreshXml_=function(){var e=this;this.requestMaster_(function(t,i){var r,n,s;i&&(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=(r=e.masterPlaylistLoader_.master,n=e.masterPlaylistLoader_.sidxMapping_,s=$a(r.playlists,n),ta(r,function(e,t,i,r){if(e.playlists&&e.playlists.length){var a=e.playlists;s=Ga(s,$a(a,n))}}),s),e.addSidxSegments_(e.media(),e.state,function(t){e.refreshMedia_(e.media().id)}))})},i.refreshMedia_=function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var i=this.masterPlaylistLoader_.master.playlists,r=!this.media_||this.media_!==i[e];r?this.media_=i[e]:this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=n.a.setTimeout(function(){t.trigger("mediaupdatetimeout")},oa(this.media(),Boolean(r)))),this.trigger("loadedplaylist")},t}(za),Wa={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},Xa=function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t.buffer},Ya=[],Ka=function(e){var t=e.transmuxer,i=e.bytes,r=e.audioAppendStart,n=e.gopsToAlignWith,s=e.isPartial,a=e.remux,o=e.onData,l=e.onTrackInfo,h=e.onAudioTimingInfo,u=e.onVideoTimingInfo,c=e.onVideoSegmentTimingInfo,d=e.onAudioSegmentTimingInfo,p=e.onId3,f=e.onCaptions,m=e.onDone,g={isPartial:s,buffer:[]};if(t.onmessage=function(e){Ys&&("data"===e.data.action&&function(e,t,i){var r=e.data.segment,n=r.type,s=r.initSegment,a=r.captions,o=r.captionStreams,l=r.metadata,h=r.videoFrameDtsTime,u=r.videoFramePtsTime;t.buffer.push({captions:a,captionStreams:o,metadata:l});var c=e.data.segment.boxes||{data:e.data.segment.data},d={type:n,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};void 0!==h&&(d.videoFrameDtsTime=h),void 0!==u&&(d.videoFramePtsTime=u),i(d)}(e,g,o),"trackinfo"===e.data.action&&l(e.data.trackInfo),"gopInfo"===e.data.action&&function(e,t){t.gopInfo=e.data.gopInfo}(e,g),"audioTimingInfo"===e.data.action&&h(e.data.audioTimingInfo),"videoTimingInfo"===e.data.action&&u(e.data.videoTimingInfo),"videoSegmentTimingInfo"===e.data.action&&c(e.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===e.data.action&&d(e.data.audioSegmentTimingInfo),"id3Frame"===e.data.action&&p([e.data.id3Frame],e.data.id3Frame.dispatchType),"caption"===e.data.action&&f(e.data.caption),"transmuxed"===e.data.type&&(t.onmessage=null,function(e){var t=e.transmuxedData,i=e.callback;t.buffer=[],i(t)}({transmuxedData:g,callback:m}),Qa()))},r&&t.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(n)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:n}),void 0!==a&&t.postMessage({action:"setRemux",remux:a}),i.byteLength){var v=i instanceof ArrayBuffer?i:i.buffer,y=i instanceof ArrayBuffer?0:i.byteOffset;t.postMessage({action:"push",data:v,byteOffset:y,byteLength:i.byteLength},[v])}t.postMessage({action:s?"partialFlush":"flush"})},Qa=function(){Ys=null,Ya.length&&("function"==typeof(Ys=Ya.shift())?Ys():Ka(Ys))},Ja=function(e,t){e.postMessage({action:t}),Qa()},Za=function(e,t){if(!Ys)return Ys=e,void Ja(t,e);Ya.push(Ja.bind(null,t,e))},eo=function(e){if(!Ys)return Ys=e,void Ka(e);Ya.push(e)},to=function(e){Za("reset",e)},io=function(){Ys=null,Ya.length=0},ro=function(e){Za("endTimeline",e)},no=2,so=-101,ao=-102,oo=function(e){e.forEach(function(e){e.abort()})},lo=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:so,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:ao,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:no,xhr:t}:null},ho=function(e){var t=e.segment,i=e.bytes,r=e.isPartial,n=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,h=e.captionsFn,u=e.dataFn,c=e.doneFn,d=t.map&&t.map.tracks||{},p=Boolean(d.audio&&d.video),f=s.bind(null,t,"audio","start"),m=s.bind(null,t,"audio","end"),g=s.bind(null,t,"video","start"),v=s.bind(null,t,"video","end");if(!r&&!t.lastReachedChar){var y=function(e,t){var i=Ae.a.inspect(e,t*Pe.ONE_SECOND_IN_TS);if(!i)return null;var r={hasVideo:i.video&&2===i.video.length||!1,hasAudio:i.audio&&2===i.audio.length||!1};return r.hasVideo&&(r.videoStart=i.video[0].ptsTime),r.hasAudio&&(r.audioStart=i.audio[0].ptsTime),r}(i,t.baseStartTime);y&&(n(t,{hasAudio:y.hasAudio,hasVideo:y.hasVideo,isMuxed:p}),n=null,y.hasAudio&&!p&&f(y.audioStart),y.hasVideo&&g(y.videoStart),f=null,g=null)}eo({bytes:i,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,isPartial:r,remux:p,onData:function(e){e.type="combined"===e.type?"video":e.type,u(t,e)},onTrackInfo:function(e){n&&(p&&(e.isMuxed=!0),n(t,e))},onAudioTimingInfo:function(e){f&&void 0!==e.start&&(f(e.start),f=null),m&&void 0!==e.end&&m(e.end)},onVideoTimingInfo:function(e){g&&void 0!==e.start&&(g(e.start),g=null),v&&void 0!==e.end&&v(e.end)},onVideoSegmentTimingInfo:function(e){a(e)},onAudioSegmentTimingInfo:function(e){o(e)},onId3:function(e,i){l(t,e,i)},onCaptions:function(e){h(t,[e])},onDone:function(e){c&&!r&&(e.type="combined"===e.type?"video":e.type,c(null,t,e))}})},uo=function(e){var t=e.segment,i=e.bytes,r=e.isPartial,n=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,h=e.captionsFn,u=e.dataFn,c=e.doneFn,d=new Uint8Array(i);if(Object(Ce.isLikelyFmp4MediaSegment)(d)){t.isFmp4=!0;var p=t.map.tracks,f={isFmp4:!0,hasVideo:!!p.video,hasAudio:!!p.audio};p.audio&&p.audio.codec&&"enca"!==p.audio.codec&&(f.audioCodec=p.audio.codec),p.video&&p.video.codec&&"encv"!==p.video.codec&&(f.videoCodec=p.video.codec),p.video&&p.audio&&(f.isMuxed=!0),n(t,f);var m=De.a.startTime(t.map.timescales,d);f.hasAudio&&!f.isMuxed&&s(t,"audio","start",m),f.hasVideo&&s(t,"video","start",m);var g=function(e){u(t,{data:i,type:f.hasAudio&&!f.isMuxed?"audio":"video"}),e&&e.length&&h(t,e),c(null,t,{})};if(!p.video||!i.byteLength||!t.transmuxer)return void g();var v=i instanceof ArrayBuffer?i:i.buffer,y=i instanceof ArrayBuffer?0:i.byteOffset;return t.transmuxer.addEventListener("message",function e(r){if("mp4Captions"===r.data.action){t.transmuxer.removeEventListener("message",e);var n=r.data.data;t.bytes=i=new Uint8Array(n,n.byteOffset||0,n.byteLength),g(r.data.captions)}}),void t.transmuxer.postMessage({action:"pushMp4Captions",timescales:t.map.timescales,trackIds:[p.video.id],data:v,byteOffset:y,byteLength:i.byteLength},[v])}if(t.transmuxer){if(void 0===t.container&&(t.container=Object(Ce.detectContainerForBytes)(d)),"ts"!==t.container&&"aac"!==t.container)return n(t,{hasAudio:!1,hasVideo:!1}),void c(null,t,{});ho({segment:t,bytes:i,isPartial:r,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:h,dataFn:u,doneFn:c})}else c(null,t,{})},co=function(e){var t=e.activeXhrs,i=e.decryptionWorker,r=e.trackInfoFn,n=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,h=e.dataFn,u=e.doneFn,c=0,d=!1;return function(e,p){if(!d){if(e)return d=!0,oo(t),u(e,p);if((c+=1)===t.length){if(p.endOfAllRequests=Date.now(),p.encryptedBytes)return function(e){var t,i=e.decryptionWorker,r=e.segment,n=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,h=e.captionsFn,u=e.dataFn,c=e.doneFn;i.addEventListener("message",function e(t){if(t.data.source===r.requestId){i.removeEventListener("message",e);var d=t.data.decrypted;r.bytes=new Uint8Array(d.bytes,d.byteOffset,d.byteLength),uo({segment:r,bytes:r.bytes,isPartial:!1,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:h,dataFn:u,doneFn:c})}}),t=r.key.bytes.slice?r.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(r.key.bytes)),i.postMessage(Oa({source:r.requestId,encrypted:r.encryptedBytes,key:t,iv:r.key.iv}),[r.encryptedBytes.buffer,t.buffer])}({decryptionWorker:i,segment:p,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,dataFn:h,doneFn:u});uo({segment:p,bytes:p.bytes,isPartial:!1,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,dataFn:h,doneFn:u})}}}},po=function(e){var t=e.segment,i=e.progressFn,r=e.trackInfoFn,n=e.timingInfoFn,s=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,o=e.id3Fn,l=e.captionsFn,h=e.dataFn,u=e.handlePartialData;return function(e){var c=e.target;if(!c.aborted){if(u&&!t.key&&c.responseText&&c.responseText.length>=8){var d=Xa(c.responseText.substring(t.lastReachedChar||0));!t.lastReachedChar&&Object(Ce.isLikelyFmp4MediaSegment)(new Uint8Array(d))||(t.lastReachedChar=c.responseText.length,uo({segment:t,bytes:d,isPartial:!0,trackInfoFn:r,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:l,dataFn:h}))}return t.stats=qs.mergeOptions(t.stats,function(e){var t=e.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),i(e,t)}}},fo=function(e){var t=e.xhr,i=e.xhrOptions,r=e.decryptionWorker,n=e.segment,s=e.abortFn,a=e.progressFn,o=e.trackInfoFn,l=e.timingInfoFn,h=e.videoSegmentTimingInfoFn,u=e.audioSegmentTimingInfoFn,c=e.id3Fn,d=e.captionsFn,p=e.dataFn,f=e.doneFn,m=e.handlePartialData,g=[],v=co({activeXhrs:g,decryptionWorker:r,trackInfoFn:o,timingInfoFn:l,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,dataFn:p,doneFn:f});if(n.key&&!n.key.bytes){var y=t(qs.mergeOptions(i,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),function(e,t){return function(i,r){var n=r.response,s=lo(i,r);if(s)return t(s,e);if(16!==n.byteLength)return t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:no,xhr:r},e);var a=new DataView(n);return e.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),t(null,e)}}(n,v));g.push(y)}if(n.map&&!n.map.bytes){var _=t(qs.mergeOptions(i,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:Ia(n.map)}),function(e){var t=e.segment,i=e.finishProcessingFn;return function(e,r){var n=r.response,s=lo(e,r);if(s)return i(s,t);if(0===n.byteLength)return i({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:no,xhr:r},t);t.map.bytes=new Uint8Array(r.response);var a=Object(Ce.detectContainerForBytes)(t.map.bytes);return"mp4"!==a?i({status:r.status,message:"Found unsupported "+(a||"unknown")+" container for initialization segment at URL: "+r.uri,code:no,internal:!0,xhr:r},t):(De.a.tracks(t.map.bytes).forEach(function(e){t.map.tracks=t.map.tracks||{},t.map.tracks[e.type]||(t.map.tracks[e.type]=e,"number"==typeof e.id&&e.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[e.id]=e.timescale))}),i(null,t))}}({segment:n,finishProcessingFn:v}));g.push(_)}var b=qs.mergeOptions(i,{uri:n.resolvedUri,responseType:"arraybuffer",headers:Ia(n)});m&&(b.responseType="text",b.beforeSend=function(e){e.overrideMimeType("text/plain; charset=x-user-defined")});var T=t(b,function(e){var t=e.segment,i=e.finishProcessingFn,r=e.responseType;return function(e,n){var s=n.response,a=lo(e,n);if(a)return i(a,t);var o="arraybuffer"!==r&&n.responseText?Xa(n.responseText.substring(t.lastReachedChar||0)):n.response;return 0===s.byteLength?i({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:no,xhr:n},t):(t.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(n),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),i(null,t))}}({segment:n,finishProcessingFn:v,responseType:b.responseType}));T.addEventListener("progress",po({segment:n,progressFn:a,trackInfoFn:o,timingInfoFn:l,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,dataFn:p,handlePartialData:m})),g.push(T);var S={};return g.forEach(function(e){e.addEventListener("loadend",function(e){var t=e.loadendState,i=e.abortFn;return function(e){e.target.aborted&&i&&!t.calledAbortFn&&(i(),t.calledAbortFn=!0)}}({loadendState:S,abortFn:s}))}),function(){return oo(g)}},mo="undefined"!=typeof window?window:{},go="undefined"==typeof Symbol?"__target":Symbol(),vo="application/javascript",yo=mo.BlobBuilder||mo.WebKitBlobBuilder||mo.MozBlobBuilder||mo.MSBlobBuilder,_o=mo.URL||mo.webkitURL||_o&&_o.msURL,bo=mo.Worker;function To(e,t){return function(i){var r=this;if(!t)return new bo(e);if(bo&&!i){var n=Co(t.toString().replace(/^function.+?{/,"").slice(0,-1));return this[go]=new bo(n),function(e,t){if(!e||!t)return;var i=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&_o.revokeObjectURL(e.objURL),i.call(e)}}(this[go],n),this[go]}var s={postMessage:function(e){r.onmessage&&setTimeout(function(){r.onmessage({data:e,target:s})})}};t.call(s),this.postMessage=function(e){setTimeout(function(){s.onmessage({data:e,target:r})})},this.isThisThread=!0}}if(bo){var So,Eo=Co("self.onmessage = function () {}"),wo=new Uint8Array(1);try{(So=new bo(Eo)).postMessage(wo,[wo.buffer])}catch(e){bo=null}finally{_o.revokeObjectURL(Eo),So&&So.terminate()}}function Co(e){try{return _o.createObjectURL(new Blob([e],{type:vo}))}catch(i){var t=new yo;return t.append(e),_o.createObjectURL(t.getBlob(type))}}var xo=new To("./transmuxer-worker.worker.js",function(e,t){var i=this;
/*! @name @videojs/http-streaming @version 2.4.2 @license Apache-2.0 */!function(){var e=function(){this.init=function(){var e={};this.on=function(t,i){e[t]||(e[t]=[]),e[t]=e[t].concat(i)},this.off=function(t,i){var r;return!!e[t]&&(r=e[t].indexOf(i),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var i,r,n,s;if(i=e[t])if(2===arguments.length)for(n=i.length,r=0;r<n;++r)i[r].call(this,arguments[1]);else{for(s=[],r=arguments.length,r=1;r<arguments.length;++r)s.push(arguments[r]);for(n=i.length,r=0;r<n;++r)i[r].apply(this,s)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),this.on("partialdone",function(t){e.partialFlush(t)}),this.on("endedtimeline",function(t){e.endTimeline(t)}),this.on("reset",function(t){e.reset(t)}),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,r,n,s,a,o,l,h,u,c,d,p,f,m,g,v,y,_,b,T,S,E,w,C,x,k,A,P,I,D,M,L,O,R,F,B,N,U,j,V,z=e,G=Math.pow(2,32)-1;!function(){var e;if(E={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in E)E.hasOwnProperty(e)&&(E[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);w=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),x=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),k=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),A=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:k,audio:A},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),D=new Uint8Array([0,0,0,0,0,0,0,0]),L=new Uint8Array([0,0,0,0,0,0,0,0]),O=L,R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),F=L,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(e){var t,i,r=[],n=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)n+=r[t].byteLength;for(i=new Uint8Array(n+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(e,4),t=0,n=8;t<r.length;t++)i.set(r[t],n),n+=r[t].byteLength;return i},r=function(){return t(E.dinf,t(E.dref,M))},n=function(e){return t(E.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},g=function(e){return t(E.hdlr,P[e])},m=function(e){var i=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(i[12]=e.samplerate>>>24&255,i[13]=e.samplerate>>>16&255,i[14]=e.samplerate>>>8&255,i[15]=255&e.samplerate),t(E.mdhd,i)},f=function(e){return t(E.mdia,m(e),g(e.type),o(e))},a=function(e){return t(E.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},o=function(e){return t(E.minf,"video"===e.type?t(E.vmhd,I):t(E.smhd,D),r(),y(e))},l=function(e,i){for(var r=[],n=i.length;n--;)r[n]=b(i[n]);return t.apply(null,[E.moof,a(e)].concat(r))},h=function(e){for(var i=e.length,r=[];i--;)r[i]=d(e[i]);return t.apply(null,[E.moov,c(4294967295)].concat(r).concat(u(e)))},u=function(e){for(var i=e.length,r=[];i--;)r[i]=T(e[i]);return t.apply(null,[E.mvex].concat(r))},c=function(e){var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(E.mvhd,i)},v=function(e){var i,r,n=e.samples||[],s=new Uint8Array(4+n.length);for(r=0;r<n.length;r++)i=n[r].flags,s[r+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return t(E.sdtp,s)},y=function(e){return t(E.stbl,_(e),t(E.stts,F),t(E.stsc,O),t(E.stsz,R),t(E.stco,L))},_=function(e){return t(E.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?B(e):N(e))},B=function(e){var i,r,n=e.sps||[],s=e.pps||[],a=[],o=[];for(i=0;i<n.length;i++)a.push((65280&n[i].byteLength)>>>8),a.push(255&n[i].byteLength),a=a.concat(Array.prototype.slice.call(n[i]));for(i=0;i<s.length;i++)o.push((65280&s[i].byteLength)>>>8),o.push(255&s[i].byteLength),o=o.concat(Array.prototype.slice.call(s[i]));if(r=[E.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(E.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length],a,[s.length],o))),t(E.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],h=e.sarRatio[1];r.push(t(E.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h])))}return t.apply(null,r)},N=function(e){return t(E.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),n(e))},p=function(e){var i=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(E.tkhd,i)},b=function(e){var i,r,n,s,a,o;return i=t(E.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/(G+1)),o=Math.floor(e.baseMediaDecodeTime%(G+1)),r=t(E.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o])),92,"audio"===e.type?(n=S(e,92),t(E.traf,i,r,n)):(s=v(e),n=S(e,s.length+92),t(E.traf,i,r,n,s))},d=function(e){return e.duration=e.duration||4294967295,t(E.trak,p(e),f(e))},T=function(e){var i=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(i[i.length-1]=0),t(E.trex,i)},V=function(e,t){var i=0,r=0,n=0,s=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(n=4),void 0!==e[0].compositionTimeOffset&&(s=8)),[0,0,i|r|n|s,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},j=function(e,i){var r,n,s,a,o,l;for(i+=20+16*(a=e.samples||[]).length,s=V(a,i),(n=new Uint8Array(s.length+16*a.length)).set(s),r=s.length,l=0;l<a.length;l++)o=a[l],n[r++]=(4278190080&o.duration)>>>24,n[r++]=(16711680&o.duration)>>>16,n[r++]=(65280&o.duration)>>>8,n[r++]=255&o.duration,n[r++]=(4278190080&o.size)>>>24,n[r++]=(16711680&o.size)>>>16,n[r++]=(65280&o.size)>>>8,n[r++]=255&o.size,n[r++]=o.flags.isLeading<<2|o.flags.dependsOn,n[r++]=o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,n[r++]=61440&o.flags.degradationPriority,n[r++]=15&o.flags.degradationPriority,n[r++]=(4278190080&o.compositionTimeOffset)>>>24,n[r++]=(16711680&o.compositionTimeOffset)>>>16,n[r++]=(65280&o.compositionTimeOffset)>>>8,n[r++]=255&o.compositionTimeOffset;return t(E.trun,n)},U=function(e,i){var r,n,s,a,o,l;for(i+=20+8*(a=e.samples||[]).length,s=V(a,i),(r=new Uint8Array(s.length+8*a.length)).set(s),n=s.length,l=0;l<a.length;l++)o=a[l],r[n++]=(4278190080&o.duration)>>>24,r[n++]=(16711680&o.duration)>>>16,r[n++]=(65280&o.duration)>>>8,r[n++]=255&o.duration,r[n++]=(4278190080&o.size)>>>24,r[n++]=(16711680&o.size)>>>16,r[n++]=(65280&o.size)>>>8,r[n++]=255&o.size;return t(E.trun,r)},S=function(e,t){return"audio"===e.type?U(e,t):j(e,t)};s=function(){return t(E.ftyp,w,C,w,x)};var H,$,q,W,X,Y=function(e){return t(E.mdat,e)},K=l,Q=function(e){var t,i=s(),r=h(e);return(t=new Uint8Array(i.byteLength+r.byteLength)).set(i),t.set(r,i.byteLength),t},J=function(e,t){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=4*e.length,i.size+=e.byteLength,e.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},Z=function(e){var t,i,r=[],n=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(r.length&&(r.duration=i.dts-r.dts,n.byteLength+=r.byteLength,n.nalCount+=r.length,n.duration+=r.duration,n.push(r)),(r=[i]).byteLength=i.data.byteLength,r.pts=i.pts,r.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(r.keyFrame=!0),r.duration=i.dts-r.dts,r.byteLength+=i.data.byteLength,r.push(i));return n.length&&(!r.duration||r.duration<=0)&&(r.duration=n[n.length-1].duration),n.byteLength+=r.byteLength,n.nalCount+=r.length,n.duration+=r.duration,n.push(r),n},ee=function(e){var t,i,r=[],n=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(r.length&&(n.push(r),n.byteLength+=r.byteLength,n.nalCount+=r.nalCount,n.duration+=r.duration),(r=[i]).nalCount=i.length,r.byteLength=i.byteLength,r.pts=i.pts,r.dts=i.dts,r.duration=i.duration):(r.duration+=i.duration,r.nalCount+=i.length,r.byteLength+=i.byteLength,r.push(i));return n.length&&r.duration<=0&&(r.duration=n[n.length-1].duration),n.byteLength+=r.byteLength,n.nalCount+=r.nalCount,n.duration+=r.duration,n.push(r),n},te=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},ie=function(e,t){var i,r,n,s,a,o=t||0,l=[];for(i=0;i<e.length;i++)for(s=e[i],r=0;r<s.length;r++)a=s[r],o+=(n=J(a,o)).size,l.push(n);return l},re=function(e){var t,i,r,n,s,a,o=0,l=e.byteLength,h=e.nalCount,u=new Uint8Array(l+4*h),c=new DataView(u.buffer);for(t=0;t<e.length;t++)for(n=e[t],i=0;i<n.length;i++)for(s=n[i],r=0;r<s.length;r++)a=s[r],c.setUint32(o,a.data.byteLength),o+=4,u.set(a.data,o),o+=a.data.byteLength;return u},ne=function(e,t){var i,r=[];return i=J(e,t||0),r.push(i),r},se=function(e){var t,i,r=0,n=e.byteLength,s=e.length,a=new Uint8Array(n+4*s),o=new DataView(a.buffer);for(t=0;t<e.length;t++)i=e[t],o.setUint32(r,i.data.byteLength),r+=4,a.set(i.data,r),r+=i.data.byteLength;return a},ae=[33,16,5,32,164,27],oe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],le=function(e){for(var t=[];e--;)t.push(0);return t},he=function(){if(!H){var e={96000:[ae,[227,64],le(154),[56]],88200:[ae,[231],le(170),[56]],64000:[ae,[248,192],le(240),[56]],48000:[ae,[255,192],le(268),[55,148,128],le(54),[112]],44100:[ae,[255,192],le(268),[55,163,128],le(84),[112]],32000:[ae,[255,192],le(268),[55,234],le(226),[112]],24000:[ae,[255,192],le(268),[55,255,128],le(268),[111,112],le(126),[224]],16000:[ae,[255,192],le(268),[55,255,128],le(268),[111,255],le(269),[223,108],le(195),[1,192]],12000:[oe,le(268),[3,127,248],le(268),[6,255,240],le(268),[13,255,224],le(268),[27,253,128],le(259),[56]],11025:[oe,le(268),[3,127,248],le(268),[6,255,240],le(268),[13,255,224],le(268),[27,255,192],le(268),[55,175,128],le(108),[112]],8000:[oe,le(268),[3,121,16],le(47),[7]]};t=e,H=Object.keys(t).reduce(function(e,i){return e[i]=new Uint8Array(t[i].reduce(function(e,t){return e.concat(t)},[])),e},{})}var t;return H},ue=9e4,ce=$=function(e){return 9e4*e},de=(q=function(e,t){return e*t},W=function(e){return e/9e4}),pe=(X=function(e,t){return e/t},function(e,t){return $(X(e,t))}),fe=function(e,t){return q(W(e),t)},me=function(e,t,i){return W(i?e:e-t)},ge=function(e,t,i,r){var n,s,a,o,l,h=0,u=0,c=0;if(t.length&&(n=pe(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(ue/(e.samplerate/1024)),i&&r&&(h=n-Math.max(i,r),c=(u=Math.floor(h/s))*s),!(u<1||c>ue/2))){for((a=he()[e.samplerate])||(a=t[0].data),o=0;o<u;o++)l=t[0],t.splice(0,0,{data:a,dts:l.dts-s,pts:l.pts-s});return e.baseMediaDecodeTime-=Math.floor(fe(c,e.samplerate)),c}},ve=function(e,t,i){return t.minSegmentDts>=i?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=i&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},ye=function(e){var t,i,r=[];for(t=0;t<e.length;t++)i=e[t],r.push({size:i.data.byteLength,duration:1024});return r},_e=function(e){var t,i,r=0,n=new Uint8Array(function(e){var t,i=0;for(t=0;t<e.length;t++)i+=e[t].data.byteLength;return i}(e));for(t=0;t<e.length;t++)i=e[t],n.set(i.data,r),r+=i.data.byteLength;return n},be=ue,Te=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},Se=function(e,t){var i,r=e.minSegmentDts;return t||(r-=e.timelineStartInfo.dts),i=e.timelineStartInfo.baseMediaDecodeTime,i+=r,i=Math.max(0,i),"audio"===e.type&&(i*=e.samplerate/be,i=Math.floor(i)),i},Ee=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},we=function(e){for(var t=0,i={payloadType:-1,payloadSize:0},r=0,n=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)n+=255,t++;if(n+=e[t++],!i.payload&&4===r){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){i.payloadType=r,i.payloadSize=n,i.payload=e.subarray(t,t+n);break}i.payload=void 0}t+=n,r=0,n=0}return i},Ce=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},xe=function(e,t){var i,r,n,s,a=[];if(!(64&t[0]))return a;for(r=31&t[0],i=0;i<r;i++)s={type:3&t[2+(n=3*i)],pts:e},4&t[n+2]&&(s.ccData=t[n+3]<<8|t[n+4],a.push(s));return a},ke=function(e){for(var t,i,r=e.byteLength,n=[],s=1;s<r-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(n.push(s+2),s+=2):s++;if(0===n.length)return e;t=r-n.length,i=new Uint8Array(t);var a=0;for(s=0;s<t;a++,s++)a===n[0]&&(a++,n.shift()),i[s]=e[a];return i},Ae=4,Pe=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ue(0,0),new Ue(0,1),new Ue(1,0),new Ue(1,1)],this.cc708Stream_=new Oe,this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this),this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done"))};(Pe.prototype=new z).push=function(e){var t,i,r;if("sei_rbsp"===e.nalUnitType&&(t=we(e.escapedRBSP)).payload&&t.payloadType===Ae&&(i=Ce(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=xe(e.pts,i),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Pe.prototype.flushCCStreams=function(e){this.ccStreams_.forEach(function(t){return"flush"===e?t.flush():t.partialFlush()},this)},Pe.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)},this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},Pe.prototype.flush=function(){return this.flushStream("flush")},Pe.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Pe.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},Pe.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Pe.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Pe.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},Pe.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},Pe.prototype.dispatchCea708Packet=function(e){this.cc708Stream_.push(e)};var Ie={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},De=function(e){return 32<=e&&e<=127||160<=e&&e<=255},Me=function(e){this.windowNum=e,this.reset()};Me.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Me.prototype.getText=function(){return this.rows.join("\n")},Me.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Me.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Me.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},Me.prototype.addText=function(e){this.rows[this.rowIdx]+=e},Me.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var Le=function(e){this.serviceNum=e,this.text="",this.currentWindow=new Me(-1),this.windows=[]};Le.prototype.init=function(e,t){this.startPts=e;for(var i=0;i<8;i++)this.windows[i]=new Me(i),"function"==typeof t&&(this.windows[i].beforeRowOverflow=t)},Le.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]};var Oe=function e(){e.prototype.init.call(this);var t=this;this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(t.new708Packet(),t.add708Bytes(e)):(null===t.current708Packet&&t.new708Packet(),t.add708Bytes(e))}};Oe.prototype=new z,Oe.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Oe.prototype.add708Bytes=function(e){var t=e.ccData,i=t>>>8,r=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(i),this.current708Packet.data.push(r)},Oe.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,i=null,r=null,n=0,s=t[n++];for(e.seq=s>>6,e.sizeCode=63&s;n<t.length;n++)r=31&(s=t[n++]),7===(i=s>>5)&&r>0&&(i=s=t[n++]),this.pushServiceBlock(i,n,r),r>0&&(n+=r-1)},Oe.prototype.pushServiceBlock=function(e,t,i){var r,n=t,s=this.current708Packet.data,a=this.services[e];for(a||(a=this.initService(e,n));n<t+i&&n<s.length;n++)r=s[n],De(r)?n=this.handleText(n,a):16===r?n=this.extendedCommands(n,a):128<=r&&r<=135?n=this.setCurrentWindow(n,a):152<=r&&r<=159?n=this.defineWindow(n,a):136===r?n=this.clearWindows(n,a):140===r?n=this.deleteWindows(n,a):137===r?n=this.displayWindows(n,a):138===r?n=this.hideWindows(n,a):139===r?n=this.toggleWindows(n,a):151===r?n=this.setWindowAttributes(n,a):144===r?n=this.setPenAttributes(n,a):145===r?n=this.setPenColor(n,a):146===r?n=this.setPenLocation(n,a):143===r?a=this.reset(n,a):8===r?a.currentWindow.backspace():12===r?a.currentWindow.clearText():13===r?a.currentWindow.pendingNewLine=!0:14===r?a.currentWindow.clearText():141===r&&n++},Oe.prototype.extendedCommands=function(e,t){var i=this.current708Packet.data[++e];return De(i)&&(e=this.handleText(e,t,!0)),e},Oe.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},Oe.prototype.initService=function(e,t){var i=this;return this.services[e]=new Le(e),this.services[e].init(this.getPts(t),function(t){i.flushDisplayed(t,i.services[e])}),this.services[e]},Oe.prototype.handleText=function(e,t,i){var r,n,s=this.current708Packet.data[e],a=(n=Ie[r=(i?4096:0)|s]||r,4096&r&&r===n?"":String.fromCharCode(n)),o=t.currentWindow;return o.pendingNewLine&&!o.isEmpty()&&o.newLine(this.getPts(e)),o.pendingNewLine=!1,o.addText(a),e},Oe.prototype.setCurrentWindow=function(e,t){var i=7&this.current708Packet.data[e];return t.setCurrentWindow(i),e},Oe.prototype.defineWindow=function(e,t){var i=this.current708Packet.data,r=i[e],n=7&r;t.setCurrentWindow(n);var s=t.currentWindow;return r=i[++e],s.visible=(32&r)>>5,s.rowLock=(16&r)>>4,s.columnLock=(8&r)>>3,s.priority=7&r,r=i[++e],s.relativePositioning=(128&r)>>7,s.anchorVertical=127&r,r=i[++e],s.anchorHorizontal=r,r=i[++e],s.anchorPoint=(240&r)>>4,s.rowCount=15&r,r=i[++e],s.columnCount=63&r,r=i[++e],s.windowStyle=(56&r)>>3,s.penStyle=7&r,s.virtualRowCount=s.rowCount+1,e},Oe.prototype.setWindowAttributes=function(e,t){var i=this.current708Packet.data,r=i[e],n=t.currentWindow.winAttr;return r=i[++e],n.fillOpacity=(192&r)>>6,n.fillRed=(48&r)>>4,n.fillGreen=(12&r)>>2,n.fillBlue=3&r,r=i[++e],n.borderType=(192&r)>>6,n.borderRed=(48&r)>>4,n.borderGreen=(12&r)>>2,n.borderBlue=3&r,r=i[++e],n.borderType+=(128&r)>>5,n.wordWrap=(64&r)>>6,n.printDirection=(48&r)>>4,n.scrollDirection=(12&r)>>2,n.justify=3&r,r=i[++e],n.effectSpeed=(240&r)>>4,n.effectDirection=(12&r)>>2,n.displayEffect=3&r,e},Oe.prototype.flushDisplayed=function(e,t){for(var i=[],r=0;r<8;r++)t.windows[r].visible&&!t.windows[r].isEmpty()&&i.push(t.windows[r].getText());t.endPts=e,t.text=i.join("\n\n"),this.pushCaption(t),t.startPts=e},Oe.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},Oe.prototype.displayWindows=function(e,t){var i=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var n=0;n<8;n++)i&1<<n&&(t.windows[n].visible=1);return e},Oe.prototype.hideWindows=function(e,t){var i=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var n=0;n<8;n++)i&1<<n&&(t.windows[n].visible=0);return e},Oe.prototype.toggleWindows=function(e,t){var i=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var n=0;n<8;n++)i&1<<n&&(t.windows[n].visible^=1);return e},Oe.prototype.clearWindows=function(e,t){var i=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var n=0;n<8;n++)i&1<<n&&t.windows[n].clearText();return e},Oe.prototype.deleteWindows=function(e,t){var i=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var n=0;n<8;n++)i&1<<n&&t.windows[n].reset();return e},Oe.prototype.setPenAttributes=function(e,t){var i=this.current708Packet.data,r=i[e],n=t.currentWindow.penAttr;return r=i[++e],n.textTag=(240&r)>>4,n.offset=(12&r)>>2,n.penSize=3&r,r=i[++e],n.italics=(128&r)>>7,n.underline=(64&r)>>6,n.edgeType=(56&r)>>3,n.fontStyle=7&r,e},Oe.prototype.setPenColor=function(e,t){var i=this.current708Packet.data,r=i[e],n=t.currentWindow.penColor;return r=i[++e],n.fgOpacity=(192&r)>>6,n.fgRed=(48&r)>>4,n.fgGreen=(12&r)>>2,n.fgBlue=3&r,r=i[++e],n.bgOpacity=(192&r)>>6,n.bgRed=(48&r)>>4,n.bgGreen=(12&r)>>2,n.bgBlue=3&r,r=i[++e],n.edgeRed=(48&r)>>4,n.edgeGreen=(12&r)>>2,n.edgeBlue=3&r,e},Oe.prototype.setPenLocation=function(e,t){var i=this.current708Packet.data,r=i[e],n=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,r=i[++e],n.row=15&r,r=i[++e],n.column=63&r,e},Oe.prototype.reset=function(e,t){var i=this.getPts(e);return this.flushDisplayed(i,t),this.initService(t.serviceNum,e)};var Re={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Fe=function(e){return null===e?"":(e=Re[e]||e,String.fromCharCode(e))},Be=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ne=function(){for(var e=[],t=15;t--;)e.push("");return e},Ue=function e(t,i){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,r,n,s;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,n=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Ne();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ne();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Ne()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,n))s=Fe((r=(3&r)<<8)|n),this[this.mode_](e.pts,s),this.column_++;else if(this.isExtCharacter(r,n))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),s=Fe((r=(3&r)<<8)|n),this[this.mode_](e.pts,s),this.column_++;else if(this.isMidRowCode(r,n))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&n)&&this.addFormatting(e.pts,["i"]),1==(1&n)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,n))this.column_+=3&n;else if(this.isPAC(r,n)){var a=Be.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&n&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(n)&&14==(14&n)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===n&&(n=null),s=Fe(r),s+=Fe(n),this[this.mode_](e.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};Ue.prototype=new z,Ue.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(e){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Ue.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ne(),this.nonDisplayed_=Ne(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ue.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ue.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Ue.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Ue.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Ue.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Ue.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Ue.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Ue.prototype.isNormalChar=function(e){return e>=32&&e<=127},Ue.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Ne(),this.displayed_=Ne()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ue.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,i)},Ue.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},Ue.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];i+=t,this.nonDisplayed_[this.row_]=i},Ue.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i},Ue.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Ue.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_];i+=t,this.displayed_[this.row_]=i};var je={CaptionStream:Pe,Cea608Stream:Ue,Cea708Stream:Oe},Ve={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},ze=function(e,t){var i=1;for(e>t&&(i=-1);Math.abs(t-e)>4294967296;)e+=8589934592*i;return e},Ge=function e(t){var i,r;e.prototype.init.call(this),this.type_=t||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===r&&(r=e.dts),e.dts=ze(e.dts,r),e.pts=ze(e.pts,r),i=e.dts,this.trigger("data",e))},this.flush=function(){r=i,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,i=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ge.prototype=new z;var He,$e=Ge,qe=function(e,t,i){var r,n="";for(r=t;r<i;r++)n+="%"+("00"+e[r].toString(16)).slice(-2);return n},We=function(e,t,i){return decodeURIComponent(qe(e,t,i))},Xe=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Ye={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=We(e.data,1,t),e.value=We(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=We(e.data,1,t),e.url=We(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,i;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(i=e.data,unescape(qe(i,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(He=function(e){var t,i={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},r=0,n=[],s=0;if(He.prototype.init.call(this),this.dispatchType=Ve.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.length;t++)this.dispatchType+=("00"+i.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,a,o,l,h;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(s=0,n.length=0),0===n.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))i.debug&&console.log("Skipping unrecognized metadata packet");else if(n.push(e),s+=e.data.byteLength,1===n.length&&(r=Xe(e.data.subarray(6,10)),r+=10),!(s<r)){for(t={data:new Uint8Array(r),frames:[],pts:n[0].pts,dts:n[0].dts},h=0;h<r;)t.data.set(n[0].data.subarray(0,r-h),h),h+=n[0].data.byteLength,s-=n[0].data.byteLength,n.shift();a=10,64&t.data[5]&&(a+=4,a+=Xe(t.data.subarray(10,14)),r-=Xe(t.data.subarray(16,20)));do{if((o=Xe(t.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(t.data[a],t.data[a+1],t.data[a+2],t.data[a+3]),data:t.data.subarray(a+10,a+o+10)}).key=l.id,Ye[l.id]&&(Ye[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var u=l.data,c=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;c*=4,c+=3&u[7],l.timeStamp=c,void 0===t.pts&&void 0===t.dts&&(t.pts=l.timeStamp,t.dts=l.timeStamp),this.trigger("timestamp",l)}t.frames.push(l),a+=10,a+=o}while(a<r);this.trigger("data",t)}}}).prototype=new z;var Ke,Qe,Je,Ze=He,et=$e;(Ke=function(){var e=new Uint8Array(188),t=0;Ke.prototype.init.call(this),this.push=function(i){var r,n=0,s=188;for(t?((r=new Uint8Array(i.byteLength+t)).set(e.subarray(0,t)),r.set(i,t),t=0):r=i;s<r.byteLength;)71!==r[n]||71!==r[s]?(n++,s++):(this.trigger("data",r.subarray(n,s)),n+=188,s+=188);n<r.byteLength&&(e.set(r.subarray(n),0),t=r.byteLength-n)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new z,(Qe=function(){var e,t,i,r;Qe.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var n=0;r.payloadUnitStartIndicator&&(n+=e[n]+1),"pat"===r.type?t(e.subarray(n),r):i(e.subarray(n),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},i=function(e,t){var i,n;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,n=12+((15&e[10])<<8|e[11]);n<i;){var s=e[n],a=(31&e[n+1])<<8|e[n+2];s===Ve.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=a:s===Ve.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=a:s===Ve.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][a]=s),n+=5+((15&e[n+3])<<8|e[n+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var i={},r=4;if(i.payloadUnitStartIndicator=!!(64&t[1]),i.pid=31&t[1],i.pid<<=8,i.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===i.pid)i.type="pat",e(t.subarray(r),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",e(t.subarray(r),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,i]):this.processPes_(t,r,i)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=Ve.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=Ve.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}}).prototype=new z,Qe.STREAM_TYPES={h264:27,adts:15},(Je=function(){var e,t=this,i={data:[],size:0},r={data:[],size:0},n={data:[],size:0},s=function(e,i,r){var n,s,a=new Uint8Array(e.size),o={type:i},l=0,h=0;if(e.data.length&&!(e.size<9)){for(o.trackId=e.data[0].pid,l=0;l<e.data.length;l++)s=e.data[l],a.set(s.data,h),h+=s.data.byteLength;var u,c,d;u=a,(c=o).packetLength=6+(u[4]<<8|u[5]),c.dataAlignmentIndicator=0!=(4&u[6]),192&(d=u[7])&&(c.pts=(14&u[9])<<27|(255&u[10])<<20|(254&u[11])<<12|(255&u[12])<<5|(254&u[13])>>>3,c.pts*=4,c.pts+=(6&u[13])>>>1,c.dts=c.pts,64&d&&(c.dts=(14&u[14])<<27|(255&u[15])<<20|(254&u[16])<<12|(255&u[17])<<5|(254&u[18])>>>3,c.dts*=4,c.dts+=(6&u[18])>>>1)),c.data=u.subarray(9+u[8]),n="video"===i||o.packetLength<=e.size,(r||n)&&(e.size=0,e.data.length=0),n&&t.trigger("data",o)}};Je.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,t;switch(a.streamType){case Ve.H264_STREAM_TYPE:e=i,t="video";break;case Ve.ADTS_STREAM_TYPE:e=r,t="audio";break;case Ve.METADATA_STREAM_TYPE:e=n,t="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]};null!==(e=a.programMapTable).video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",i)}})[a.type]()},this.reset=function(){i.size=0,i.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(i,"video"),s(r,"audio"),s(n,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new z;var tt={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Ke,TransportParseStream:Qe,ElementaryStream:Je,TimestampRolloverStream:et,CaptionStream:je.CaptionStream,Cea608Stream:je.Cea608Stream,Cea708Stream:je.Cea708Stream,MetadataStream:Ze};for(var it in Ve)Ve.hasOwnProperty(it)&&(tt[it]=Ve[it]);var rt,nt=tt,st=ue,at=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(rt=function(e){var t,i=0;rt.prototype.init.call(this),this.push=function(r){var n,s,a,o,l,h,u=0;if(e||(i=0),"audio"===r.type)for(t?(o=t,(t=new Uint8Array(o.byteLength+r.data.byteLength)).set(o),t.set(r.data,o.byteLength)):t=r.data;u+5<t.length;)if(255===t[u]&&240==(246&t[u+1])){if(s=2*(1&~t[u+1]),n=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,h=(l=1024*(1+(3&t[u+6])))*st/at[(60&t[u+2])>>>2],a=u+n,t.byteLength<a)return;if(this.trigger("data",{pts:r.pts+i*h,dts:r.dts+i*h,sampleCount:l,audioobjecttype:1+(t[u+2]>>>6&3),channelcount:(1&t[u+2])<<2|(192&t[u+3])>>>6,samplerate:at[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+s,a)}),i++,t.byteLength===a)return void(t=void 0);t=t.subarray(a)}else u++},this.flush=function(){i=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}}).prototype=new z;var ot,lt,ht,ut=rt,ct=function(e){var t=e.byteLength,i=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var n=e.byteLength-t,s=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");s.set(e.subarray(n,n+a)),i=new DataView(s.buffer).getUint32(0),r=8*a,t-=a},this.skipBits=function(e){var n;r>e?(i<<=e,r-=e):(e-=r,e-=8*(n=Math.floor(e/8)),t-=n,this.loadWord(),i<<=e,r-=e)},this.readBits=function(e){var n=Math.min(r,e),s=i>>>32-n;return(r-=n)>0?i<<=n:t>0&&this.loadWord(),(n=e-n)>0?s<<n|this.readBits(n):s},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!=(i&2147483648>>>e))return i<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(lt=function(){var e,t,i=0;lt.prototype.init.call(this),this.push=function(r){var n;t?((n=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),n.set(r.data,t.byteLength),t=n):t=r.data;for(var s=t.byteLength;i<s-3;i++)if(1===t[i+2]){e=i+5;break}for(;e<s;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}i+3!==e-2&&this.trigger("data",t.subarray(i+3,e-2));do{e++}while(1!==t[e]&&e<s);i=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(i+3,e-2)),i=e-2,e+=3;break;default:e+=3}t=t.subarray(i),e-=i,i=0},this.reset=function(){t=null,i=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(i+3)),t=null,i=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new z,ht={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(ot=function(){var e,t,i,r,n,s,a,o=new lt;ot.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,i=e.pts,r=e.dts,o.push(e))},o.on("data",function(a){var o={trackId:t,pts:i,dts:r,data:a};switch(31&a[0]){case 5:o.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:o.nalUnitType="sei_rbsp",o.escapedRBSP=n(a.subarray(1));break;case 7:o.nalUnitType="seq_parameter_set_rbsp",o.escapedRBSP=n(a.subarray(1)),o.config=s(o.escapedRBSP);break;case 8:o.nalUnitType="pic_parameter_set_rbsp";break;case 9:o.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",o)}),o.on("done",function(){e.trigger("done")}),o.on("partialdone",function(){e.trigger("partialdone")}),o.on("reset",function(){e.trigger("reset")}),o.on("endedtimeline",function(){e.trigger("endedtimeline")}),this.flush=function(){o.flush()},this.partialFlush=function(){o.partialFlush()},this.reset=function(){o.reset()},this.endTimeline=function(){o.endTimeline()},a=function(e,t){var i,r=8,n=8;for(i=0;i<e;i++)0!==n&&(n=(r+t.readExpGolomb()+256)%256),r=0===n?r:n},n=function(e){for(var t,i,r=e.byteLength,n=[],s=1;s<r-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(n.push(s+2),s+=2):s++;if(0===n.length)return e;t=r-n.length,i=new Uint8Array(t);var a=0;for(s=0;s<t;a++,s++)a===n[0]&&(a++,n.shift()),i[s]=e[a];return i},s=function(e){var t,i,r,n,s,o,l,h,u,c,d,p,f,m=0,g=0,v=0,y=0,_=1;if(i=(t=new ct(e)).readUnsignedByte(),n=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),ht[i]&&(3===(s=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==s?8:12,f=0;f<d;f++)t.readBoolean()&&a(f<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(o=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===o)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),f=0;f<l;f++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),h=t.readUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),0===(c=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}p&&(_=p[0]/p[1])}return{profileIdc:i,levelIdc:r,profileCompatibility:n,width:Math.ceil((16*(h+1)-2*m-2*g)*_),height:(2-c)*(u+1)*16-2*v-2*y,sarRatio:p}}}).prototype=new z;var dt,pt={H264Stream:ot,NalByteStream:lt},ft=function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],r=e[t+5];return i=i>=0?i:0,(16&r)>>4?i+20:i+10},mt=function(e){var t=function e(t,i){return t.length-i<10||t[i]!=="I".charCodeAt(0)||t[i+1]!=="D".charCodeAt(0)||t[i+2]!=="3".charCodeAt(0)?i:e(t,i+=ft(t,i))}(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},gt=ft,vt=function(e,t){var i=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|i};(dt=function(){var e=new Uint8Array,t=0;dt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(i){var r,n,s,a,o=0,l=0;for(e.length?(a=e.length,(e=new Uint8Array(i.byteLength+a)).set(e.subarray(0,a)),e.set(i,a)):e=i;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255!=(255&e[l])||240!=(240&e[l+1]))l++;else{if(e.length-l<7)break;if(l+(o=vt(e,l))>e.length)break;s={type:"audio",data:e.subarray(l,l+o),pts:t,dts:t},this.trigger("data",s),l+=o}else{if(e.length-l<10)break;if(l+(o=gt(e,l))>e.length)break;n={type:"timed-metadata",data:e.subarray(l,l+o)},this.trigger("data",n),l+=o}r=e.length-l,e=r>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new z;var yt,_t,bt,Tt,St=dt,Et=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],wt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ct=pt.H264Stream,xt=mt,kt=ue,At=function(e,t){var i;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},Pt=function(e,t,i,r,n,s){return{start:{dts:e,pts:e+(i-t)},end:{dts:e+(r-t),pts:e+(n-i)},prependedContentDuration:s,baseMediaDecodeTime:e}};(_t=function(e,t){var i=[],r=0,n=0,s=0,a=1/0;t=t||{},_t.prototype.init.call(this),this.push=function(t){Ee(e,t),e&&Et.forEach(function(i){e[i]=t[i]}),i.push(t)},this.setEarliestDts=function(e){n=e},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){s=e},this.flush=function(){var o,l,h,u,c,d,p;0!==i.length?(o=ve(i,e,n),e.baseMediaDecodeTime=Se(e,t.keepOriginalTimestamps),p=ge(e,o,s,a),e.samples=ye(o),h=Y(_e(o)),i=[],l=K(r,[e]),u=new Uint8Array(l.byteLength+h.byteLength),r++,u.set(l),u.set(h,l.byteLength),Te(e),c=Math.ceil(1024*kt/e.samplerate),o.length&&(d=o.length*c,this.trigger("segmentTimingInfo",Pt(pe(e.baseMediaDecodeTime,e.samplerate),o[0].dts,o[0].pts,o[0].dts+d,o[0].pts+d,p||0)),this.trigger("timingInfo",{start:o[0].pts,end:o[0].pts+d})),this.trigger("data",{track:e,boxes:u}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Te(e),i=[],this.trigger("reset")}}).prototype=new z,(yt=function(e,t){var i,r,n=0,s=[],a=[];t=t||{},yt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Ee(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],wt.forEach(function(t){e[t]=i[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),s.push(t)},this.flush=function(){for(var i,r,o,l,h,u,c,d,p=0;s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0===s.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=Z(s),(o=ee(i))[0][0].keyFrame||((r=this.getGopForFusion_(s[0],e))?(p=r.duration,o.unshift(r),o.byteLength+=r.byteLength,o.nalCount+=r.nalCount,o.pts=r.pts,o.dts=r.dts,o.duration+=r.duration):o=te(o)),a.length){var f;if(!(f=t.alignGopsAtEnd?this.alignGopsAtEnd_(o):this.alignGopsAtStart_(o)))return this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Te(e),o=f}Ee(e,o),e.samples=ie(o),h=Y(re(o)),e.baseMediaDecodeTime=Se(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",o.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),c=o[0],d=o[o.length-1],this.trigger("segmentTimingInfo",Pt(e.baseMediaDecodeTime,c.dts,c.pts,d.dts+d.duration,d.pts+d.duration,p)),this.trigger("timingInfo",{start:o[0].pts,end:o[o.length-1].pts+o[o.length-1].duration}),this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=K(n,[e]),u=new Uint8Array(l.byteLength+h.byteLength),n++,u.set(l),u.set(h,l.byteLength),this.trigger("data",{track:e,boxes:u}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),s=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){Te(e),i=void 0,r=void 0},this.getGopForFusion_=function(t){var i,r,n,s,a,o=1/0;for(a=0;a<this.gopCache_.length;a++)n=(s=this.gopCache_[a]).gop,e.pps&&At(e.pps[0],s.pps[0])&&e.sps&&At(e.sps[0],s.sps[0])&&(n.dts<e.timelineStartInfo.dts||(i=t.dts-n.dts-n.duration)>=-1e4&&i<=45e3&&(!r||o>i)&&(r=s,o=i));return r?r.gop:null},this.alignGopsAtStart_=function(e){var t,i,r,n,s,o,l,h;for(s=e.byteLength,o=e.nalCount,l=e.duration,t=i=0;t<a.length&&i<e.length&&(r=a[t],n=e[i],r.pts!==n.pts);)n.pts>r.pts?t++:(i++,s-=n.byteLength,o-=n.nalCount,l-=n.duration);return 0===i?e:i===e.length?null:((h=e.slice(i)).byteLength=s,h.duration=l,h.nalCount=o,h.pts=h[0].pts,h.dts=h[0].dts,h)},this.alignGopsAtEnd_=function(e){var t,i,r,n,s,o,l;for(t=a.length-1,i=e.length-1,s=null,o=!1;t>=0&&i>=0;){if(r=a[t],n=e[i],r.pts===n.pts){o=!0;break}r.pts>n.pts?t--:(t===a.length-1&&(s=i),i--)}if(!o&&null===s)return null;if(0===(l=o?i:s))return e;var h=e.slice(l),u=h.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return h.byteLength=u.byteLength,h.duration=u.duration,h.nalCount=u.nalCount,h.pts=h[0].pts,h.dts=h[0].dts,h},this.alignGopsWith=function(e){a=e}}).prototype=new z,(Tt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Tt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new z,Tt.prototype.flush=function(e){var t,i,r,n,s=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,wt.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,Et.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=Q(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),n=0;n<this.pendingBoxes.length;n++)a.data.set(this.pendingBoxes[n],s),s+=this.pendingBoxes[n].byteLength;for(n=0;n<this.pendingCaptions.length;n++)(t=this.pendingCaptions[n]).startTime=me(t.startPts,o,this.keepOriginalTimestamps),t.endTime=me(t.endPts,o,this.keepOriginalTimestamps),a.captionStreams[t.stream]=!0,a.captions.push(t);for(n=0;n<this.pendingMetadata.length;n++)(i=this.pendingMetadata[n]).cueTime=me(i.pts,o,this.keepOriginalTimestamps),a.metadata.push(i);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),n=0;n<a.captions.length;n++)t=a.captions[n],this.trigger("caption",t);for(n=0;n<a.metadata.length;n++)i=a.metadata[n],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Tt.prototype.setRemux=function(e){this.remuxTracks=e},(bt=function(e){var t,i,r=this,n=!0;bt.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var n={};this.transmuxPipeline_=n,n.type="aac",n.metadataStream=new nt.MetadataStream,n.aacStream=new St,n.audioTimestampRolloverStream=new nt.TimestampRolloverStream("audio"),n.timedMetadataTimestampRolloverStream=new nt.TimestampRolloverStream("timed-metadata"),n.adtsStream=new ut,n.coalesceStream=new Tt(e,n.metadataStream),n.headOfPipeline=n.aacStream,n.aacStream.pipe(n.audioTimestampRolloverStream).pipe(n.adtsStream),n.aacStream.pipe(n.timedMetadataTimestampRolloverStream).pipe(n.metadataStream).pipe(n.coalesceStream),n.metadataStream.on("timestamp",function(e){n.aacStream.setTimestamp(e.timeStamp)}),n.aacStream.on("data",function(s){"timed-metadata"!==s.type&&"audio"!==s.type||n.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new _t(i,e),n.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream),r.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!t}))}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var n={};this.transmuxPipeline_=n,n.type="ts",n.metadataStream=new nt.MetadataStream,n.packetStream=new nt.TransportPacketStream,n.parseStream=new nt.TransportParseStream,n.elementaryStream=new nt.ElementaryStream,n.timestampRolloverStream=new nt.TimestampRolloverStream,n.adtsStream=new ut,n.h264Stream=new Ct,n.captionStream=new nt.CaptionStream,n.coalesceStream=new Tt(e,n.metadataStream),n.headOfPipeline=n.packetStream,n.packetStream.pipe(n.parseStream).pipe(n.elementaryStream).pipe(n.timestampRolloverStream),n.timestampRolloverStream.pipe(n.h264Stream),n.timestampRolloverStream.pipe(n.adtsStream),n.timestampRolloverStream.pipe(n.metadataStream).pipe(n.coalesceStream),n.h264Stream.pipe(n.captionStream).pipe(n.coalesceStream),n.elementaryStream.on("data",function(s){var a;if("metadata"===s.type){for(a=s.tracks.length;a--;)t||"video"!==s.tracks[a].type?i||"audio"!==s.tracks[a].type||((i=s.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(t=s.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime;t&&!n.videoSegmentStream&&(n.coalesceStream.numberOfTracks++,n.videoSegmentStream=new yt(t,e),n.videoSegmentStream.on("timelineStartInfo",function(t){i&&!e.keepOriginalTimestamps&&(i.timelineStartInfo=t,n.audioSegmentStream.setEarliestDts(t.dts-r.baseMediaDecodeTime))}),n.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),n.videoSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"videoSegmentTimingInfo")),n.videoSegmentStream.on("baseMediaDecodeTime",function(e){i&&n.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),n.videoSegmentStream.on("timingInfo",r.trigger.bind(r,"videoTimingInfo")),n.h264Stream.pipe(n.videoSegmentStream).pipe(n.coalesceStream)),i&&!n.audioSegmentStream&&(n.coalesceStream.numberOfTracks++,n.audioSegmentStream=new _t(i,e),n.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),n.audioSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"audioSegmentTimingInfo")),n.adtsStream.pipe(n.audioSegmentStream).pipe(n.coalesceStream)),r.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!t})}}),n.coalesceStream.on("data",this.trigger.bind(this,"data")),n.coalesceStream.on("id3Frame",function(e){e.dispatchType=n.metadataStream.dispatchType,r.trigger("id3Frame",e)}),n.coalesceStream.on("caption",this.trigger.bind(this,"caption")),n.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(r){var n=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=r),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,Te(i),n.audioTimestampRolloverStream&&n.audioTimestampRolloverStream.discontinuity()),t&&(n.videoSegmentStream&&(n.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Te(t),n.captionStream.reset()),n.timestampRolloverStream&&n.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var i=this.transmuxPipeline_;e.remux=t,i&&i.coalesceStream&&i.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(n){var t=xt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),n=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){n=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new z;var It={Transmuxer:bt,VideoSegmentStream:yt,AudioSegmentStream:_t,AUDIO_PROPERTIES:Et,VIDEO_PROPERTIES:wt,generateSegmentTimingInfo:Pt},Dt={Adts:ut,h264:pt},Mt=ue,Lt=function e(t,i){var r=[],n=0,s=0,a=0,o=1/0,l=null,h=null;i=i||{},e.prototype.init.call(this),this.push=function(e){Ee(t,e),t&&Et.forEach(function(i){t[i]=e[i]}),r.push(e)},this.setEarliestDts=function(e){s=e},this.setVideoBaseMediaDecodeTime=function(e){o=e},this.setAudioAppendStart=function(e){a=e},this.processFrames_=function(){var e,u,c,d,p;0!==r.length&&0!==(e=ve(r,t,s)).length&&(t.baseMediaDecodeTime=Se(t,i.keepOriginalTimestamps),ge(t,e,a,o),t.samples=ye(e),c=Y(_e(e)),r=[],u=K(n,[t]),n++,t.initSegment=Q([t]),(d=new Uint8Array(u.byteLength+c.byteLength)).set(u),d.set(c,u.byteLength),Te(t),null===l&&(h=l=e[0].pts),h+=e.length*(1024*Mt/t.samplerate),p={start:l},this.trigger("timingInfo",p),this.trigger("data",{track:t,boxes:d}))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:l,end:h}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){Te(t),l=null,h=null},this.reset=function(){this.resetTiming_(),r=[],this.trigger("reset")}};Lt.prototype=new z;var Ot=Lt,Rt=function e(t,i){var r,n,s,a=0,o=[],l=[],h=null,u=null,c=!0;i=i||{},e.prototype.init.call(this),this.push=function(e){Ee(t,e),void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),"seq_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.config,t.sps=[e.data],wt.forEach(function(e){t[e]=r[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,t.pps=[e.data]),o.push(e)},this.processNals_=function(e){var r;for(o=l.concat(o);o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0!==o.length){var n=Z(o);if(n.length)if(l=n[n.length-1],e&&(n.pop(),n.duration-=l.duration,n.nalCount-=l.length,n.byteLength-=l.byteLength),n.length){if(this.trigger("timelineStartInfo",t.timelineStartInfo),c){if(!(s=ee(n))[0][0].keyFrame){if(!(s=te(s))[0][0].keyFrame)return o=[].concat.apply([],n).concat(l),void(l=[]);(n=[].concat.apply([],s)).duration=s.duration}c=!1}for(null===h&&(h=n[0].pts,u=h),u+=n.duration,this.trigger("timingInfo",{start:h,end:u}),r=0;r<n.length;r++){var d=n[r];t.samples=ne(d);var p=Y(se(d));Te(t),Ee(t,d),t.baseMediaDecodeTime=Se(t,i.keepOriginalTimestamps);var f=K(a,[t]);a++,t.initSegment=Q([t]);var m=new Uint8Array(f.byteLength+p.byteLength);m.set(f),m.set(p,f.byteLength),this.trigger("data",{track:t,boxes:m,sequence:a,videoFrameDts:d.dts,videoFramePts:d.pts})}o=[]}else o=[]}},this.resetTimingAndConfig_=function(){r=void 0,n=void 0,h=null,u=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),l=[],o=[],c=!0,this.trigger("reset")}};Rt.prototype=new z;var Ft=Rt,Bt=mt,Nt=function(e){return e.prototype=new z,e.prototype.init.call(e),e},Ut=function(e,t){e.on("data",t.trigger.bind(t,"data")),e.on("done",t.trigger.bind(t,"done")),e.on("partialdone",t.trigger.bind(t,"partialdone")),e.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),e.on("audioTimingInfo",t.trigger.bind(t,"audioTimingInfo")),e.on("videoTimingInfo",t.trigger.bind(t,"videoTimingInfo")),e.on("trackinfo",t.trigger.bind(t,"trackinfo")),e.on("id3Frame",function(i){i.dispatchType=e.metadataStream.dispatchType,i.cueTime=de(i.pts),t.trigger("id3Frame",i)}),e.on("caption",function(e){t.trigger("caption",e)})},jt=function e(t){var i=null,r=!0;t=t||{},e.prototype.init.call(this),t.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.push=function(e){if(r){var n=Bt(e);!n||i&&"aac"===i.type?n||i&&"ts"===i.type||(i=function(e){var t={type:"ts",tracks:{audio:null,video:null},packet:new nt.TransportPacketStream,parse:new nt.TransportParseStream,elementary:new nt.ElementaryStream,timestampRollover:new nt.TimestampRolloverStream,adts:new Dt.Adts,h264:new Dt.h264.H264Stream,captionStream:new nt.CaptionStream,metadataStream:new nt.MetadataStream};return t.headOfPipeline=t.packet,t.packet.pipe(t.parse).pipe(t.elementary).pipe(t.timestampRollover),t.timestampRollover.pipe(t.h264),t.h264.pipe(t.captionStream),t.timestampRollover.pipe(t.metadataStream),t.timestampRollover.pipe(t.adts),t.elementary.on("data",function(i){if("metadata"===i.type){for(var r=0;r<i.tracks.length;r++)t.tracks[i.tracks[r].type]||(t.tracks[i.tracks[r].type]=i.tracks[r],t.tracks[i.tracks[r].type].timelineStartInfo.baseMediaDecodeTime=e.baseMediaDecodeTime);t.tracks.video&&!t.videoSegmentStream&&(t.videoSegmentStream=new Ft(t.tracks.video,e),t.videoSegmentStream.on("timelineStartInfo",function(i){t.tracks.audio&&!e.keepOriginalTimestamps&&t.audioSegmentStream.setEarliestDts(i.dts-e.baseMediaDecodeTime)}),t.videoSegmentStream.on("timingInfo",t.trigger.bind(t,"videoTimingInfo")),t.videoSegmentStream.on("data",function(e){t.trigger("data",{type:"video",data:e})}),t.videoSegmentStream.on("done",t.trigger.bind(t,"done")),t.videoSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.videoSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.h264.pipe(t.videoSegmentStream)),t.tracks.audio&&!t.audioSegmentStream&&(t.audioSegmentStream=new Ot(t.tracks.audio,e),t.audioSegmentStream.on("data",function(e){t.trigger("data",{type:"audio",data:e})}),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adts.pipe(t.audioSegmentStream)),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video})}}),t.captionStream.on("data",function(i){var r;r=t.tracks.video&&t.tracks.video.timelineStartInfo.pts||0,i.startTime=me(i.startPts,r,e.keepOriginalTimestamps),i.endTime=me(i.endPts,r,e.keepOriginalTimestamps),t.trigger("caption",i)}),(t=Nt(t)).metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t}(t),Ut(i,this)):(i=function(e){var t={type:"aac",tracks:{audio:null},metadataStream:new nt.MetadataStream,aacStream:new St,audioRollover:new nt.TimestampRolloverStream("audio"),timedMetadataRollover:new nt.TimestampRolloverStream("timed-metadata"),adtsStream:new ut(!0)};return t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioRollover).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataRollover).pipe(t.metadataStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(i){"timed-metadata"!==i.type&&"audio"!==i.type||t.audioSegmentStream||(t.tracks.audio=t.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:e.baseMediaDecodeTime},codec:"adts",type:"audio"},t.audioSegmentStream=new Ot(t.tracks.audio,e),t.audioSegmentStream.on("data",function(e){t.trigger("data",{type:"audio",data:e})}),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video}))}),(t=Nt(t)).metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t}(t),Ut(i,this)),r=!1}i.headOfPipeline.push(e)},this.flush=function(){i&&(r=!0,i.headOfPipeline.flush())},this.partialFlush=function(){i&&i.headOfPipeline.partialFlush()},this.endTimeline=function(){i&&i.headOfPipeline.endTimeline()},this.reset=function(){i&&i.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(e){t.keepOriginalTimestamps||(t.baseMediaDecodeTime=e),i&&(i.tracks.audio&&(i.tracks.audio.timelineStartInfo.dts=void 0,i.tracks.audio.timelineStartInfo.pts=void 0,Te(i.tracks.audio),i.audioRollover&&i.audioRollover.discontinuity()),i.tracks.video&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),i.tracks.video.timelineStartInfo.dts=void 0,i.tracks.video.timelineStartInfo.pts=void 0,Te(i.tracks.video)),i.timestampRollover&&i.timestampRollover.discontinuity())},this.setRemux=function(e){t.remux=e,i&&i.coalesceStream&&i.coalesceStream.setRemux(e)},this.setAudioAppendStart=function(e){i&&i.tracks.audio&&i.audioSegmentStream&&i.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){}};jt.prototype=new z;var Vt=jt,zt=function(e){return e>>>0},Gt=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},Ht=zt,$t=function e(t,i){var r,n,s,a,o,l=[];if(!i.length)return null;for(r=0;r<t.byteLength;)n=Ht(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]),s=Gt(t.subarray(r+4,r+8)),a=n>1?r+n:t.byteLength,s===i[0]&&(1===i.length?l.push(t.subarray(r+8,a)):(o=e(t.subarray(r+8,a),i.slice(1))).length&&(l=l.concat(o))),r=a;return l},qt=zt,Wt=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:qt(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=qt(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t},Xt=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Yt=function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=1&i.flags[2],s=4&i.flags[2],a=1&i.flags[1],o=2&i.flags[1],l=4&i.flags[1],h=8&i.flags[1],u=r.getUint32(4),c=8;for(n&&(i.dataOffset=r.getInt32(c),c+=4),s&&u&&(t={flags:Xt(e.subarray(c,c+4))},c+=4,a&&(t.duration=r.getUint32(c),c+=4),o&&(t.size=r.getUint32(c),c+=4),h&&(1===i.version?t.compositionTimeOffset=r.getInt32(c):t.compositionTimeOffset=r.getUint32(c),c+=4),i.samples.push(t),u--);u--;)t={},a&&(t.duration=r.getUint32(c),c+=4),o&&(t.size=r.getUint32(c),c+=4),l&&(t.flags=Xt(e.subarray(c,c+4)),c+=4),h&&(1===i.version?t.compositionTimeOffset=r.getInt32(c):t.compositionTimeOffset=r.getUint32(c),c+=4),i.samples.push(t);return i},Kt=function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:i.getUint32(4)},n=1&r.flags[2],s=2&r.flags[2],a=8&r.flags[2],o=16&r.flags[2],l=32&r.flags[2],h=65536&r.flags[0],u=131072&r.flags[0];return t=8,n&&(t+=4,r.baseDataOffset=i.getUint32(12),t+=4),s&&(r.sampleDescriptionIndex=i.getUint32(t),t+=4),a&&(r.defaultSampleDuration=i.getUint32(t),t+=4),o&&(r.defaultSampleSize=i.getUint32(t),t+=4),l&&(r.defaultSampleFlags=i.getUint32(t)),h&&(r.durationIsEmpty=!0),!n&&u&&(r.baseDataOffsetIsMoof=!0),r},Qt=ke,Jt=je.CaptionStream,Zt=function(e,t){for(var i=e,r=0;r<t.length;r++){var n=t[r];if(i<n.size)return n;i-=n.size}return null},ei=function(e,t){var i=$t(e,["moof","traf"]),r={},n=[];return $t(e,["mdat"]).forEach(function(e,t){var r=i[t];n.push({mdat:e,traf:r})}),n.forEach(function(e){var i,n=e.mdat,s=e.traf,a=$t(s,["tfhd"]),o=Kt(a[0]),l=o.trackId,h=$t(s,["tfdt"]),u=h.length>0?Wt(h[0]).baseMediaDecodeTime:0,c=$t(s,["trun"]);t===l&&c.length>0&&(i=function(e,t,i){var r,n,s,a,o=new DataView(e.buffer,e.byteOffset,e.byteLength),l=[];for(n=0;n+4<e.length;n+=s)if(s=o.getUint32(n),n+=4,!(s<=0))switch(31&e[n]){case 6:var h=e.subarray(n+1,n+1+s),u=Zt(n,t);if(r={nalUnitType:"sei_rbsp",size:s,data:h,escapedRBSP:Qt(h),trackId:i},u)r.pts=u.pts,r.dts=u.dts,a=u;else{if(!a){console.log("We've encountered a nal unit without data. See mux.js#233.");break}r.pts=a.pts,r.dts=a.dts}l.push(r)}return l}(n,function(e,t,i){var r=t,n=i.defaultSampleDuration||0,s=i.defaultSampleSize||0,a=i.trackId,o=[];return e.forEach(function(e){var t=Yt(e).samples;t.forEach(function(e){void 0===e.duration&&(e.duration=n),void 0===e.size&&(e.size=s),e.trackId=a,e.dts=r,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=r+e.compositionTimeOffset,r+=e.duration}),o=o.concat(t)}),o}(c,u,o),l),r[l]||(r[l]=[]),r[l]=r[l].concat(i))}),r},ti=function(){var e,t,i,r,n,s,a=!1;this.isInitialized=function(){return a},this.init=function(t){e=new Jt,a=!0,s=!!t&&t.isPartial,e.on("data",function(e){e.startTime=e.startPts/r,e.endTime=e.endPts/r,n.captions.push(e),n.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||i===e[0]&&r===t[i])},this.parse=function(e,s,a){var o;if(!this.isInitialized())return null;if(!s||!a)return null;if(this.isNewInit(s,a))i=s[0],r=a[i];else if(null===i||!r)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,s,a)}return null!==(o=function(e,t,i){return null===t?null:{seiNals:ei(e,t)[t],timescale:i}}(e,i,r))&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),n):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;s?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){n.captions=[],n.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],i=null,r=null,n?this.clearParsedCaptions():n={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},ii=function(e){return"AudioSegmentStream"===e?"audio":"VideoSegmentStream"===e?"video":""},ri=function(){function e(e,t){this.options=t||{},this.self=e,this.init()}var t=e.prototype;return t.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=this.options.handlePartialData?new Vt(this.options):new It.Transmuxer(this.options),this.options.handlePartialData?function(e,t){t.on("data",function(t){var i={data:t.data.track.initSegment.buffer,byteOffset:t.data.track.initSegment.byteOffset,byteLength:t.data.track.initSegment.byteLength},r={boxes:{data:t.data.boxes.buffer,byteOffset:t.data.boxes.byteOffset,byteLength:t.data.boxes.byteLength},initSegment:i,type:t.type,sequence:t.data.sequence};void 0!==t.data.videoFrameDts&&(r.videoFrameDtsTime=de(t.data.videoFrameDts)),void 0!==t.data.videoFramePts&&(r.videoFramePtsTime=de(t.data.videoFramePts)),e.postMessage({action:"data",segment:r},[r.boxes.data,r.initSegment.data])}),t.on("id3Frame",function(t){e.postMessage({action:"id3Frame",id3Frame:t})}),t.on("caption",function(t){e.postMessage({action:"caption",caption:t})}),t.on("done",function(t){e.postMessage({action:"done",type:ii(t)})}),t.on("partialdone",function(t){e.postMessage({action:"partialdone",type:ii(t)})}),t.on("endedsegment",function(t){e.postMessage({action:"endedSegment",type:ii(t)})}),t.on("trackinfo",function(t){e.postMessage({action:"trackinfo",trackInfo:t})}),t.on("audioTimingInfo",function(t){if(null!==t.start){var i={start:de(t.start)};t.end&&(i.end=de(t.end)),e.postMessage({action:"audioTimingInfo",audioTimingInfo:i})}else e.postMessage({action:"audioTimingInfo",audioTimingInfo:t})}),t.on("videoTimingInfo",function(t){var i={start:de(t.start)};t.end&&(i.end=de(t.end)),e.postMessage({action:"videoTimingInfo",videoTimingInfo:i})})}(this.self,this.transmuxer):function(e,t){t.on("data",function(t){var i=t.initSegment;t.initSegment={data:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength};var r=t.data;t.data=r.buffer,e.postMessage({action:"data",segment:t,byteOffset:r.byteOffset,byteLength:r.byteLength},[t.data])}),t.on("done",function(t){e.postMessage({action:"done"})}),t.on("gopInfo",function(t){e.postMessage({action:"gopInfo",gopInfo:t})}),t.on("videoSegmentTimingInfo",function(t){var i={start:{decode:de(t.start.dts),presentation:de(t.start.pts)},end:{decode:de(t.end.dts),presentation:de(t.end.pts)},baseMediaDecodeTime:de(t.baseMediaDecodeTime)};t.prependedContentDuration&&(i.prependedContentDuration=de(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:i})}),t.on("audioSegmentTimingInfo",function(t){var i={start:{decode:de(t.start.dts),presentation:de(t.start.pts)},end:{decode:de(t.end.dts),presentation:de(t.end.pts)},baseMediaDecodeTime:de(t.baseMediaDecodeTime)};t.prependedContentDuration&&(i.prependedContentDuration=de(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:i})}),t.on("id3Frame",function(t){e.postMessage({action:"id3Frame",id3Frame:t})}),t.on("caption",function(t){e.postMessage({action:"caption",caption:t})}),t.on("trackinfo",function(t){e.postMessage({action:"trackinfo",trackInfo:t})}),t.on("audioTimingInfo",function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:de(t.start),end:de(t.end)}})}),t.on("videoTimingInfo",function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:de(t.start),end:de(t.end)}})})}(this.self,this.transmuxer)},t.pushMp4Captions=function(e){this.captionParser||(this.captionParser=new ti,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),i=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:i&&i.captions||[],data:t.buffer},[t.buffer])},t.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},t.push=function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)},t.reset=function(){this.transmuxer.reset()},t.setTimestampOffset=function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(ce(t)))},t.setAudioAppendStart=function(e){this.transmuxer.setAudioAppendStart(Math.ceil(ce(e.appendStart)))},t.setRemux=function(e){this.transmuxer.setRemux(e.remux)},t.flush=function(e){this.transmuxer.flush(),i.postMessage({action:"done",type:"transmuxed"})},t.partialFlush=function(e){this.transmuxer.partialFlush(),i.postMessage({action:"partialdone",type:"transmuxed"})},t.endTimeline=function(){this.transmuxer.endTimeline(),i.postMessage({action:"endedtimeline",type:"transmuxed"})},t.alignGopsWith=function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();new function(e){e.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new ri(e,t.data.options):(this.messageHandlers||(this.messageHandlers=new ri(e)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}(i)}()}),ko=function(e,t){var i=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},Ao=function(e,t){var i=t.attributes||{},r=function(e){var t=e.attributes||{};if(t.CODECS)return Object(Me.parseCodecs)(t.CODECS)}(t)||{};if(ko(e,t)&&!r.audio&&!function(e,t){if(!ko(e,t))return!0;var i=t.attributes||{},r=e.mediaGroups.AUDIO[i.AUDIO];for(var n in r)if(!r[n].uri&&!r[n].playlists)return!0;return!1}(e,t)){var n=Object(Me.codecsFromDefault)(e,i.AUDIO);n&&(r.audio=n.audio)}var s={};return r.video&&(s.video=Object(Me.translateLegacyCodec)(""+r.video.type+r.video.details)),r.audio&&(s.audio=Object(Me.translateLegacyCodec)(""+r.audio.type+r.audio.details)),r.text&&(s.text=r.text.type),r.unknown&&(s.unknown=r.unknown),s},Po=function(e){return qs.log.debug?qs.log.debug.bind(qs,"VHS:",e+" >"):function(){}},Io=Po("PlaylistSelector"),Do=function(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}},Mo=function(e,t){if(!e)return"";var i=n.a.getComputedStyle(e);return i?i[t]:""},Lo=function(e,t){var i=e.slice();e.sort(function(e,r){var n=t(e,r);return 0===n?i.indexOf(e)-i.indexOf(r):n})},Oo=function(e,t){var i,r;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||n.a.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),i-(r=r||n.a.Number.MAX_VALUE)},Ro=function(e,t,i,r,s){if(e){var a={bandwidth:t,width:i,height:r,limitRenditionByPlayerDimensions:s},o=e.playlists.map(function(e){var t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes.BANDWIDTH||n.a.Number.MAX_VALUE,width:t,height:i,playlist:e}});Lo(o,function(e,t){return e.bandwidth-t.bandwidth});var l=(o=o.filter(function(e){return!Ca.isIncompatible(e.playlist)})).filter(function(e){return Ca.isEnabled(e.playlist)});l.length||(l=o.filter(function(e){return!Ca.isDisabled(e.playlist)}));var h=l.filter(function(e){return e.bandwidth*Wa.BANDWIDTH_VARIANCE<t}),u=h[h.length-1],c=h.filter(function(e){return e.bandwidth===u.bandwidth})[0];if(!1===s){var d=c||l[0]||o[0];if(d&&d.playlist){var p="sortedPlaylistReps";return c&&(p="bandwidthBestRep"),l[0]&&(p="enabledPlaylistReps"),Io("choosing "+Do(d)+" using "+p+" with options",a),d.playlist}return Io("could not choose a playlist with options",a),null}var f=h.filter(function(e){return e.width&&e.height});Lo(f,function(e,t){return e.width-t.width});var m=f.filter(function(e){return e.width===i&&e.height===r});u=m[m.length-1];var g,v,y,_=m.filter(function(e){return e.bandwidth===u.bandwidth})[0];_||(v=(g=f.filter(function(e){return e.width>i||e.height>r})).filter(function(e){return e.width===g[0].width&&e.height===g[0].height}),u=v[v.length-1],y=v.filter(function(e){return e.bandwidth===u.bandwidth})[0]);var b=y||_||c||l[0]||o[0];if(b&&b.playlist){var T="sortedPlaylistReps";return y?T="resolutionPlusOneRep":_?T="resolutionBestRep":c?T="bandwidthBestRep":l[0]&&(T="enabledPlaylistReps"),Io("choosing "+Do(b)+" using "+T+" with options",a),b.playlist}return Io("could not choose a playlist with options",a),null}},Fo=function(){var e=this.useDevicePixelRatio&&n.a.devicePixelRatio||1;return Ro(this.playlists.master,this.systemBandwidth,parseInt(Mo(this.tech_.el(),"width"),10)*e,parseInt(Mo(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions)},Bo=function(e){var t=e.inbandTextTracks,i=e.metadataArray,r=e.timestampOffset,s=e.videoDuration;if(i){var a=n.a.WebKitDataCue||n.a.VTTCue,o=t.metadataTrack_;if(o&&(i.forEach(function(e){var t=e.cueTime+r;!("number"!=typeof t||n.a.isNaN(t)||t<0)&&t<1/0&&e.frames.forEach(function(e){var i=new a(t,t,e.value||e.url||e.data||"");i.frame=e,i.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return qs.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return qs.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return qs.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(i),o.addCue(i)})}),o.cues&&o.cues.length)){for(var l=o.cues,h=[],u=0;u<l.length;u++)l[u]&&h.push(l[u]);var c=h.reduce(function(e,t){var i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e},{}),d=Object.keys(c).sort(function(e,t){return Number(e)-Number(t)});d.forEach(function(e,t){var i=c[e],r=Number(d[t+1])||s;i.forEach(function(e){e.endTime=r})})}}},No=function(e,t,i){var r,n;if(i&&i.cues)for(r=i.cues.length;r--;)(n=i.cues[r]).startTime>=e&&n.endTime<=t&&i.removeCue(n)},Uo=function(e){return"number"==typeof e&&isFinite(e)},jo=function(e){return e+"TimingInfo"},Vo=function(e){var t=e.segmentTimeline,i=e.currentTimeline,r=e.startOfSegment,n=e.buffered;return e.overrideCheck||t!==i?t<i?r:n.length?n.end(n.length-1):r:null},zo=function(e){var t=e.timelineChangeController,i=e.currentTimeline,r=e.segmentTimeline,n=e.loaderType,s=e.audioDisabled;if(i===r)return!1;if("audio"===n){var a=t.lastTimelineChange({type:"main"});return!a||a.to!==r}if("main"===n&&s){var o=t.pendingTimelineChange({type:"audio"});return!o||o.to!==r}return!1},Go=function(e){var t=e.segmentDuration,i=e.maxDuration;return!!t&&Math.round(t)>i+1/30},Ho=function(e,t){if("hls"!==t)return null;var i,r,n,s,a=(i=e.audioTimingInfo,r=e.videoTimingInfo,n=i&&"number"==typeof i.start&&"number"==typeof i.end?i.end-i.start:0,s=r&&"number"==typeof r.start&&"number"==typeof r.end?r.end-r.start:0,Math.max(n,s));if(!a)return null;var o=e.playlist.targetDuration,l=Go({segmentDuration:a,maxDuration:2*o}),h=Go({segmentDuration:a,maxDuration:o}),u="Segment with index "+e.mediaIndex+" from playlist "+e.playlist.id+" has a duration of "+a+" when the reported duration is "+e.duration+" and the target duration is "+o+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return l||h?{severity:l?"warn":"info",message:u}:null},$o=function(e){function t(t,i){var r;if(r=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return r.bandwidth=t.bandwidth,r.throughput={rate:0,count:0},r.roundTrip=NaN,r.resetStats_(),r.mediaIndex=null,r.hasPlayed_=t.hasPlayed,r.currentTime_=t.currentTime,r.seekable_=t.seekable,r.seeking_=t.seeking,r.duration_=t.duration,r.mediaSource_=t.mediaSource,r.vhs_=t.vhs,r.loaderType_=t.loaderType,r.currentMediaInfo_=void 0,r.startingMediaInfo_=void 0,r.segmentMetadataTrack_=t.segmentMetadataTrack,r.goalBufferLength_=t.goalBufferLength,r.sourceType_=t.sourceType,r.sourceUpdater_=t.sourceUpdater,r.inbandTextTracks_=t.inbandTextTracks,r.state_="INIT",r.handlePartialData_=t.handlePartialData,r.timelineChangeController_=t.timelineChangeController,r.shouldSaveSegmentTimingInfo_=!0,r.checkBufferTimeout_=null,r.error_=void 0,r.currentTimeline_=-1,r.pendingSegment_=null,r.xhrOptions_=null,r.pendingSegments_=[],r.audioDisabled_=!1,r.isPendingTimestampOffset_=!1,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=qs.browser.IE_VERSION>=11,r.appendInitSegment_={audio:!0,video:!0},r.playlistOfLastInitSegment_={audio:null,video:null},r.callQueue_=[],r.loadQueue_=[],r.metadataQueue_={id3:[],caption:[]},r.activeInitSegmentId_=null,r.initSegments_={},r.cacheEncryptionKeys_=t.cacheEncryptionKeys,r.keyCache_={},r.decrypter_=t.decrypter,r.syncController_=t.syncController,r.syncPoint_={segmentIndex:0,time:0},r.transmuxer_=r.createTransmuxer_(),r.triggerSyncInfoUpdate_=function(){return r.trigger("syncinfoupdate")},r.syncController_.on("syncinfoupdate",r.triggerSyncInfoUpdate_),r.mediaSource_.addEventListener("sourceopen",function(){r.isEndOfStream_()||(r.ended_=!1)}),r.fetchAtBuffer_=!1,r.logger_=Po("SegmentLoader["+r.loaderType_+"]"),Object.defineProperty(u()(r),"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),r.sourceUpdater_.on("ready",function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()}),"main"===r.loaderType_&&r.timelineChangeController_.on("pendingtimelinechange",function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()}),"audio"===r.loaderType_&&r.timelineChangeController_.on("timelinechange",function(){r.hasEnoughInfoToLoad_()&&r.processLoadQueue_(),r.hasEnoughInfoToAppend_()&&r.processCallQueue_()}),r}d()(t,e);var i=t.prototype;return i.createTransmuxer_=function(){var e=new xo;return e.postMessage({action:"init",options:{remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,handlePartialData:this.handlePartialData_}}),e},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&(this.transmuxer_.terminate(),io()),this.resetStats_(),this.checkBufferTimeout_&&n.a.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_)},i.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},i.error=function(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&to(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){if(!this.sourceUpdater_||!this.startingMediaInfo_)return qs.createTimeRanges();if("main"===this.loaderType_){var e=this.startingMediaInfo_,t=e.hasAudio,i=e.hasVideo,r=e.isMuxed;if(i&&t&&!this.audioDisabled_&&!r)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var i=Ra(e),r=this.initSegments_[i];return t&&!r&&e.bytes&&(this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),r||e},i.segmentKey=function(e,t){if(void 0===t&&(t=!1),!e)return null;var i=Fa(e),r=this.keyCache_[i];this.cacheEncryptionKeys_&&t&&!r&&e.bytes&&(this.keyCache_[i]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});var n={resolvedUri:(r||e).resolvedUri};return r&&(n.bytes=r.bytes),n},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(e,t){if(void 0===t&&(t={}),e){var i=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var n=null;if(i&&(i.id?n=i.id:i.uri&&(n=i.uri)),this.logger_("playlist update ["+n+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri)return(null!==this.mediaIndex||this.handlePartialData_)&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var s=e.mediaSequence-i.mediaSequence;this.logger_("live window shift ["+s+"]"),null!==this.mediaIndex&&(this.mediaIndex-=s),r&&(r.mediaIndex-=s,r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(i,e)}},i.pause=function(){this.checkBufferTimeout_&&(n.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return null===this.checkBufferTimeout_},i.resetEverything=function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"})},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&to(this.transmuxer_),this.mediaIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(e,t,i){if(void 0===i&&(i=function(){}),t===1/0&&(t=this.duration_()),this.sourceUpdater_&&this.currentMediaInfo_){var r=1,n=function(){0===--r&&i()};for(var s in this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,n)),"main"===this.loaderType_&&this.currentMediaInfo_&&this.currentMediaInfo_.hasVideo&&(this.gopBuffer_=function(e,t,i,r){for(var n=Math.ceil((t-r)*Pe.ONE_SECOND_IN_TS),s=Math.ceil((i-r)*Pe.ONE_SECOND_IN_TS),a=e.slice(),o=e.length;o--&&!(e[o].pts<=s););if(-1===o)return a;for(var l=o+1;l--&&!(e[l].pts<=n););return l=Math.max(l,0),a.splice(l,o-l+1),a}(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,n)),this.inbandTextTracks_)No(e,t,this.inbandTextTracks_[s]);No(e,t,this.segmentMetadataTrack_),n()}},i.monitorBuffer_=function(){this.checkBufferTimeout_&&n.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=n.a.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&n.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=n.a.setTimeout(this.monitorBufferTick_.bind(this),500)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.buffered_(),t=this.checkBuffer_(e,this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);t&&(t.timestampOffset=Vo({segmentTimeline:t.timeline,currentTimeline:this.currentTimeline_,startOfSegment:t.startOfSegment,buffered:e,overrideCheck:this.isPendingTimestampOffset_}),this.isPendingTimestampOffset_=!1,"number"==typeof t.timestampOffset&&this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),this.loadSegment_(t))}},i.isEndOfStream_=function(e,t){if(void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),!t||!this.mediaSource_)return!1;var i=e+1===t.segments.length;return t.endList&&"open"===this.mediaSource_.readyState&&i},i.checkBuffer_=function(e,t,i,r,n,s){var a=0;e.length&&(a=e.end(e.length-1));var o=Math.max(0,a-n);if(!t.segments.length)return null;if(o>=this.goalBufferLength_())return null;if(!r&&o>=1)return null;var l,h=null,u=!1;if(null===s)h=this.getSyncSegmentCandidate_(t),u=!0;else if(null!==i){var c=t.segments[i];l=c&&c.end?c.end:a,h=i+1}else if(this.fetchAtBuffer_){var d=Ca.getMediaInfoForTime(t,a,s.segmentIndex,s.time);h=d.mediaIndex,l=d.startTime}else{var p=Ca.getMediaInfoForTime(t,n,s.segmentIndex,s.time);h=p.mediaIndex,l=p.startTime}var f=this.generateSegmentInfo_(t,h,l,u);return!f||this.mediaSource_&&this.playlist_&&f.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?void 0:(this.logger_("checkBuffer_ returning "+f.uri,{segmentInfo:f,playlist:t,currentMediaIndex:i,nextMediaIndex:h,startOfSegment:l,isSyncRequest:u}),f)},i.getSyncSegmentCandidate_=function(e){var t=this;if(-1===this.currentTimeline_)return 0;var i=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return i.length?i[Math.min(i.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)},i.generateSegmentInfo_=function(e,t,i,r){if(t<0||t>=e.segments.length)return null;var n,s,a=e.segments[t],o=this.sourceUpdater_.audioBuffered(),l=this.sourceUpdater_.videoBuffered();return o.length&&(n=o.end(o.length-1)-this.sourceUpdater_.audioTimestampOffset()),l.length&&(s=function(e,t,i){if(void 0===t||null===t||!e.length)return[];var r,n=Math.ceil((t-i+3)*Pe.ONE_SECOND_IN_TS);for(r=0;r<e.length&&!(e[r].pts>n);r++);return e.slice(r)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),{requestId:"segment-loader-"+Math.random(),uri:a.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:i,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:a.timeline,duration:a.duration,segment:a,byteLength:0,transmuxer:this.transmuxer_,audioAppendStart:n,gopsToAlignWith:s}},i.earlyAbortWhenNeeded_=function(e){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var t=this.currentTime_(),i=e.bandwidth,r=this.pendingSegment_.duration,n=Ca.estimateSegmentRequestTime(r,i,this.playlist_,e.bytesReceived),s=function(e,t,i){return void 0===i&&(i=1),((e.length?e.end(e.length-1):0)-t)/i}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(!(n<=s)){var a=function(e){var t=e.master,i=e.currentTime,r=e.bandwidth,n=e.duration,s=e.segmentDuration,a=e.timeUntilRebuffer,o=e.currentTimeline,l=e.syncController,h=t.playlists.filter(function(e){return!Ca.isIncompatible(e)}),u=h.filter(Ca.isEnabled);u.length||(u=h.filter(function(e){return!Ca.isDisabled(e)}));var c=u.filter(Ca.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=l.getSyncPoint(e,n,o,i)?1:2;return{playlist:e,rebufferingImpact:Ca.estimateSegmentRequestTime(s,r,e)*t-a}}),d=c.filter(function(e){return e.rebufferingImpact<=0});return Lo(d,function(e,t){return Oo(t.playlist,e.playlist)}),d.length?d[0]:(Lo(c,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),c[0]||null)}({master:this.vhs_.playlists.master,currentTime:t,bandwidth:i,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var o=n-s-a.rebufferingImpact,l=.5;s<=1/30&&(l=1),!a.playlist||a.playlist.uri===this.playlist_.uri||o<l||(this.bandwidth=a.playlist.attributes.BANDWIDTH*Wa.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},i.handleAbort_=function(){this.mediaRequestsAborted+=1},i.handleProgress_=function(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")},i.handleTrackInfo_=function(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var i=Object.keys(e).sort(),r=Object.keys(t).sort();if(i.length!==r.length)return!1;for(var n=0;n<i.length;n++){var s=i[n];if(s!==r[n])return!1;if(e[s]!==t[s])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},i.handleTimingInfo_=function(e,t,i,r){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var n=this.pendingSegment_,s=jo(t);n[s]=n[s]||{},n[s][i]=r,this.logger_("timinginfo: "+t+" - "+i+" - "+r),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(e,t){var i=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(0!==t.length)if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};t.forEach(function(e){s[e.stream]=s[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=s[e.stream];t.startTime=Math.min(t.startTime,e.startTime+r),t.endTime=Math.max(t.endTime,e.endTime+r),t.captions.push(e)}),Object.keys(s).forEach(function(e){var t=s[e],a=t.startTime,o=t.endTime,l=t.captions,h=i.inbandTextTracks_;i.logger_("adding cues from "+a+" -> "+o+" for "+e),function(e,t,i){if(!e[i]){t.trigger({type:"usage",name:"vhs-608"}),t.trigger({type:"usage",name:"hls-608"});var r=t.textTracks().getTrackById(i);e[i]=r||t.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}(h,i.vhs_.tech_,e),No(a,o,h[e]),function(e){var t=e.inbandTextTracks,i=e.captionArray,r=e.timestampOffset;if(i){var s=n.a.WebKitDataCue||n.a.VTTCue;i.forEach(function(e){var i=e.stream;t[i].addCue(new s(e.startTime+r,e.endTime+r,e.text))})}}({captionArray:l,inbandTextTracks:h,timestampOffset:r})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));else this.logger_("SegmentLoader received no captions from a caption event")},i.handleId3_=function(e,t,i){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(e,t,i){e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)}(this.inbandTextTracks_,i,this.vhs_.tech_),Bo({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:r,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,i))},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(e){return e()}),this.metadataQueue_.caption.forEach(function(e){return e()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach(function(e){return e()})},i.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach(function(e){return e()})},i.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!!e&&(!this.currentMediaInfo_||!zo({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;var e=this.pendingSegment_;if(!e||!e.trackInfo)return!1;if(!this.handlePartialData_){var t=this.currentMediaInfo_,i=t.hasAudio,r=t.hasVideo,n=t.isMuxed;if(r&&!e.videoTimingInfo)return!1;if(i&&!this.audioDisabled_&&!n&&!e.audioTimingInfo)return!1}return!zo({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})},i.handleData_=function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[jo(t.type)].start;else{var r,n="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo;n&&(r=this.handlePartialData_?t.videoFramePtsTime:i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:n,firstVideoFrameTimeForData:r,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}this.updateAppendInitSegmentStatus(i,t.type),this.updateSourceBufferTimestampOffset_(i),i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},i.updateAppendInitSegmentStatus=function(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},i.getInitSegmentAndUpdateState_=function(e){var t=e.type,i=e.initSegment,r=e.map,n=e.playlist;if(r){var s=Ra(r);if(this.activeInitSegmentId_===s)return null;i=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=s}return i&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=n,this.appendInitSegment_[t]=!!r,this.activeInitSegmentId_=null,i):null},i.appendToSourceBuffer_=function(e){var t=this,i=e.segmentInfo,r=e.type,n=e.initSegment,s=e.data,a=[s],o=s.byteLength;n&&(a.unshift(n),o+=n.byteLength);var l,h,u,c=(u=0,(l={bytes:o,segments:a}).bytes&&(h=new Uint8Array(l.bytes),l.segments.forEach(function(e){h.set(e,u),u+=e.byteLength})),h);this.sourceUpdater_.appendBuffer({segmentInfo:i,type:r,bytes:c},function(e){e&&(t.error(r+" append of "+c.length+"b failed for segment #"+i.mediaIndex+" in playlist "+i.playlist.id),t.trigger("appenderror"))})},i.handleSegmentTimingInfo_=function(e,t,i){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var r=this.pendingSegment_.segment,n=e+"TimingInfo";r[n]||(r[n]={}),r[n].transmuxerPrependedSeconds=i.prependedContentDuration||0,r[n].transmuxedPresentationStart=i.start.presentation,r[n].transmuxedDecodeStart=i.start.decode,r[n].transmuxedPresentationEnd=i.end.presentation,r[n].transmuxedDecodeEnd=i.end.decode,r[n].baseMediaDecodeTime=i.baseMediaDecodeTime}},i.appendData_=function(e,t){var i=t.type,r=t.data;if(r&&r.byteLength&&("audio"!==i||!this.audioDisabled_)){var n=this.getInitSegmentAndUpdateState_({type:i,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:n,data:r})}},i.loadSegment_=function(e){var t=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push(function(){var i=t.buffered_();"number"==typeof e.timestampOffset&&(e.timestampOffset=Vo({segmentTimeline:e.timeline,currentTimeline:t.currentTimeline_,startOfSegment:e.startOfSegment,buffered:i,overrideCheck:!0})),delete e.audioAppendStart;var r=t.sourceUpdater_.audioBuffered();r.length&&(e.audioAppendStart=r.end(r.length-1)-t.sourceUpdater_.audioTimestampOffset()),t.updateTransmuxerAndRequestSegment_(e)})},i.updateTransmuxerAndRequestSegment_=function(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var t=this.createSimplifiedSegmentObj_(e);e.abortRequests=fo({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,handlePartialData:this.handlePartialData_,abortFn:this.handleAbort_.bind(this),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this)})},i.trimBackBuffer_=function(e){var t=function(e,t,i){var r=t-Wa.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));var n=t-i;return Math.min(n,r)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)},i.createSimplifiedSegmentObj_=function(e){var t=e.segment,i={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith},r=e.playlist.segments[e.mediaIndex-1];if(r&&r.timeline===t.timeline&&(r.videoTimingInfo?i.baseStartTime=r.videoTimingInfo.transmuxedDecodeEnd:r.audioTimingInfo&&(i.baseStartTime=r.audioTimingInfo.transmuxedDecodeEnd)),t.key){var n=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key=this.segmentKey(t.key),i.key.iv=n}return t.map&&(i.map=this.initSegmentForMap(t.map)),i},i.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},i.saveBandwidthRelatedStats_=function(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<1/60?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record "+1/60):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},i.segmentRequestFinished_=function(e,t,i){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,i));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",e.code===ao)return;return this.pause(),e.code===so?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}var r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,t.stats),r.endOfAllRequests=t.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=function(e,t,i){if(!t.length)return e;if(i)return t.slice();for(var r=t[0].pts,n=0;n<e.length&&!(e[n].pts>=r);n++);return e.slice(0,n).concat(t)}(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING";var n=this.isEndOfStream_(r.mediaIndex,r.playlist),s=null!==this.mediaIndex,a=r.timeline!==this.currentTimeline_&&r.timeline>0;!r.isFmp4&&(n||s&&a)&&ro(this.transmuxer_),this.trigger("appending"),this.waitForAppendsToComplete_(r)}},i.setTimeMapping_=function(e){var t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)},i.updateMediaSecondsLoaded_=function(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},i.trueSegmentStart_=function(e){var t=e.currentStart,i=e.playlist,r=e.mediaIndex,n=e.firstVideoFrameTimeForData,s=e.currentVideoTimestampOffset,a=e.useVideoTimingInfo,o=e.videoTimingInfo,l=e.audioTimingInfo;if(void 0!==t)return t;if(!a)return l.start;var h=i.segments[r-1];return 0!==r&&h&&void 0!==h.start&&h.end===n+s?o.start:n},i.waitForAppendsToComplete_=function(e){if(!this.currentMediaInfo_)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var t=this.currentMediaInfo_,i=t.hasAudio,r=t.hasVideo,n=t.isMuxed,s="main"===this.loaderType_&&r,a=!this.audioDisabled_&&i&&!n;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);s&&e.waitingOnAppends++,a&&e.waitingOnAppends++,s&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},i.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(e){var t=function(e,t,i){return"main"===e&&t&&i?i.hasAudio||i.hasVideo?t.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.currentMediaInfo_,e);return!!t&&(this.error({message:t,blacklistDuration:1/0}),this.trigger("error"),!0)},i.updateSourceBufferTimestampOffset_=function(e){if(null!==e.timestampOffset&&"number"==typeof e.timingInfo.start&&!e.changedTimestampOffset&&"main"===this.loaderType_){var t=!1;e.timestampOffset-=e.timingInfo.start,e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}},i.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var t="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;t&&(e.timingInfo.end="number"==typeof t.end?t.end:t.start+e.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_}),this.logger_(function(e){var t=e.segment,i=t.start,r=t.end,n=e.playlist,s=n.mediaSequence,a=n.id,o=n.segments,l=void 0===o?[]:o,h=e.mediaIndex,u=e.timeline;return["appending ["+h+"] of ["+s+", "+(s+l.length)+"] from playlist ["+a+"]","["+i+" => "+r+"] in timeline ["+u+"]"].join(" ")}(e));var t=Ho(e,this.sourceType_);if(t&&("warn"===t.severity?qs.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest)this.trigger("syncinfoupdate");else{this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var i=e.segment;if(i.end&&this.currentTime_()-i.end>3*e.playlist.targetDuration)this.resetEverything();else null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.isEndOfStream_(e.mediaIndex,e.playlist)&&this.endOfStream(),this.trigger("appended"),this.paused()||this.monitorBuffer_()}},i.recordThroughput_=function(e){if(e.duration<1/60)this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record "+1/60);else{var t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},i.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var t=e.segment,i=t.start,r=t.end;if(Uo(i)&&Uo(r)){No(i,r,this.segmentMetadataTrack_);var s=n.a.WebKitDataCue||n.a.VTTCue,a={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:r},o=new s(i,r,JSON.stringify(a));o.value=a,this.segmentMetadataTrack_.addCue(o)}}},t}(qs.EventTarget);function qo(){}var Wo,Xo=function(e){return"string"!=typeof e?e:e.replace(/./,function(e){return e.toUpperCase()})},Yo=["video","audio"],Ko=function(e,t){var i=t[e+"Buffer"];return i&&i.updating||t.queuePending[e]},Qo=function e(t,i){if(0!==i.queue.length){var r=0,n=i.queue[r];if("mediaSource"!==n.type){if("mediaSource"!==t&&i.ready()&&"closed"!==i.mediaSource.readyState&&!Ko(t,i)){if(n.type!==t){if(null===(r=function(e,t){for(var i=0;i<t.length;i++){var r=t[i];if("mediaSource"===r.type)return null;if(r.type===e)return i}return null}(t,i.queue)))return;n=i.queue[r]}i.queue.splice(r,1),n.action(t,i),n.doneFn?i.queuePending[t]=n:e(t,i)}}else i.updating()||"closed"===i.mediaSource.readyState||(i.queue.shift(),n.action(i),n.doneFn&&n.doneFn(),e("audio",i),e("video",i))}},Jo=function(e,t){var i=t[e+"Buffer"],r=Xo(e);i&&(i.removeEventListener("updateend",t["on"+r+"UpdateEnd_"]),i.removeEventListener("error",t["on"+r+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)},Zo=function(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)},el=function(e,t){return function(i,r){var n=r[i+"Buffer"];Zo(r.mediaSource,n)&&(r.logger_("Appending segment "+t.mediaIndex+"'s "+e.length+" bytes to "+i+"Buffer"),n.appendBuffer(e))}},tl=function(e,t){return function(i,r){var n=r[i+"Buffer"];Zo(r.mediaSource,n)&&(r.logger_("Removing "+e+" to "+t+" from "+i+"Buffer"),n.remove(e,t))}},il=function(e){return function(t,i){var r=i[t+"Buffer"];Zo(i.mediaSource,r)&&(i.logger_("Setting "+t+"timestampOffset to "+e),r.timestampOffset=e)}},rl=function(e){return function(t,i){e()}},nl=function(e){return function(t){if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{t.mediaSource.endOfStream(e)}catch(e){qs.log.warn("Failed to call media source endOfStream",e)}}}},sl=function(e){return function(t){t.logger_("Setting mediaSource duration to "+e);try{t.mediaSource.duration=e}catch(e){qs.log.warn("Failed to set media source duration",e)}}},al=function(){return function(e,t){if("open"===t.mediaSource.readyState){var i=t[e+"Buffer"];if(Zo(t.mediaSource,i)){t.logger_("calling abort on "+e+"Buffer");try{i.abort()}catch(t){qs.log.warn("Failed to abort on "+e+"Buffer",t)}}}}},ol=function(e,t){return function(i){var r=Xo(e),n=Object(Me.getMimeForCodec)(t);i.logger_("Adding "+e+"Buffer with codec "+t+" to mediaSource");var s=i.mediaSource.addSourceBuffer(n);s.addEventListener("updateend",i["on"+r+"UpdateEnd_"]),s.addEventListener("error",i["on"+r+"Error_"]),i.codecs[e]=t,i[e+"Buffer"]=s}},ll=function(e){return function(t){var i=t[e+"Buffer"];if(Jo(e,t),Zo(t.mediaSource,i)){t.logger_("Removing "+e+"Buffer with codec "+t.codecs[e]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(i)}catch(t){qs.log.warn("Failed to removeSourceBuffer "+e+"Buffer",t)}}}},hl=function(e){return function(t,i){var r=i[t+"Buffer"],n=Object(Me.getMimeForCodec)(e);Zo(i.mediaSource,r)&&i.codecs[t]!==e&&(i.logger_("changing "+t+"Buffer codec from "+i.codecs[t]+" to "+e),r.changeType(n),i.codecs[t]=e)}},ul=function(e){var t=e.type,i=e.sourceUpdater,r=e.action,n=e.doneFn,s=e.name;i.queue.push({type:t,action:r,doneFn:n,name:s}),Qo(t,i)},cl=function(e,t){return function(i){if(t.queuePending[e]){var r=t.queuePending[e].doneFn;t.queuePending[e]=null,r&&r(t[e+"Error_"])}Qo(e,t)}},dl=function(e){function t(t){var i;return(i=e.call(this)||this).mediaSource=t,i.sourceopenListener_=function(){return Qo("mediaSource",u()(i))},i.mediaSource.addEventListener("sourceopen",i.sourceopenListener_),i.logger_=Po("SourceUpdater"),i.audioTimestampOffset_=0,i.videoTimestampOffset_=0,i.queue=[],i.queuePending={audio:null,video:null},i.delayedAudioAppendQueue_=[],i.videoAppendQueued_=!1,i.codecs={},i.onVideoUpdateEnd_=cl("video",u()(i)),i.onAudioUpdateEnd_=cl("audio",u()(i)),i.onVideoError_=function(e){i.videoError_=e},i.onAudioError_=function(e){i.audioError_=e},i.createdSourceBuffers_=!1,i.initializedEme_=!1,i.triggeredReady_=!1,i}d()(t,e);var i=t.prototype;return i.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},i.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},i.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},i.addSourceBuffer=function(e,t){ul({type:"mediaSource",sourceUpdater:this,action:ol(e,t),name:"addSourceBuffer"})},i.abort=function(e){ul({type:e,sourceUpdater:this,action:al(e),name:"abort"})},i.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?ul({type:"mediaSource",sourceUpdater:this,action:ll(e),name:"removeSourceBuffer"}):qs.log.error("removeSourceBuffer is not supported!")},i.canRemoveSourceBuffer=function(){return!qs.browser.IE_VERSION&&!qs.browser.IS_FIREFOX&&n.a.MediaSource&&n.a.MediaSource.prototype&&"function"==typeof n.a.MediaSource.prototype.removeSourceBuffer},t.canChangeType=function(){return n.a.SourceBuffer&&n.a.SourceBuffer.prototype&&"function"==typeof n.a.SourceBuffer.prototype.changeType},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(e,t){this.canChangeType()?ul({type:e,sourceUpdater:this,action:hl(t),name:"changeType"}):qs.log.error("changeType is not supported!")},i.addOrChangeSourceBuffers=function(e){var t=this;if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(function(i){var r=e[i];if(!t.hasCreatedSourceBuffers())return t.addSourceBuffer(i,r);t.canChangeType()&&t.changeType(i,r)})},i.appendBuffer=function(e,t){var i=this,r=e.segmentInfo,n=e.type,s=e.bytes;if(this.processedAppend_=!0,"audio"===n&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of "+s.length+" until video append");if(ul({type:n,sourceUpdater:this,action:el(s,r||{mediaIndex:-1}),doneFn:t,name:"appendBuffer"}),"video"===n){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+a.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,a.forEach(function(e){i.appendBuffer.apply(i,e)})}},i.audioBuffered=function(){return Zo(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:qs.createTimeRange()},i.videoBuffered=function(){return Zo(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:qs.createTimeRange()},i.buffered=function(){var e=Zo(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=Zo(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){var i=null,r=null,n=0,s=[],a=[];if(!(e&&e.length&&t&&t.length))return qs.createTimeRange();for(var o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(o=t.length;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(s.sort(function(e,t){return e.time-t.time}),o=0;o<s.length;o++)"start"===s[o].type?2==++n&&(i=s[o].time):"end"===s[o].type&&1==--n&&(r=s[o].time),null!==i&&null!==r&&(a.push([i,r]),i=null,r=null);return qs.createTimeRanges(a)}(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(e,t){void 0===t&&(t=qo),ul({type:"mediaSource",sourceUpdater:this,action:sl(e),name:"duration",doneFn:t})},i.endOfStream=function(e,t){void 0===e&&(e=null),void 0===t&&(t=qo),"string"!=typeof e&&(e=void 0),ul({type:"mediaSource",sourceUpdater:this,action:nl(e),name:"endOfStream",doneFn:t})},i.removeAudio=function(e,t,i){void 0===i&&(i=qo),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?ul({type:"audio",sourceUpdater:this,action:tl(e,t),doneFn:i,name:"remove"}):i()},i.removeVideo=function(e,t,i){void 0===i&&(i=qo),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?ul({type:"video",sourceUpdater:this,action:tl(e,t),doneFn:i,name:"remove"}):i()},i.updating=function(){return!(!Ko("audio",this)&&!Ko("video",this))},i.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(ul({type:"audio",sourceUpdater:this,action:il(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},i.videoTimestampOffset=function(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(ul({type:"video",sourceUpdater:this,action:il(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},i.audioQueueCallback=function(e){this.audioBuffer&&ul({type:"audio",sourceUpdater:this,action:rl(e),name:"callback"})},i.videoQueueCallback=function(e){this.videoBuffer&&ul({type:"video",sourceUpdater:this,action:rl(e),name:"callback"})},i.dispose=function(){var e=this;this.trigger("dispose"),Yo.forEach(function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e[t+"QueueCallback"](function(){return Jo(t,e)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(qs.EventTarget),pl=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},fl=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),ml=function(e){function t(t,i){var r;return void 0===i&&(i={}),(r=e.call(this,t,i)||this).handlePartialData_=!1,r.mediaSource_=null,r.subtitlesTrack_=null,r.loaderType_="subtitle",r.featuresNativeTextTracks_=t.featuresNativeTextTracks,r.shouldSaveSegmentTimingInfo_=!1,r}d()(t,e);var i=t.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return qs.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,i=e[e.length-1].startTime;return qs.createTimeRanges([[t,i]])},i.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var i=Ra(e),r=this.initSegments_[i];if(t&&!r&&e.bytes){var n=fl.byteLength+e.bytes.byteLength,s=new Uint8Array(n);s.set(e.bytes),s.set(fl,e.bytes.byteLength),this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:s}}return r||e},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(e){return void 0===e?this.subtitlesTrack_:(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},i.remove=function(e,t){No(e,t,this.subtitlesTrack_)},i.fillBuffer_=function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}},i.skipEmptySegments_=function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e},i.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(e,t,i){var r=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===so&&this.handleTimeout_(),e.code===ao?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,t.stats),this.state="APPENDING",this.trigger("appending");var a=s.segment;if(a.map&&(a.map.bytes=t.map.bytes),s.bytes=t.bytes,"function"!=typeof n.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var o,l=function(){r.subtitlesTrack_.tech_.off("vttjsloaded",o),r.stopForError({message:"Error loading vtt.js"})};return o=function(){r.subtitlesTrack_.tech_.off("vttjserror",l),r.segmentRequestFinished_(e,t,i)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",o),void this.subtitlesTrack_.tech_.one("vttjserror",l)}a.requested=!0;try{this.parseVTTCues_(s)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(s,this.syncController_.timelines[s.timeline],this.playlist_),s.cues.length?s.timingInfo={start:s.cues[0].startTime,end:s.cues[s.cues.length-1].endTime}:s.timingInfo={start:s.startOfSegment,end:s.startOfSegment+s.duration},s.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");s.byteLength=s.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,s.cues.forEach(function(e){r.subtitlesTrack_.addCue(r.featuresNativeTextTracks_?new n.a.VTTCue(e.startTime,e.endTime,e.text):e)}),function(e){var t=e.cues;if(t)for(var i=0;i<t.length;i++){for(var r=[],n=0,s=0;s<t.length;s++)t[i].startTime===t[s].startTime&&t[i].endTime===t[s].endTime&&t[i].text===t[s].text&&++n>1&&r.push(t[s]);r.length&&r.forEach(function(t){return e.removeCue(t)})}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(e){var t,i=!1;"function"==typeof n.a.TextDecoder?t=new n.a.TextDecoder("utf8"):(t=n.a.WebVTT.StringDecoder(),i=!0);var r=new n.a.WebVTT.Parser(n.a,n.a.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){e.timestampmap=t},r.onparsingerror=function(e){qs.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var s=e.segment.map.bytes;i&&(s=pl(s)),r.parse(s)}var a=e.bytes;i&&(a=pl(a)),r.parse(a),r.flush()},i.updateTimeMapping_=function(e,t,i){var r=e.segment;if(t)if(e.cues.length){var n=e.timestampmap,s=n.MPEGTS/Pe.ONE_SECOND_IN_TS-n.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=s,e.endTime+=s}),!i.syncInfo){var a=e.cues[0].startTime,o=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(a,o-r.duration)}}}else r.empty=!0},t}($o),gl=function(e,t){for(var i=e.cues,r=0;r<i.length;r++){var n=i[r];if(t>=n.adStartTime&&t<=n.adEndTime)return n}return null},vl=[{name:"VOD",run:function(e,t,i,r,n){if(i!==1/0){return{time:0,segmentIndex:0}}return null}},{name:"ProgramDateTime",run:function(e,t,i,r,n){if(!e.datetimeToDisplayTime)return null;var s=t.segments||[],a=null,o=null;n=n||0;for(var l=0;l<s.length;l++){var h=s[l];if(h.dateTimeObject){var u=h.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,c=Math.abs(n-u);if(null!==o&&(0===c||o<c))break;o=c,a={time:u,segmentIndex:l}}}return a}},{name:"Segment",run:function(e,t,i,r,n){var s=t.segments||[],a=null,o=null;n=n||0;for(var l=0;l<s.length;l++){var h=s[l];if(h.timeline===r&&void 0!==h.start){var u=Math.abs(n-h.start);if(null!==o&&o<u)break;(!a||null===o||o>=u)&&(o=u,a={time:h.start,segmentIndex:l})}}return a}},{name:"Discontinuity",run:function(e,t,i,r,n){var s=null;if(n=n||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,o=0;o<t.discontinuityStarts.length;o++){var l=t.discontinuityStarts[o],h=t.discontinuitySequence+o+1,u=e.discontinuities[h];if(u){var c=Math.abs(n-u.time);if(null!==a&&a<c)break;(!s||null===a||a>=c)&&(a=c,s={time:u.time,segmentIndex:l})}}return s}},{name:"Playlist",run:function(e,t,i,r,n){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],yl=function(e){function t(t){var i;return(i=e.call(this)||this).timelines=[],i.discontinuities=[],i.datetimeToDisplayTime=null,i.logger_=Po("SyncController"),i}d()(t,e);var i=t.prototype;return i.getSyncPoint=function(e,t,i,r){var n=this.runStrategies_(e,t,i,r);return n.length?this.selectSyncPoint_(n,{key:"time",value:r}):null},i.getExpiredTime=function(e,t){if(!e||!e.segments)return null;var i=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!i.length)return null;var r=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+va(e,r.segmentIndex,0))},i.runStrategies_=function(e,t,i,r){for(var n=[],s=0;s<vl.length;s++){var a=vl[s],o=a.run(this,e,t,i,r);o&&(o.strategy=a.name,n.push({strategy:a.name,syncPoint:o}))}return n},i.selectSyncPoint_=function(e,t){for(var i=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),n=e[0].strategy,s=1;s<e.length;s++){var a=Math.abs(e[s].syncPoint[t.key]-t.value);a<r&&(r=a,i=e[s].syncPoint,n=e[s].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+n+"]: [time:"+i.time+", segmentIndex:"+i.segmentIndex+"]"),i},i.saveExpiredSegmentInfo=function(e,t){for(var i=t.mediaSequence-e.mediaSequence-1;i>=0;i--){var r=e.segments[i];if(r&&void 0!==r.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:r.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},i.setDateTimeMapping=function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}},i.saveSegmentTimingInfo=function(e){var t=e.segmentInfo,i=e.shouldSaveTimelineMapping;this.calculateSegmentTimeMapping_(t,t.timingInfo,i)&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:t.segment.start}))},i.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},i.mappingForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},i.calculateSegmentTimeMapping_=function(e,t,i){var r=e.segment,n=this.timelines[e.timeline];if(null!==e.timestampOffset)n={time:e.startOfSegment,mapping:e.startOfSegment-t.start},i&&(this.timelines[e.timeline]=n,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+n.time+"] [mapping: "+n.mapping+"]")),r.start=e.startOfSegment,r.end=t.end+n.mapping;else{if(!n)return!1;r.start=t.start+n.mapping,r.end=t.end+n.mapping}return!0},i.saveDiscontinuitySyncInfo_=function(e){var t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var n=t.discontinuityStarts[r],s=t.discontinuitySequence+r+1,a=n-e.mediaIndex,o=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>o){var l=void 0;l=a<0?i.start-va(t,e.mediaIndex,n):i.end+va(t,e.mediaIndex+1,n),this.discontinuities[s]={time:l,accuracy:o}}}},i.dispose=function(){this.trigger("dispose"),this.off()},t}(qs.EventTarget),_l=function(e){function t(){var t;return(t=e.call(this)||this).pendingTimelineChanges_={},t.lastTimelineChanges_={},t}d()(t,e);var i=t.prototype;return i.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(e){var t=e.type,i=e.from,r=e.to;return"number"==typeof i&&"number"==typeof r&&(this.pendingTimelineChanges_[t]={type:t,from:i,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]},i.lastTimelineChange=function(e){var t=e.type,i=e.from,r=e.to;return"number"==typeof i&&"number"==typeof r&&(this.lastTimelineChanges_[t]={type:t,from:i,to:r},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(qs.EventTarget),bl=new To("./decrypter-worker.worker.js",function(e,t){var i=this;
/*! @name @videojs/http-streaming @version 2.4.2 @license Apache-2.0 */!function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t};var r=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t},n=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,r=0;r<i;++r)t[r].call(this,arguments[1]);else for(var n=Array.prototype.slice.call(arguments,1),s=t.length,a=0;a<s;++a)t[a].apply(this,n)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",function(t){e.push(t)})},e}();
/*! @name @videojs/vhs-utils @version 2.3.0 @license MIT */
/*! @name aes-decrypter @version 3.1.0 @license Apache-2.0 */
var s=function(){var e,t,i,r,n,s,a,o,l=[[[],[],[],[],[]],[[],[],[],[],[]]],h=l[0],u=l[1],c=h[4],d=u[4],p=[],f=[];for(e=0;e<256;e++)f[(p[e]=e<<1^283*(e>>7))^e]=e;for(t=i=0;!c[t];t^=r||1,i=f[i]||1)for(s=(s=i^i<<1^i<<2^i<<3^i<<4)>>8^255&s^99,c[t]=s,d[s]=t,o=16843009*p[n=p[r=p[t]]]^65537*n^257*r^16843008*t,a=257*p[s]^16843008*s,e=0;e<4;e++)h[e][t]=a=a<<24^a>>>8,u[e][s]=o=o<<24^o>>>8;for(e=0;e<5;e++)h[e]=h[e].slice(0),u[e]=u[e].slice(0);return l},a=null,o=function(){function e(e){var t,i,r;a||(a=s()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var n=this._tables[0][4],o=this._tables[1],l=e.length,h=1;if(4!==l&&6!==l&&8!==l)throw new Error("Invalid aes key size");var u=e.slice(0),c=[];for(this._key=[u,c],t=l;t<4*l+28;t++)r=u[t-1],(t%l==0||8===l&&t%l==4)&&(r=n[r>>>24]<<24^n[r>>16&255]<<16^n[r>>8&255]<<8^n[255&r],t%l==0&&(r=r<<8^r>>>24^h<<24,h=h<<1^283*(h>>7))),u[t]=u[t-l]^r;for(i=0;t;i++,t--)r=u[3&i?t:t-4],c[i]=t<=4||i<4?r:o[0][n[r>>>24]]^o[1][n[r>>16&255]]^o[2][n[r>>8&255]]^o[3][n[255&r]]}return e.prototype.decrypt=function(e,t,i,r,n,s){var a,o,l,h,u=this._key[1],c=e^u[0],d=r^u[1],p=i^u[2],f=t^u[3],m=u.length/4-2,g=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],T=v[3],S=v[4];for(h=0;h<m;h++)a=y[c>>>24]^_[d>>16&255]^b[p>>8&255]^T[255&f]^u[g],o=y[d>>>24]^_[p>>16&255]^b[f>>8&255]^T[255&c]^u[g+1],l=y[p>>>24]^_[f>>16&255]^b[c>>8&255]^T[255&d]^u[g+2],f=y[f>>>24]^_[c>>16&255]^b[d>>8&255]^T[255&p]^u[g+3],g+=4,c=a,d=o,p=l;for(h=0;h<4;h++)n[(3&-h)+s]=S[c>>>24]<<24^S[d>>16&255]<<16^S[p>>8&255]<<8^S[255&f]^u[g++],a=c,c=d,d=p,p=f,f=a},e}(),l=function(e){function t(){var t;return(t=e.call(this,n)||this).jobs=[],t.delay=1,t.timeout_=null,t}r(t,e);var i=t.prototype;return i.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(n),h=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},u=function(){function e(t,i,r,n){var s=e.STEP,a=new Int32Array(t.buffer),o=new Uint8Array(t.byteLength),u=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(a.subarray(u,u+s),i,r,o)),u=s;u<a.length;u+=s)r=new Uint32Array([h(a[u-4]),h(a[u-3]),h(a[u-2]),h(a[u-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(u,u+s),i,r,o));this.asyncStream_.push(function(){
/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
var e;n(null,(e=o).subarray(0,e.byteLength-e[e.byteLength-1]))})}return e.prototype.decryptChunk_=function(e,t,i,r){return function(){var n=function(e,t,i){var r,n,s,a,l,u,c,d,p,f=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),m=new o(Array.prototype.slice.call(t)),g=new Uint8Array(e.byteLength),v=new Int32Array(g.buffer);for(r=i[0],n=i[1],s=i[2],a=i[3],p=0;p<f.length;p+=4)l=h(f[p]),u=h(f[p+1]),c=h(f[p+2]),d=h(f[p+3]),m.decrypt(l,u,c,d,v,p),v[p]=h(v[p]^r),v[p+1]=h(v[p+1]^n),v[p+2]=h(v[p+2]^s),v[p+3]=h(v[p+3]^a),r=l,n=u,s=c,a=d;return g}(e,t,i);r.set(n,e.byteOffset)}},t(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}();new function(e){e.onmessage=function(t){var i=t.data,r=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),n=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),s=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new u(r,n,s,function(t,r){var n,s;e.postMessage((n={source:i.source,decrypted:r},s={},Object.keys(n).forEach(function(e){var t=n[e];ArrayBuffer.isView(t)?s[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:s[e]=t}),s),[r.buffer])})}}(i)}()}),Tl=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},Sl=function(e,t){t.activePlaylistLoader=e,e.load()},El={AUDIO:function(e,t){return function(){var i=t.segmentLoaders[e],r=t.mediaTypes[e],n=t.blacklistCurrentPlaylist;Tl(i,r);var s=r.activeTrack(),a=r.activeGroup(),o=(a.filter(function(e){return e.default})[0]||a[0]).id,l=r.tracks[o];if(s!==l){for(var h in qs.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),r.tracks)r.tracks[h].enabled=r.tracks[h]===l;r.onTrackChanged()}else n({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var i=t.segmentLoaders[e],r=t.mediaTypes[e];qs.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Tl(i,r);var n=r.activeTrack();n&&(n.mode="disabled"),r.onTrackChanged()}}},wl={AUDIO:function(e,t,i){if(t){var r=i.tech,n=i.requestOptions,s=i.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();s.playlist(e,n),(!r.paused()||e.endList&&"none"!==r.preload())&&s.load()}),t.on("loadedplaylist",function(){s.playlist(t.media(),n),r.paused()||s.load()}),t.on("error",El[e](e,i))}},SUBTITLES:function(e,t,i){var r=i.tech,n=i.requestOptions,s=i.segmentLoaders[e],a=i.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();s.playlist(e,n),s.track(a.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&s.load()}),t.on("loadedplaylist",function(){s.playlist(t.media(),n),r.paused()||s.load()}),t.on("error",El[e](e,i))}},Cl={AUDIO:function(e,t){var i=t.vhs,r=t.sourceType,n=t.segmentLoaders[e],s=t.requestOptions,a=t.master,o=a.mediaGroups,l=a.playlists,h=t.mediaTypes[e],u=h.groups,c=h.tracks,d=t.masterPlaylistLoader;o[e]&&0!==Object.keys(o[e]).length||(o[e]={main:{default:{default:!0}}});var p=function(n){u[n]||(u[n]=[]);var a=l.filter(function(t){return t.attributes[e]===n}),h=function(l){var h=o[e][n][l];!a.filter(function(e){return e.resolvedUri!==h.resolvedUri}).length&&a.length&&delete h.resolvedUri;var p=void 0;if(p="vhs-json"===r&&h.playlists?new la(h.playlists[0],i,s):h.resolvedUri?new la(h.resolvedUri,i,s):h.playlists&&"dash"===r?new qa(h.playlists[0],i,s,d):null,h=qs.mergeOptions({id:l,playlistLoader:p},h),wl[e](e,h.playlistLoader,t),u[n].push(h),void 0===c[l]){var f=new qs.AudioTrack({id:l,kind:function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t}(h),enabled:!1,language:h.language,default:h.default,label:l});c[l]=f}};for(var p in o[e][n])h(p)};for(var f in o[e])p(f);n.on("error",El[e](e,t))},SUBTITLES:function(e,t){var i=t.tech,r=t.vhs,n=t.sourceType,s=t.segmentLoaders[e],a=t.requestOptions,o=t.master.mediaGroups,l=t.mediaTypes[e],h=l.groups,u=l.tracks,c=t.masterPlaylistLoader;for(var d in o[e])for(var p in h[d]||(h[d]=[]),o[e][d])if(!o[e][d][p].forced){var f=o[e][d][p],m=void 0;if("hls"===n)m=new la(f.resolvedUri,r,a);else if("dash"===n){if(!f.playlists.filter(function(e){return e.excludeUntil!==1/0}).length)return;m=new qa(f.playlists[0],r,a,c)}else"vhs-json"===n&&(m=new la(f.playlists?f.playlists[0]:f.resolvedUri,r,a));if(f=qs.mergeOptions({id:p,playlistLoader:m},f),wl[e](e,f.playlistLoader,t),h[d].push(f),void 0===u[p]){var g=i.addRemoteTextTrack({id:p,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:p},!1).track;u[p]=g}}s.on("error",El[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var i=t.tech,r=t.master.mediaGroups,n=t.mediaTypes[e],s=n.groups,a=n.tracks;for(var o in r[e])for(var l in s[o]||(s[o]=[]),r[e][o]){var h=r[e][o][l];if(h.instreamId.match(/CC\d/)&&(s[o].push(qs.mergeOptions({id:l},h)),void 0===a[l])){var u=i.addRemoteTextTrack({id:h.instreamId,kind:"captions",default:h.default&&h.autoselect,language:h.language,label:l},!1).track;a[l]=u}}}},xl={AUDIO:function(e,t){return function(){var i=t.mediaTypes[e].tracks;for(var r in i)if(i[r].enabled)return i[r];return null}},SUBTITLES:function(e,t){return function(){var i=t.mediaTypes[e].tracks;for(var r in i)if("showing"===i[r].mode||"hidden"===i[r].mode)return i[r];return null}}},kl=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){Cl[t](t,e)});var t=e.mediaTypes,i=e.masterPlaylistLoader,r=e.tech,n=e.vhs;["AUDIO","SUBTITLES"].forEach(function(i){t[i].activeGroup=function(e,t){return function(i){var r=t.masterPlaylistLoader,n=t.mediaTypes[e].groups,s=r.media();if(!s)return null;var a=null;return s.attributes[e]&&(a=n[s.attributes[e]]),a=a||n.main,void 0===i?a:null===i?null:a.filter(function(e){return e.id===i.id})[0]||null}}(i,e),t[i].activeTrack=xl[i](i,e),t[i].onGroupChanged=function(e,t){return function(){var i=t.segmentLoaders,r=i[e],n=i.main,s=t.mediaTypes[e],a=s.activeTrack(),o=s.activeGroup(a),l=s.activePlaylistLoader;Tl(r,s),o&&(o.playlistLoader?(r.resyncLoader(),Sl(o.playlistLoader,s)):l&&n.resetEverything())}}(i,e),t[i].onGroupChanging=function(e,t){return function(){var i=t.segmentLoaders[e];i.abort(),i.pause()}}(i,e),t[i].onTrackChanged=function(e,t){return function(){var i=t.segmentLoaders,r=i[e],n=i.main,s=t.mediaTypes[e],a=s.activeTrack(),o=s.activeGroup(a),l=s.activePlaylistLoader;if(Tl(r,s),o){if("AUDIO"===e){if(!o.playlistLoader)return n.setAudio(!0),void n.resetEverything();r.setAudio(!0),n.setAudio(!1)}l!==o.playlistLoader?(r.track&&r.track(a),r.resetEverything(),Sl(o.playlistLoader,s)):Sl(o.playlistLoader,s)}}}(i,e)});var s=t.AUDIO.activeGroup();if(s){var a=(s.filter(function(e){return e.default})[0]||s[0]).id;t.AUDIO.tracks[a].enabled=!0,t.AUDIO.onTrackChanged()}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return t[e].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(e){return t[e].onGroupChanging()})});var o=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};for(var l in r.audioTracks().addEventListener("change",o),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),n.on("dispose",function(){r.audioTracks().removeEventListener("change",o),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),r.clearTracks("audio"),t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[l])},Al=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:qo,activeTrack:qo,onGroupChanged:qo,onTrackChanged:qo}}),e},Pl=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Il=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Dl=function(e){function t(t){var i;i=e.call(this)||this;var r=t.src,s=t.handleManifestRedirects,a=t.withCredentials,o=t.tech,l=t.bandwidth,h=t.externVhs,c=t.useCueTags,d=t.blacklistDuration,p=t.enableLowInitialPlaylist,f=t.sourceType,m=t.cacheEncryptionKeys,g=t.handlePartialData,v=t.experimentalBufferBasedABR;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");Wo=h,i.experimentalBufferBasedABR=Boolean(v),i.withCredentials=a,i.tech_=o,i.vhs_=o.vhs,i.sourceType_=f,i.useCueTags_=c,i.blacklistDuration=d,i.enableLowInitialPlaylist=p,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:a,handleManifestRedirects:s,timeout:null},i.on("error",i.pauseLoading),i.mediaTypes_=Al(),i.mediaSource=new n.a.MediaSource,i.handleDurationChange_=i.handleDurationChange_.bind(u()(i)),i.handleSourceOpen_=i.handleSourceOpen_.bind(u()(i)),i.handleSourceEnded_=i.handleSourceEnded_.bind(u()(i)),i.mediaSource.addEventListener("durationchange",i.handleDurationChange_),i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_),i.mediaSource.addEventListener("sourceended",i.handleSourceEnded_),i.seekable_=qs.createTimeRanges(),i.hasPlayed_=!1,i.syncController_=new yl(t),i.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new bl,i.sourceUpdater_=new dl(i.mediaSource),i.inbandTextTracks_={},i.timelineChangeController_=new _l;var y={vhs:i.vhs_,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.duration()},hasPlayed:function(){return i.hasPlayed_},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:l,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_,cacheEncryptionKeys:m,handlePartialData:g,sourceUpdater:i.sourceUpdater_,timelineChangeController:i.timelineChangeController_};return i.masterPlaylistLoader_="dash"===i.sourceType_?new qa(r,i.vhs_,i.requestOptions_):new la(r,i.vhs_,i.requestOptions_),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new $o(qs.mergeOptions(y,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),t),i.audioSegmentLoader_=new $o(qs.mergeOptions(y,{loaderType:"audio"}),t),i.subtitleSegmentLoader_=new ml(qs.mergeOptions(y,{loaderType:"vtt",featuresNativeTextTracks:i.tech_.featuresNativeTextTracks}),t),i.setupSegmentLoaderListeners_(),i.experimentalBufferBasedABR&&(i.masterPlaylistLoader_.one("loadedplaylist",function(){return i.startABRTimer_()}),i.tech_.on("pause",function(){return i.stopABRTimer_()}),i.tech_.on("play",function(){return i.startABRTimer_()})),Pl.forEach(function(e){i[e+"_"]=Il.bind(u()(i),e)}),i.logger_=Po("MPC"),i.triggeredFmp4Usage=!1,i.masterPlaylistLoader_.load(),i}d()(t,e);var i=t.prototype;return i.checkABR_=function(){var e=this.selectPlaylist();this.shouldSwitchToMedia_(e)&&this.masterPlaylistLoader_.media(e)},i.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=n.a.setInterval(function(){return e.checkABR_()},250)},i.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(n.a.clearInterval(this.abrTimer_),this.abrTimer_=null)},i.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=e.masterPlaylistLoader_.media(),i=1.5*t.targetDuration*1e3;wa(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=i,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),kl({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){e.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=e.masterPlaylistLoader_.media();if(!t){var i;if(e.excludeUnsupportedVariants_(),e.enableLowInitialPlaylist&&(i=e.selectInitialPlaylist()),i||(i=e.selectPlaylist()),!i||!e.shouldSwitchToMedia_(i))return;if(e.initialMedia_=i,e.masterPlaylistLoader_.media(e.initialMedia_),!("vhs-json"===e.sourceType_&&e.initialMedia_.segments))return;t=e.initialMedia_}e.handleUpdatedMediaPlaylist(t)}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=e.masterPlaylistLoader_.media(),i=1.5*t.targetDuration*1e3;wa(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=i,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},i.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(e,t){var i=e.mediaGroups||{},r=!0,n=Object.keys(i.AUDIO);for(var s in i.AUDIO)for(var a in i.AUDIO[s]){i.AUDIO[s][a].uri||(r=!1)}r&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(i.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Wo.Playlist.isAes(t)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),n.length&&Object.keys(i.AUDIO[n[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.shouldSwitchToMedia_=function(e){var t=this.masterPlaylistLoader_.media(),i=this.tech_.buffered();return function(e){var t=e.currentPlaylist,i=e.nextPlaylist,r=e.forwardBuffer,n=e.bufferLowWaterLine,s=e.bufferHighWaterLine,a=e.duration,o=e.experimentalBufferBasedABR,l=e.log;if(!i)return qs.log.warn("We received no playlist to switch to. Please check your stream."),!1;var h="allowing switch "+(t&&t.id||"null")+" -> "+i.id;if(!t||!t.endList)return l(h+" as current playlist "+(t?"is live":"is not set")),!0;if(i.id===t.id)return!1;var u=o?Wa.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Wa.MAX_BUFFER_LOW_WATER_LINE;if(a<u)return l(h+" as duration < max low water line ("+a+" < "+u+")"),!0;var c=i.attributes.BANDWIDTH,d=t.attributes.BANDWIDTH;if(c<d&&(!o||r<s)){var p=h+" as next bandwidth < current bandwidth ("+c+" < "+d+")";return o&&(p+=" and forwardBuffer < bufferHighWaterLine ("+r+" < "+s+")"),l(p),!0}if((!o||c>d)&&r>=n){var f=h+" as forwardBuffer >= bufferLowWaterLine ("+r+" >= "+n+")";return o&&(f+=" and next bandwidth > current bandwidth ("+c+" > "+d+")"),l(f),!0}return l("not "+h+" as no switching criteria met"),!1}({currentPlaylist:t,nextPlaylist:e,forwardBuffer:i.length?i.end(i.length-1)-this.tech_.currentTime():0,bufferLowWaterLine:this.bufferLowWaterLine(),bufferHighWaterLine:this.bufferHighWaterLine(),duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},i.setupSegmentLoaderListeners_=function(){var e=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=e.selectPlaylist();e.shouldSwitchToMedia_(t)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){e.logger_("main segment loader ended"),e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(t){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))});var t=function(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var t=e.getCodecsOrExclude_();t&&e.sourceUpdater_.addOrChangeSourceBuffers(t)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()})},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())},i.fastQualityChange_=function(e){var t=this;void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything(function(){qs.browser.IE_VERSION||qs.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},i.setupFirstPlay=function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var i=this.seekable();if(!i.length)return!1;if(qs.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.tech_.setCurrentTime(i.end(0)),e.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(i.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")},i.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(e&&e.length){var t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.currentMediaInfo_||this.mainSegmentLoader_.currentMediaInfo_.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},i.stuckAtPlaylistEnd_=function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var i=Wo.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),n=this.tech_.buffered();if(!n.length)return i-r<=.1;var s=n.end(n.length-1);return s-r<=.1&&i-s<=.1},i.blacklistCurrentPlaylist=function(e,t){void 0===e&&(e={});var i=e.playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!i)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));var r=this.masterPlaylistLoader_.master.playlists,n=r.filter(Sa),s=1===n.length&&n[0]===i;if(1===r.length&&t!==1/0)return qs.log.warn("Problem encountered with playlist "+i.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(s);if(s){var a=!1;r.forEach(function(e){if(e!==i){var t=e.excludeUntil;void 0!==t&&t!==1/0&&(a=!0,delete e.excludeUntil)}}),a&&(qs.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}i.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var o=this.selectPlaylist();if(!o)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var l=e.internal?this.logger_:qs.log.warn,h=e.message?" "+e.message:"";l((e.internal?"Internal problem":"Problem")+" encountered with playlist "+i.id+"."+h+" Switching to playlist "+o.id+"."),o.attributes.AUDIO!==i.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),o.attributes.SUBTITLES!==i.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var u=o.targetDuration/2*1e3||5e3,c="number"==typeof o.lastRequest&&Date.now()-o.lastRequest<=u;return this.masterPlaylistLoader_.media(o,s||c)},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},i.delegateLoaders_=function(e,t){var i=this,r=[],n="all"===e;(n||"main"===e)&&r.push(this.masterPlaylistLoader_);var s=[];(n||"audio"===e)&&s.push("AUDIO"),(n||"subtitle"===e)&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(function(e){var t=i.mediaTypes_[e]&&i.mediaTypes_[e].activePlaylistLoader;t&&r.push(t)}),["main","audio","subtitle"].forEach(function(t){var n=i[t+"SegmentLoader_"];!n||e!==t&&"all"!==e||r.push(n)}),r.forEach(function(e){return t.forEach(function(t){"function"==typeof e[t]&&e[t]()})})},i.setCurrentTime=function(e){var t=ua(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Wo.Playlist.duration(e):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var i=this.syncController_.getExpiredTime(t,this.duration());if(null!==i){var r=this.masterPlaylistLoader_.master.suggestedPresentationDelay,n=Wo.Playlist.seekable(t,i,r);if(0!==n.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=Wo.Playlist.seekable(t,i,r)).length)return}var s,a;this.seekable_&&this.seekable_.length&&(s=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>n.end(0)||n.start(0)>e.end(0)?this.seekable_=n:this.seekable_=qs.createTimeRanges([[e.start(0)>n.start(0)?e.start(0):n.start(0),e.end(0)<n.end(0)?e.end(0):n.end(0)]]):this.seekable_=n,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===s&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+da(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();if(!t.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))}else{var i=this.tech_.buffered(),r=Wo.Playlist.duration(this.masterPlaylistLoader_.media());i.length>0&&(r=Math.max(r,i.end(i.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}},i.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var i=e.mediaTypes_[t].groups;for(var r in i)i[r].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader;return!(!this.mainSegmentLoader_.currentMediaInfo_||e&&!this.audioSegmentLoader_.currentMediaInfo_)},i.getCodecsOrExclude_=function(){var e=this,t={main:this.mainSegmentLoader_.currentMediaInfo_||{},audio:this.audioSegmentLoader_.currentMediaInfo_||{}};t.video=t.main;var i=Ao(this.master(),this.media()),r={},n=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(r.video=i.video||t.main.videoCodec||Me.DEFAULT_VIDEO_CODEC),t.main.isMuxed&&(r.video+=","+(i.audio||t.main.audioCodec||Me.DEFAULT_AUDIO_CODEC)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||n)&&(r.audio=i.audio||t.main.audioCodec||t.audio.audioCodec||Me.DEFAULT_AUDIO_CODEC,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),r.audio||r.video){var s,a={};if(["video","audio"].forEach(function(e){if(r.hasOwnProperty(e)&&(n=t[e].isFmp4,o=r[e],!(n?Object(Me.browserSupportsCodec)(o):Object(Me.muxerSupportsCodec)(o)))){var i=t[e].isFmp4?"browser":"muxer";a[i]=a[i]||[],a[i].push(r[e]),"audio"===e&&(s=i)}var n,o}),n&&s&&this.media().attributes.AUDIO){var o=this.media().attributes.AUDIO;this.master().playlists.forEach(function(t){(t.attributes&&t.attributes.AUDIO)===o&&t!==e.media()&&(t.excludeUntil=1/0)}),this.logger_("excluding audio group "+o+" as "+s+' does not support codec(s): "'+r.audio+'"')}if(!Object.keys(a).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var l=[];if(["video","audio"].forEach(function(t){var i=(Object(Me.parseCodecs)(e.sourceUpdater_.codecs[t]||"")[t]||{}).type,n=(Object(Me.parseCodecs)(r[t]||"")[t]||{}).type;i&&n&&i.toLowerCase()!==n.toLowerCase()&&l.push('"'+e.sourceUpdater_.codecs[t]+'" -> "'+r[t]+'"')}),l.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+l.join(", ")+".",blacklistDuration:1/0,internal:!0})}return r}var h=Object.keys(a).reduce(function(e,t){return e&&(e+=", "),e+=t+' does not support codec(s): "'+a[t].join(",")+'"'},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:h,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},i.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(e){this.sourceUpdater_.createSourceBuffers(e);var t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}}},i.excludeUnsupportedVariants_=function(){var e=this,t=this.master().playlists,i=[];Object.keys(t).forEach(function(r){var n=t[r];if(-1===i.indexOf(n.id)){i.push(n.id);var s=Ao(e.master,n),a=[];!s.audio||Object(Me.muxerSupportsCodec)(s.audio)||Object(Me.browserSupportsCodec)(s.audio)||(n.excludeUntil=1/0,a.push("audio codec "+s.audio)),!s.video||Object(Me.muxerSupportsCodec)(s.video)||Object(Me.browserSupportsCodec)(s.video)||(n.excludeUntil=1/0,a.push("video codec "+s.video)),s.text&&"stpp.ttml.im1t"===s.text&&(n.excludeUntil=1/0,a.push("text codec "+s.text)),a.length&&e.logger_("excluding "+n.id+" as codecs "+a.join(", ")+" are unsupported")}})},i.excludeIncompatibleVariants_=function(e){var t=this,i=Object(Me.parseCodecs)(e),r=Object.keys(i).length;this.master().playlists.forEach(function(e){if(e.excludeUntil!==1/0){var n={},s=2,a=[],o=Ao(t.masterPlaylistLoader_.master,e);if(o.audio||o.video){var l=[o.video,o.audio].filter(Boolean).join(",");n=Object(Me.parseCodecs)(l),s=Object.keys(n).length}s!==r&&(a.push('codec count "'+s+'" !== "'+r+'"'),e.excludeUntil=1/0),t.sourceUpdater_.canChangeType()||(n.video&&i.video&&n.video.type.toLowerCase()!==i.video.type.toLowerCase()&&(a.push('video codec "'+n.video.type+'" !== "'+i.video.type+'"'),e.excludeUntil=1/0),n.audio&&i.audio&&n.audio.type.toLowerCase()!==i.audio.type.toLowerCase()&&(e.excludeUntil=1/0,a.push('audio codec "'+n.audio.type+'" !== "'+i.audio.type+'"'))),a.length&&t.logger_("blacklisting "+e.id+": "+a.join(" && "))}})},i.updateAdCues_=function(e){var t=0,i=this.seekable();i.length&&(t=i.start(0)),function(e,t,i){if(void 0===i&&(i=0),e.segments)for(var r,s=i,a=0;a<e.segments.length;a++){var o=e.segments[a];if(r||(r=gl(t,s+o.duration/2)),r){if("cueIn"in o){r.endTime=s,r.adEndTime=s,s+=o.duration,r=null;continue}if(s<r.endTime){s+=o.duration;continue}r.endTime+=o.duration}else if("cueOut"in o&&((r=new n.a.VTTCue(s,s+o.duration,o.cueOut)).adStartTime=s,r.adEndTime=s+parseFloat(o.cueOut),t.addCue(r)),"cueOutCont"in o){var l=o.cueOutCont.split("/").map(parseFloat),h=l[0],u=l[1];(r=new n.a.VTTCue(s,s+o.duration,"")).adStartTime=s-h,r.adEndTime=r.adStartTime+u,t.addCue(r)}s+=o.duration}}(e,this.cueTagsTrack_,t)},i.goalBufferLength=function(){var e=this.tech_.currentTime(),t=Wa.GOAL_BUFFER_LENGTH,i=Wa.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,Wa.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,r)},i.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),t=Wa.BUFFER_LOW_WATER_LINE,i=Wa.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,Wa.MAX_BUFFER_LOW_WATER_LINE),n=Math.max(t,Wa.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,this.experimentalBufferBasedABR?n:r)},i.bufferHighWaterLine=function(){return Wa.BUFFER_HIGH_WATER_LINE},t}(qs.EventTarget),Ml=function(e,t,i){var r,n,s,a=e.masterPlaylistController_,o=a[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(a);if(t.attributes.RESOLUTION){var l=t.attributes.RESOLUTION;this.width=l.width,this.height=l.height}this.bandwidth=t.attributes.BANDWIDTH,this.codecs=Ao(a.master(),t),this.playlist=t,this.id=i,this.enabled=(r=e.playlists,n=t.id,s=o,function(e){var t=r.master.playlists[n],i=Ta(t),a=Sa(t);return void 0===e?a:(e?delete t.disabled:t.disabled=!0,e===a||i||(s(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)})},Ll=["seeking","seeked","pause","playing","error"],Ol=function(){function e(e){var t=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Po("PlaybackWatcher"),this.logger_("initialize");var i=function(){return t.monitorCurrentTime_()},r=function(){return t.techWaiting_()},s=function(){return t.cancelTimer_()},a=function(){return t.fixesBadSeeks_()},o=this.masterPlaylistController_,l=["main","subtitle","audio"],h={};l.forEach(function(e){h[e]={reset:function(){return t.resetSegmentDownloads_(e)},updateend:function(){return t.checkSegmentDownloads_(e)}},o[e+"SegmentLoader_"].on("appendsdone",h[e].updateend),o[e+"SegmentLoader_"].on("playlistupdate",h[e].reset),t.tech_.on(["seeked","seeking"],h[e].reset)}),this.tech_.on("seekablechanged",a),this.tech_.on("waiting",r),this.tech_.on(Ll,s),this.tech_.on("canplay",i),this.dispose=function(){t.logger_("dispose"),t.tech_.off("seekablechanged",a),t.tech_.off("waiting",r),t.tech_.off(Ll,s),t.tech_.off("canplay",i),l.forEach(function(e){o[e+"SegmentLoader_"].off("appendsdone",h[e].updateend),o[e+"SegmentLoader_"].off("playlistupdate",h[e].reset),t.tech_.off(["seeked","seeking"],h[e].reset)}),t.checkCurrentTimeTimeout_&&n.a.clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}var t=e.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&n.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=n.a.setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(e){var t=this.masterPlaylistController_[e+"SegmentLoader_"];this[e+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+e+" loader"),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()},t.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,i=t[e+"SegmentLoader_"],r=i.buffered_(),n=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var i=0;i<e.length;i++)if(e.start(i)!==t.start(i)||e.end(i)!==t.end(i))return!0;return!1}(this[e+"Buffered_"],r);this[e+"Buffered_"]=r,n?this.resetSegmentDownloads_(e):(this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:i.playlist_&&i.playlist_.id,buffered:pa(r)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"!==e&&t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0)))},t.checkCurrentTime_=function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),i=this.tech_.currentTime();this.afterSeekableWindow_(t,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1));if(this.beforeSeekableWindow_(t,i)){var r=t.start(0);e=r+(r===t.end(0)?0:.1)}if(void 0!==e)return this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+da(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;var n=this.tech_.buffered();return!!function(e){var t=e.buffered,i=e.targetDuration,r=e.currentTime;return!(!t.length||t.end(0)-t.start(0)<2*i||r>t.start(0)||!(t.start(0)-r<i))}({buffered:n,targetDuration:this.media().targetDuration,currentTime:i})&&(e=n.start(0)+.1,this.logger_("Buffered region starts ("+n.start(0)+")  just beyond seek point ("+i+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},t.waiting_=function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),i=ua(t,e);return i.length&&e+3<=i.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},t.techWaiting_=function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var i=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,n=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:t}))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var s=ca(n,t);if(s.length>0){var a=s.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+a+", seeking to "+s.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,t),!0}return!1},t.afterSeekableWindow_=function(e,t,i,r){if(void 0===r&&(r=!1),!e.length)return!1;var n=e.end(e.length-1)+.1;return!i.endList&&r&&(n=e.end(e.length-1)+3*i.targetDuration),t>n},t.beforeSeekableWindow_=function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(e){var t=e.videoBuffered,i=e.audioBuffered,r=e.currentTime;if(t){var n;if(t.length&&i.length){var s=ua(t,r-3),a=ua(t,r),o=ua(i,r);o.length&&!a.length&&s.length&&(n={start:s.end(0),end:o.end(0)})}else{ca(t,r).length||(n=this.gapFromVideoUnderflow_(t,r))}return!!n&&(this.logger_("Encountered a gap in video from "+n.start+" to "+n.end+". Seeking to current time "+r),!0)}},t.skipTheGap_=function(e){var t=this.tech_.buffered(),i=this.tech_.currentTime(),r=ca(t,i);this.cancelTimer_(),0!==r.length&&i===e&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+1/30),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(e,t){for(var i=function(e){if(e.length<2)return qs.createTimeRanges();for(var t=[],i=1;i<e.length;i++){var r=e.end(i-1),n=e.start(i);t.push([r,n])}return qs.createTimeRanges(t)}(e),r=0;r<i.length;r++){var n=i.start(r),s=i.end(r);if(t-n<4&&t-n>2)return{start:n,end:s}}return null},e}(),Rl={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Fl=function(e){!function e(t,i){var r=0,n=0,s=qs.mergeOptions(Rl,i);t.ready(function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){n&&t.currentTime(n)},o=function(e){null!==e&&void 0!==e&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){return Date.now()-r<1e3*s.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):s.getSource&&"function"==typeof s.getSource?(r=Date.now(),s.getSource.call(t,o)):void qs.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},h=function e(){t.off("loadedmetadata",a),t.off("error",l),t.off("dispose",e)};t.on("error",l),t.on("dispose",h),t.reloadSourceOnError=function(i){h(),e(t,i)}}(this,e)},Bl={PlaylistLoader:la,Playlist:Ca,utils:Na,STANDARD_PLAYLIST_SELECTOR:Fo,INITIAL_PLAYLIST_SELECTOR:function(){var e=this,t=this.playlists.master.playlists.filter(Ca.isEnabled);return Lo(t,function(e,t){return Oo(e,t)}),t.filter(function(t){return!!Ao(e.playlists.master,t).video})[0]||null},lastBandwidthSelector:Fo,movingAverageBandwidthSelector:function(e){var t=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var i=this.useDevicePixelRatio&&n.a.devicePixelRatio||1;return t<0&&(t=this.systemBandwidth),t=e*this.systemBandwidth+(1-e)*t,Ro(this.playlists.master,t,parseInt(Mo(this.tech_.el(),"width"),10)*i,parseInt(Mo(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions)}},comparePlaylistBandwidth:Oo,comparePlaylistResolution:function(e,t){var i,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||n.a.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),i===(r=r||n.a.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-r},xhr:Pa()};Object.keys(Wa).forEach(function(e){Object.defineProperty(Bl,e,{get:function(){return qs.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),Wa[e]},set:function(t){qs.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?qs.log.warn("value of Vhs."+e+" must be greater than or equal to 0"):Wa[e]=t}})});var Nl=function(e,t){for(var i=t.media(),r=-1,n=0;n<e.length;n++)if(e[n].id===i.id){r=n;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})};Bl.canPlaySource=function(){return qs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Ul=function(e){var t=e.player,i=e.sourceKeySystems,r=e.audioMedia,n=e.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var s=[],a=[];return function(e,t){return e.reduce(function(e,i){if(!i.contentProtection)return e;var r=t.reduce(function(e,t){var r=i.contentProtection[t];return r&&r.pssh&&(e[t]={pssh:r.pssh}),e},{});return Object.keys(r).length&&e.push(r),e},[])}(r?n.concat([r]):n,Object.keys(i)).forEach(function(e){a.push(new Promise(function(e,i){t.tech_.one("keysessioncreated",e)})),s.push(new Promise(function(i,r){t.eme.initializeMediaKeys({keySystems:e},function(e){e?r(e):i()})}))}),Promise.race([Promise.all(s),Promise.race(a)])},jl=function(e){var t=e.player,i=function(e,t,i){if(!e)return e;var r={video:t&&t.attributes&&t.attributes.CODECS,audio:i&&i.attributes&&i.attributes.CODECS};!r.audio&&r.video&&r.video.split(",").length>1&&r.video.split(",").forEach(function(e){e=e.trim(),Object(Me.isAudioCodec)(e)?r.audio=e:Object(Me.isVideoCodec)(e)&&(r.video=e)});var n=r.video?'video/mp4;codecs="'+r.video+'"':null,s=r.audio?'audio/mp4;codecs="'+r.audio+'"':null,a={};for(var o in e)a[o]={audioContentType:s,videoContentType:n},t.contentProtection&&t.contentProtection[o]&&t.contentProtection[o].pssh&&(a[o].pssh=t.contentProtection[o].pssh),"string"==typeof e[o]&&(a[o].url=e[o]);return qs.mergeOptions(e,a)}(e.sourceKeySystems,e.media,e.audioMedia);return!!i&&(t.currentSource().keySystems=i,!(i&&!t.eme)||(qs.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},Vl=function(){if(!n.a.localStorage)return null;var e=n.a.localStorage.getItem("videojs-vhs");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};Bl.supportsNativeHls=function(){if(!a.a||!a.a.createElement)return!1;var e=a.a.createElement("video");if(!qs.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),Bl.supportsNativeDash=!!(a.a&&a.a.createElement&&qs.getTech("Html5").isSupported())&&/maybe|probably/i.test(a.a.createElement("video").canPlayType("application/dash+xml")),Bl.supportsTypeNatively=function(e){return"hls"===e?Bl.supportsNativeHls:"dash"===e&&Bl.supportsNativeDash},Bl.isSupported=function(){return qs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var zl=function(e){function t(t,i,r){var n;if(n=e.call(this,i,qs.mergeOptions(r.hls,r.vhs))||this,r.hls&&Object.keys(r.hls).length&&qs.log.warn("Using hls options is deprecated. Use vhs instead."),n.logger_=Po("VhsHandler"),i.options_&&i.options_.playerId){var s=qs(i.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return qs.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"hls-player-access"}),u()(n)},configurable:!0}),s.hasOwnProperty("vhs")||Object.defineProperty(s,"vhs",{get:function(){return qs.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"vhs-player-access"}),u()(n)},configurable:!0}),s.hasOwnProperty("dash")||Object.defineProperty(s,"dash",{get:function(){return qs.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),u()(n)},configurable:!0}),n.player_=s}if(n.tech_=i,n.source_=t,n.stats={},n.ignoreNextSeekingEvent_=!1,n.setOptions_(),n.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(n.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return n.on(a.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=a.a.fullscreenElement||a.a.webkitFullscreenElement||a.a.mozFullScreenElement||a.a.msFullscreenElement;t&&t.contains(n.tech_.el())&&n.masterPlaylistController_.smoothQualityChange_()}),n.on(n.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),n.on(n.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),n.on(n.tech_,"play",n.play),n}d()(t,e);var i=t.prototype;return i.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.handlePartialData=this.options_.handlePartialData||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=Vl();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Wa.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Wa.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","handlePartialData","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta"].forEach(function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},i.src=function(e,t){var i=this;if(e){var r;this.setOptions_(),this.options_.src=0===(r=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(r.substring(r.indexOf(",")+1)):r,this.options_.tech=this.tech_,this.options_.externVhs=Bl,this.options_.sourceType=Object(R.simpleTypeFromSourceType)(t),this.options_.seekTo=function(e){i.tech_.setCurrentTime(e)},this.masterPlaylistController_=new Dl(this.options_);var s=qs.mergeOptions({liveRangeSafeTimeDelta:.1},this.options_,{seekable:function(){return i.seekable()},media:function(){return i.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Ol(s),this.masterPlaylistController_.on("error",function(){var e=qs.players[i.tech_.options_.playerId],t=i.masterPlaylistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)});var a=this.options_.experimentalBufferBasedABR?Bl.movingAverageBandwidthSelector(.55):Bl.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):a.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Bl.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){qs.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return i.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return pa(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:function(){return i.playlists.master},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return pa(i.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){i.options_.useBandwidthFromLocalStorage&&function(e){if(!n.a.localStorage)return!1;var t=Vl();t=t?qs.mergeOptions(t,e):e;try{n.a.localStorage.setItem("videojs-vhs",JSON.stringify(t))}catch(e){return!1}}({bandwidth:i.bandwidth,throughput:Math.round(i.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){var e,t;t=(e=i).playlists,e.representations=function(){return t&&t.master&&t.master.playlists?t.master.playlists.filter(function(e){return!Ta(e)}).map(function(t,i){return new Ml(e,t,t.id)}):[]}}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){i.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=n.a.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},i.setupEme_=function(){var e=this,t=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,i=jl({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:t&&t.media()});11!==qs.browser.IE_VERSION&&i?(this.logger_("waiting for EME key session creation"),Ul({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){e.logger_("created EME key session"),e.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(t){e.logger_("error while creating EME key session",t),e.player_.error({message:"Failed to initialize media keys for EME",code:3})})):this.masterPlaylistController_.sourceUpdater_.initializedEme()},i.setupQualityLevels_=function(){var e=this,t=qs.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var t,i;t=e.qualityLevels_,(i=e).representations().forEach(function(e){t.addQualityLevel(e)}),Nl(t,i.playlists)}),this.playlists.on("mediachange",function(){Nl(e.qualityLevels_,e.playlists)}))},t.version=function(){return{"@videojs/http-streaming":"2.4.2","mux.js":"5.8.0","mpd-parser":"0.15.0","m3u8-parser":"4.5.0","aes-decrypter":"3.1.0"}},i.version=function(){return this.constructor.version()},i.canChangeType=function(){return dl.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=function(){return this.masterPlaylistController_.seekable()},i.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&n.a.URL.revokeObjectURL&&(n.a.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),e.prototype.dispose.call(this)},i.convertToProgramTime=function(e,t){return Ua({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},i.seekToProgramTime=function(e,t,i,r){return void 0===i&&(i=!0),void 0===r&&(r=2),ja({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:r,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})},t}(qs.getComponent("Component")),Gl={name:"videojs-http-streaming",VERSION:"2.4.2",canHandleSource:function(e,t){void 0===t&&(t={});var i=qs.mergeOptions(qs.options,t);return Gl.canPlayType(e.type,i)},handleSource:function(e,t,i){void 0===i&&(i={});var r=qs.mergeOptions(qs.options,i);return t.vhs=new zl(e,t,r),qs.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return qs.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=Pa(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){void 0===t&&(t={});var i=qs.mergeOptions(qs.options,t).vhs.overrideNative,r=void 0===i?!qs.browser.IS_ANY_SAFARI:i,n=Object(R.simpleTypeFromSourceType)(e);return n&&(!Bl.supportsTypeNatively(n)||r)?"maybe":""}};Object(Me.browserSupportsCodec)("avc1.4d400d,mp4a.40.2")&&qs.getTech("Html5").registerSourceHandler(Gl,0),qs.VhsHandler=zl,Object.defineProperty(qs,"HlsHandler",{get:function(){return qs.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),zl},configurable:!0}),qs.VhsSourceHandler=Gl,Object.defineProperty(qs,"HlsSourceHandler",{get:function(){return qs.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Gl},configurable:!0}),qs.Vhs=Bl,Object.defineProperty(qs,"Hls",{get:function(){return qs.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Bl},configurable:!0}),qs.use||(qs.registerComponent("Hls",Bl),qs.registerComponent("Vhs",Bl)),qs.options.vhs=qs.options.vhs||{},qs.options.hls=qs.options.hls||{},qs.registerPlugin?qs.registerPlugin("reloadSourceOnError",Fl):qs.plugin("reloadSourceOnError",Fl);t.a=qs},"7+uW":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){
/*!
 * Vue.js v2.6.12
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function r(e){return void 0===e||null===e}function n(e){return void 0!==e&&null!==e}function s(e){return!0===e}function a(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function o(e){return null!==e&&"object"==typeof e}var l=Object.prototype.toString;function h(e){return"[object Object]"===l.call(e)}function u(e){return"[object RegExp]"===l.call(e)}function c(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function d(e){return n(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||h(e)&&e.toString===l?JSON.stringify(e,null,2):String(e)}function f(e){var t=parseFloat(e);return isNaN(t)?e:t}function m(e,t){for(var i=Object.create(null),r=e.split(","),n=0;n<r.length;n++)i[r[n]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}var g=m("slot,component",!0),v=m("key,ref,slot,slot-scope,is");function y(e,t){if(e.length){var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var _=Object.prototype.hasOwnProperty;function b(e,t){return _.call(e,t)}function T(e){var t=Object.create(null);return function(i){return t[i]||(t[i]=e(i))}}var S=/-(\w)/g,E=T(function(e){return e.replace(S,function(e,t){return t?t.toUpperCase():""})}),w=T(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),C=/\B([A-Z])/g,x=T(function(e){return e.replace(C,"-$1").toLowerCase()});var k=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function i(i){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i};function A(e,t){t=t||0;for(var i=e.length-t,r=new Array(i);i--;)r[i]=e[i+t];return r}function P(e,t){for(var i in t)e[i]=t[i];return e}function I(e){for(var t={},i=0;i<e.length;i++)e[i]&&P(t,e[i]);return t}function D(e,t,i){}var M=function(e,t,i){return!1},L=function(e){return e};function O(e,t){if(e===t)return!0;var i=o(e),r=o(t);if(!i||!r)return!i&&!r&&String(e)===String(t);try{var n=Array.isArray(e),s=Array.isArray(t);if(n&&s)return e.length===t.length&&e.every(function(e,i){return O(e,t[i])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(n||s)return!1;var a=Object.keys(e),l=Object.keys(t);return a.length===l.length&&a.every(function(i){return O(e[i],t[i])})}catch(e){return!1}}function R(e,t){for(var i=0;i<e.length;i++)if(O(e[i],t))return i;return-1}function F(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var B="data-server-rendered",N=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],j={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:D,parsePlatformTagName:L,mustUseProp:M,async:!0,_lifecycleHooks:U},V=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function z(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function G(e,t,i,r){Object.defineProperty(e,t,{value:i,enumerable:!!r,writable:!0,configurable:!0})}var H=new RegExp("[^"+V.source+".$_\\d]");var $,q="__proto__"in{},W="undefined"!=typeof window,X="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Y=X&&WXEnvironment.platform.toLowerCase(),K=W&&window.navigator.userAgent.toLowerCase(),Q=K&&/msie|trident/.test(K),J=K&&K.indexOf("msie 9.0")>0,Z=K&&K.indexOf("edge/")>0,ee=(K&&K.indexOf("android"),K&&/iphone|ipad|ipod|ios/.test(K)||"ios"===Y),te=(K&&/chrome\/\d+/.test(K),K&&/phantomjs/.test(K),K&&K.match(/firefox\/(\d+)/)),ie={}.watch,re=!1;if(W)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){re=!0}}),window.addEventListener("test-passive",null,ne)}catch(e){}var se=function(){return void 0===$&&($=!W&&!X&&void 0!==e&&(e.process&&"server"===e.process.env.VUE_ENV)),$},ae=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function oe(e){return"function"==typeof e&&/native code/.test(e.toString())}var le,he="undefined"!=typeof Symbol&&oe(Symbol)&&"undefined"!=typeof Reflect&&oe(Reflect.ownKeys);le="undefined"!=typeof Set&&oe(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ue=D,ce=0,de=function(){this.id=ce++,this.subs=[]};de.prototype.addSub=function(e){this.subs.push(e)},de.prototype.removeSub=function(e){y(this.subs,e)},de.prototype.depend=function(){de.target&&de.target.addDep(this)},de.prototype.notify=function(){var e=this.subs.slice();for(var t=0,i=e.length;t<i;t++)e[t].update()},de.target=null;var pe=[];function fe(e){pe.push(e),de.target=e}function me(){pe.pop(),de.target=pe[pe.length-1]}var ge=function(e,t,i,r,n,s,a,o){this.tag=e,this.data=t,this.children=i,this.text=r,this.elm=n,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ve={child:{configurable:!0}};ve.child.get=function(){return this.componentInstance},Object.defineProperties(ge.prototype,ve);var ye=function(e){void 0===e&&(e="");var t=new ge;return t.text=e,t.isComment=!0,t};function _e(e){return new ge(void 0,void 0,void 0,String(e))}function be(e){var t=new ge(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Te=Array.prototype,Se=Object.create(Te);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=Te[e];G(Se,e,function(){for(var i=[],r=arguments.length;r--;)i[r]=arguments[r];var n,s=t.apply(this,i),a=this.__ob__;switch(e){case"push":case"unshift":n=i;break;case"splice":n=i.slice(2)}return n&&a.observeArray(n),a.dep.notify(),s})});var Ee=Object.getOwnPropertyNames(Se),we=!0;function Ce(e){we=e}var xe=function(e){var t;this.value=e,this.dep=new de,this.vmCount=0,G(e,"__ob__",this),Array.isArray(e)?(q?(t=Se,e.__proto__=t):function(e,t,i){for(var r=0,n=i.length;r<n;r++){var s=i[r];G(e,s,t[s])}}(e,Se,Ee),this.observeArray(e)):this.walk(e)};function ke(e,t){var i;if(o(e)&&!(e instanceof ge))return b(e,"__ob__")&&e.__ob__ instanceof xe?i=e.__ob__:we&&!se()&&(Array.isArray(e)||h(e))&&Object.isExtensible(e)&&!e._isVue&&(i=new xe(e)),t&&i&&i.vmCount++,i}function Ae(e,t,i,r,n){var s=new de,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var o=a&&a.get,l=a&&a.set;o&&!l||2!==arguments.length||(i=e[t]);var h=!n&&ke(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=o?o.call(e):i;return de.target&&(s.depend(),h&&(h.dep.depend(),Array.isArray(t)&&function e(t){for(var i=void 0,r=0,n=t.length;r<n;r++)(i=t[r])&&i.__ob__&&i.__ob__.dep.depend(),Array.isArray(i)&&e(i)}(t))),t},set:function(t){var r=o?o.call(e):i;t===r||t!=t&&r!=r||o&&!l||(l?l.call(e,t):i=t,h=!n&&ke(t),s.notify())}})}}function Pe(e,t,i){if(Array.isArray(e)&&c(t))return e.length=Math.max(e.length,t),e.splice(t,1,i),i;if(t in e&&!(t in Object.prototype))return e[t]=i,i;var r=e.__ob__;return e._isVue||r&&r.vmCount?i:r?(Ae(r.value,t,i),r.dep.notify(),i):(e[t]=i,i)}function Ie(e,t){if(Array.isArray(e)&&c(t))e.splice(t,1);else{var i=e.__ob__;e._isVue||i&&i.vmCount||b(e,t)&&(delete e[t],i&&i.dep.notify())}}xe.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)Ae(e,t[i])},xe.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)ke(e[t])};var De=j.optionMergeStrategies;function Me(e,t){if(!t)return e;for(var i,r,n,s=he?Reflect.ownKeys(t):Object.keys(t),a=0;a<s.length;a++)"__ob__"!==(i=s[a])&&(r=e[i],n=t[i],b(e,i)?r!==n&&h(r)&&h(n)&&Me(r,n):Pe(e,i,n));return e}function Le(e,t,i){return i?function(){var r="function"==typeof t?t.call(i,i):t,n="function"==typeof e?e.call(i,i):e;return r?Me(r,n):n}:t?e?function(){return Me("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Oe(e,t){var i=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return i?function(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(i):i}function Re(e,t,i,r){var n=Object.create(e||null);return t?P(n,t):n}De.data=function(e,t,i){return i?Le(e,t,i):t&&"function"!=typeof t?e:Le(e,t)},U.forEach(function(e){De[e]=Oe}),N.forEach(function(e){De[e+"s"]=Re}),De.watch=function(e,t,i,r){if(e===ie&&(e=void 0),t===ie&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var n={};for(var s in P(n,e),t){var a=n[s],o=t[s];a&&!Array.isArray(a)&&(a=[a]),n[s]=a?a.concat(o):Array.isArray(o)?o:[o]}return n},De.props=De.methods=De.inject=De.computed=function(e,t,i,r){if(!e)return t;var n=Object.create(null);return P(n,e),t&&P(n,t),n},De.provide=Le;var Fe=function(e,t){return void 0===t?e:t};function Be(e,t,i){if("function"==typeof t&&(t=t.options),function(e,t){var i=e.props;if(i){var r,n,s={};if(Array.isArray(i))for(r=i.length;r--;)"string"==typeof(n=i[r])&&(s[E(n)]={type:null});else if(h(i))for(var a in i)n=i[a],s[E(a)]=h(n)?n:{type:n};e.props=s}}(t),function(e,t){var i=e.inject;if(i){var r=e.inject={};if(Array.isArray(i))for(var n=0;n<i.length;n++)r[i[n]]={from:i[n]};else if(h(i))for(var s in i){var a=i[s];r[s]=h(a)?P({from:s},a):{from:a}}}}(t),function(e){var t=e.directives;if(t)for(var i in t){var r=t[i];"function"==typeof r&&(t[i]={bind:r,update:r})}}(t),!t._base&&(t.extends&&(e=Be(e,t.extends,i)),t.mixins))for(var r=0,n=t.mixins.length;r<n;r++)e=Be(e,t.mixins[r],i);var s,a={};for(s in e)o(s);for(s in t)b(e,s)||o(s);function o(r){var n=De[r]||Fe;a[r]=n(e[r],t[r],i,r)}return a}function Ne(e,t,i,r){if("string"==typeof i){var n=e[t];if(b(n,i))return n[i];var s=E(i);if(b(n,s))return n[s];var a=w(s);return b(n,a)?n[a]:n[i]||n[s]||n[a]}}function Ue(e,t,i,r){var n=t[e],s=!b(i,e),a=i[e],o=ze(Boolean,n.type);if(o>-1)if(s&&!b(n,"default"))a=!1;else if(""===a||a===x(e)){var l=ze(String,n.type);(l<0||o<l)&&(a=!0)}if(void 0===a){a=function(e,t,i){if(!b(t,"default"))return;var r=t.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i])return e._props[i];return"function"==typeof r&&"Function"!==je(t.type)?r.call(e):r}(r,n,e);var h=we;Ce(!0),ke(a),Ce(h)}return a}function je(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Ve(e,t){return je(e)===je(t)}function ze(e,t){if(!Array.isArray(t))return Ve(t,e)?0:-1;for(var i=0,r=t.length;i<r;i++)if(Ve(t[i],e))return i;return-1}function Ge(e,t,i){fe();try{if(t)for(var r=t;r=r.$parent;){var n=r.$options.errorCaptured;if(n)for(var s=0;s<n.length;s++)try{if(!1===n[s].call(r,e,t,i))return}catch(e){$e(e,r,"errorCaptured hook")}}$e(e,t,i)}finally{me()}}function He(e,t,i,r,n){var s;try{(s=i?e.apply(t,i):e.call(t))&&!s._isVue&&d(s)&&!s._handled&&(s.catch(function(e){return Ge(e,r,n+" (Promise/async)")}),s._handled=!0)}catch(e){Ge(e,r,n)}return s}function $e(e,t,i){if(j.errorHandler)try{return j.errorHandler.call(null,e,t,i)}catch(t){t!==e&&qe(t,null,"config.errorHandler")}qe(e,t,i)}function qe(e,t,i){if(!W&&!X||"undefined"==typeof console)throw e;console.error(e)}var We,Xe=!1,Ye=[],Ke=!1;function Qe(){Ke=!1;var e=Ye.slice(0);Ye.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&oe(Promise)){var Je=Promise.resolve();We=function(){Je.then(Qe),ee&&setTimeout(D)},Xe=!0}else if(Q||"undefined"==typeof MutationObserver||!oe(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())We="undefined"!=typeof setImmediate&&oe(setImmediate)?function(){setImmediate(Qe)}:function(){setTimeout(Qe,0)};else{var Ze=1,et=new MutationObserver(Qe),tt=document.createTextNode(String(Ze));et.observe(tt,{characterData:!0}),We=function(){Ze=(Ze+1)%2,tt.data=String(Ze)},Xe=!0}function it(e,t){var i;if(Ye.push(function(){if(e)try{e.call(t)}catch(e){Ge(e,t,"nextTick")}else i&&i(t)}),Ke||(Ke=!0,We()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){i=e})}var rt=new le;function nt(e){!function e(t,i){var r,n;var s=Array.isArray(t);if(!s&&!o(t)||Object.isFrozen(t)||t instanceof ge)return;if(t.__ob__){var a=t.__ob__.dep.id;if(i.has(a))return;i.add(a)}if(s)for(r=t.length;r--;)e(t[r],i);else for(n=Object.keys(t),r=n.length;r--;)e(t[n[r]],i)}(e,rt),rt.clear()}var st=T(function(e){var t="&"===e.charAt(0),i="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=i?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:i,capture:r,passive:t}});function at(e,t){function i(){var e=arguments,r=i.fns;if(!Array.isArray(r))return He(r,null,arguments,t,"v-on handler");for(var n=r.slice(),s=0;s<n.length;s++)He(n[s],null,e,t,"v-on handler")}return i.fns=e,i}function ot(e,t,i,n,a,o){var l,h,u,c;for(l in e)h=e[l],u=t[l],c=st(l),r(h)||(r(u)?(r(h.fns)&&(h=e[l]=at(h,o)),s(c.once)&&(h=e[l]=a(c.name,h,c.capture)),i(c.name,h,c.capture,c.passive,c.params)):h!==u&&(u.fns=h,e[l]=u));for(l in t)r(e[l])&&n((c=st(l)).name,t[l],c.capture)}function lt(e,t,i){var a;e instanceof ge&&(e=e.data.hook||(e.data.hook={}));var o=e[t];function l(){i.apply(this,arguments),y(a.fns,l)}r(o)?a=at([l]):n(o.fns)&&s(o.merged)?(a=o).fns.push(l):a=at([o,l]),a.merged=!0,e[t]=a}function ht(e,t,i,r,s){if(n(t)){if(b(t,i))return e[i]=t[i],s||delete t[i],!0;if(b(t,r))return e[i]=t[r],s||delete t[r],!0}return!1}function ut(e){return a(e)?[_e(e)]:Array.isArray(e)?function e(t,i){var o=[];var l,h,u,c;for(l=0;l<t.length;l++)r(h=t[l])||"boolean"==typeof h||(u=o.length-1,c=o[u],Array.isArray(h)?h.length>0&&(ct((h=e(h,(i||"")+"_"+l))[0])&&ct(c)&&(o[u]=_e(c.text+h[0].text),h.shift()),o.push.apply(o,h)):a(h)?ct(c)?o[u]=_e(c.text+h):""!==h&&o.push(_e(h)):ct(h)&&ct(c)?o[u]=_e(c.text+h.text):(s(t._isVList)&&n(h.tag)&&r(h.key)&&n(i)&&(h.key="__vlist"+i+"_"+l+"__"),o.push(h)));return o}(e):void 0}function ct(e){return n(e)&&n(e.text)&&!1===e.isComment}function dt(e,t){if(e){for(var i=Object.create(null),r=he?Reflect.ownKeys(e):Object.keys(e),n=0;n<r.length;n++){var s=r[n];if("__ob__"!==s){for(var a=e[s].from,o=t;o;){if(o._provided&&b(o._provided,a)){i[s]=o._provided[a];break}o=o.$parent}if(!o)if("default"in e[s]){var l=e[s].default;i[s]="function"==typeof l?l.call(t):l}else 0}}return i}}function pt(e,t){if(!e||!e.length)return{};for(var i={},r=0,n=e.length;r<n;r++){var s=e[r],a=s.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,s.context!==t&&s.fnContext!==t||!a||null==a.slot)(i.default||(i.default=[])).push(s);else{var o=a.slot,l=i[o]||(i[o]=[]);"template"===s.tag?l.push.apply(l,s.children||[]):l.push(s)}}for(var h in i)i[h].every(ft)&&delete i[h];return i}function ft(e){return e.isComment&&!e.asyncFactory||" "===e.text}function mt(e,t,r){var n,s=Object.keys(t).length>0,a=e?!!e.$stable:!s,o=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&r&&r!==i&&o===r.$key&&!s&&!r.$hasNormal)return r;for(var l in n={},e)e[l]&&"$"!==l[0]&&(n[l]=gt(t,l,e[l]))}else n={};for(var h in t)h in n||(n[h]=vt(t,h));return e&&Object.isExtensible(e)&&(e._normalized=n),G(n,"$stable",a),G(n,"$key",o),G(n,"$hasNormal",s),n}function gt(e,t,i){var r=function(){var e=arguments.length?i.apply(null,arguments):i({});return(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:ut(e))&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return i.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function vt(e,t){return function(){return e[t]}}function yt(e,t){var i,r,s,a,l;if(Array.isArray(e)||"string"==typeof e)for(i=new Array(e.length),r=0,s=e.length;r<s;r++)i[r]=t(e[r],r);else if("number"==typeof e)for(i=new Array(e),r=0;r<e;r++)i[r]=t(r+1,r);else if(o(e))if(he&&e[Symbol.iterator]){i=[];for(var h=e[Symbol.iterator](),u=h.next();!u.done;)i.push(t(u.value,i.length)),u=h.next()}else for(a=Object.keys(e),i=new Array(a.length),r=0,s=a.length;r<s;r++)l=a[r],i[r]=t(e[l],l,r);return n(i)||(i=[]),i._isVList=!0,i}function _t(e,t,i,r){var n,s=this.$scopedSlots[e];s?(i=i||{},r&&(i=P(P({},r),i)),n=s(i)||t):n=this.$slots[e]||t;var a=i&&i.slot;return a?this.$createElement("template",{slot:a},n):n}function bt(e){return Ne(this.$options,"filters",e)||L}function Tt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function St(e,t,i,r,n){var s=j.keyCodes[t]||i;return n&&r&&!j.keyCodes[t]?Tt(n,r):s?Tt(s,e):r?x(r)!==t:void 0}function Et(e,t,i,r,n){if(i)if(o(i)){var s;Array.isArray(i)&&(i=I(i));var a=function(a){if("class"===a||"style"===a||v(a))s=e;else{var o=e.attrs&&e.attrs.type;s=r||j.mustUseProp(t,o,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=E(a),h=x(a);l in s||h in s||(s[a]=i[a],n&&((e.on||(e.on={}))["update:"+a]=function(e){i[a]=e}))};for(var l in i)a(l)}else;return e}function wt(e,t){var i=this._staticTrees||(this._staticTrees=[]),r=i[e];return r&&!t?r:(xt(r=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),r)}function Ct(e,t,i){return xt(e,"__once__"+t+(i?"_"+i:""),!0),e}function xt(e,t,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&kt(e[r],t+"_"+r,i);else kt(e,t,i)}function kt(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function At(e,t){if(t)if(h(t)){var i=e.on=e.on?P({},e.on):{};for(var r in t){var n=i[r],s=t[r];i[r]=n?[].concat(n,s):s}}else;return e}function Pt(e,t,i,r){t=t||{$stable:!i};for(var n=0;n<e.length;n++){var s=e[n];Array.isArray(s)?Pt(s,t,i):s&&(s.proxy&&(s.fn.proxy=!0),t[s.key]=s.fn)}return r&&(t.$key=r),t}function It(e,t){for(var i=0;i<t.length;i+=2){var r=t[i];"string"==typeof r&&r&&(e[t[i]]=t[i+1])}return e}function Dt(e,t){return"string"==typeof e?t+e:e}function Mt(e){e._o=Ct,e._n=f,e._s=p,e._l=yt,e._t=_t,e._q=O,e._i=R,e._m=wt,e._f=bt,e._k=St,e._b=Et,e._v=_e,e._e=ye,e._u=Pt,e._g=At,e._d=It,e._p=Dt}function Lt(e,t,r,n,a){var o,l=this,h=a.options;b(n,"_uid")?(o=Object.create(n))._original=n:(o=n,n=n._original);var u=s(h._compiled),c=!u;this.data=e,this.props=t,this.children=r,this.parent=n,this.listeners=e.on||i,this.injections=dt(h.inject,n),this.slots=function(){return l.$slots||mt(e.scopedSlots,l.$slots=pt(r,n)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return mt(e.scopedSlots,this.slots())}}),u&&(this.$options=h,this.$slots=this.slots(),this.$scopedSlots=mt(e.scopedSlots,this.$slots)),h._scopeId?this._c=function(e,t,i,r){var s=zt(o,e,t,i,r,c);return s&&!Array.isArray(s)&&(s.fnScopeId=h._scopeId,s.fnContext=n),s}:this._c=function(e,t,i,r){return zt(o,e,t,i,r,c)}}function Ot(e,t,i,r,n){var s=be(e);return s.fnContext=i,s.fnOptions=r,t.slot&&((s.data||(s.data={})).slot=t.slot),s}function Rt(e,t){for(var i in t)e[E(i)]=t[i]}Mt(Lt.prototype);var Ft={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var i=e;Ft.prepatch(i,i)}else{(e.componentInstance=function(e,t){var i={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;n(r)&&(i.render=r.render,i.staticRenderFns=r.staticRenderFns);return new e.componentOptions.Ctor(i)}(e,Jt)).$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var r=t.componentOptions;!function(e,t,r,n,s){0;var a=n.data.scopedSlots,o=e.$scopedSlots,l=!!(a&&!a.$stable||o!==i&&!o.$stable||a&&e.$scopedSlots.$key!==a.$key),h=!!(s||e.$options._renderChildren||l);e.$options._parentVnode=n,e.$vnode=n,e._vnode&&(e._vnode.parent=n);if(e.$options._renderChildren=s,e.$attrs=n.data.attrs||i,e.$listeners=r||i,t&&e.$options.props){Ce(!1);for(var u=e._props,c=e.$options._propKeys||[],d=0;d<c.length;d++){var p=c[d],f=e.$options.props;u[p]=Ue(p,f,t,e)}Ce(!0),e.$options.propsData=t}r=r||i;var m=e.$options._parentListeners;e.$options._parentListeners=r,Qt(e,r,m),h&&(e.$slots=pt(s,n.context),e.$forceUpdate());0}(t.componentInstance=e.componentInstance,r.propsData,r.listeners,t,r.children)},insert:function(e){var t,i=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,ii(r,"mounted")),e.data.keepAlive&&(i._isMounted?((t=r)._inactive=!1,ni.push(t)):ti(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,i){if(i&&(t._directInactive=!0,ei(t)))return;if(!t._inactive){t._inactive=!0;for(var r=0;r<t.$children.length;r++)e(t.$children[r]);ii(t,"deactivated")}}(t,!0):t.$destroy())}},Bt=Object.keys(Ft);function Nt(e,t,a,l,h){if(!r(e)){var u=a.$options._base;if(o(e)&&(e=u.extend(e)),"function"==typeof e){var c;if(r(e.cid)&&void 0===(e=function(e,t){if(s(e.error)&&n(e.errorComp))return e.errorComp;if(n(e.resolved))return e.resolved;var i=Ht;i&&n(e.owners)&&-1===e.owners.indexOf(i)&&e.owners.push(i);if(s(e.loading)&&n(e.loadingComp))return e.loadingComp;if(i&&!n(e.owners)){var a=e.owners=[i],l=!0,h=null,u=null;i.$on("hook:destroyed",function(){return y(a,i)});var c=function(e){for(var t=0,i=a.length;t<i;t++)a[t].$forceUpdate();e&&(a.length=0,null!==h&&(clearTimeout(h),h=null),null!==u&&(clearTimeout(u),u=null))},p=F(function(i){e.resolved=$t(i,t),l?a.length=0:c(!0)}),f=F(function(t){n(e.errorComp)&&(e.error=!0,c(!0))}),m=e(p,f);return o(m)&&(d(m)?r(e.resolved)&&m.then(p,f):d(m.component)&&(m.component.then(p,f),n(m.error)&&(e.errorComp=$t(m.error,t)),n(m.loading)&&(e.loadingComp=$t(m.loading,t),0===m.delay?e.loading=!0:h=setTimeout(function(){h=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,c(!1))},m.delay||200)),n(m.timeout)&&(u=setTimeout(function(){u=null,r(e.resolved)&&f(null)},m.timeout)))),l=!1,e.loading?e.loadingComp:e.resolved}}(c=e,u)))return function(e,t,i,r,n){var s=ye();return s.asyncFactory=e,s.asyncMeta={data:t,context:i,children:r,tag:n},s}(c,t,a,l,h);t=t||{},wi(e),n(t.model)&&function(e,t){var i=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[i]=t.model.value;var s=t.on||(t.on={}),a=s[r],o=t.model.callback;n(a)?(Array.isArray(a)?-1===a.indexOf(o):a!==o)&&(s[r]=[o].concat(a)):s[r]=o}(e.options,t);var p=function(e,t,i){var s=t.options.props;if(!r(s)){var a={},o=e.attrs,l=e.props;if(n(o)||n(l))for(var h in s){var u=x(h);ht(a,l,h,u,!0)||ht(a,o,h,u,!1)}return a}}(t,e);if(s(e.options.functional))return function(e,t,r,s,a){var o=e.options,l={},h=o.props;if(n(h))for(var u in h)l[u]=Ue(u,h,t||i);else n(r.attrs)&&Rt(l,r.attrs),n(r.props)&&Rt(l,r.props);var c=new Lt(r,l,a,s,e),d=o.render.call(null,c._c,c);if(d instanceof ge)return Ot(d,r,c.parent,o);if(Array.isArray(d)){for(var p=ut(d)||[],f=new Array(p.length),m=0;m<p.length;m++)f[m]=Ot(p[m],r,c.parent,o);return f}}(e,p,t,a,l);var f=t.on;if(t.on=t.nativeOn,s(e.options.abstract)){var m=t.slot;t={},m&&(t.slot=m)}!function(e){for(var t=e.hook||(e.hook={}),i=0;i<Bt.length;i++){var r=Bt[i],n=t[r],s=Ft[r];n===s||n&&n._merged||(t[r]=n?Ut(s,n):s)}}(t);var g=e.options.name||h;return new ge("vue-component-"+e.cid+(g?"-"+g:""),t,void 0,void 0,void 0,a,{Ctor:e,propsData:p,listeners:f,tag:h,children:l},c)}}}function Ut(e,t){var i=function(i,r){e(i,r),t(i,r)};return i._merged=!0,i}var jt=1,Vt=2;function zt(e,t,i,l,h,u){return(Array.isArray(i)||a(i))&&(h=l,l=i,i=void 0),s(u)&&(h=Vt),function(e,t,i,a,l){if(n(i)&&n(i.__ob__))return ye();n(i)&&n(i.is)&&(t=i.is);if(!t)return ye();0;Array.isArray(a)&&"function"==typeof a[0]&&((i=i||{}).scopedSlots={default:a[0]},a.length=0);l===Vt?a=ut(a):l===jt&&(a=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(a));var h,u;if("string"==typeof t){var c;u=e.$vnode&&e.$vnode.ns||j.getTagNamespace(t),h=j.isReservedTag(t)?new ge(j.parsePlatformTagName(t),i,a,void 0,void 0,e):i&&i.pre||!n(c=Ne(e.$options,"components",t))?new ge(t,i,a,void 0,void 0,e):Nt(c,i,e,a,t)}else h=Nt(t,i,e,a);return Array.isArray(h)?h:n(h)?(n(u)&&function e(t,i,a){t.ns=i;"foreignObject"===t.tag&&(i=void 0,a=!0);if(n(t.children))for(var o=0,l=t.children.length;o<l;o++){var h=t.children[o];n(h.tag)&&(r(h.ns)||s(a)&&"svg"!==h.tag)&&e(h,i,a)}}(h,u),n(i)&&function(e){o(e.style)&&nt(e.style);o(e.class)&&nt(e.class)}(i),h):ye()}(e,t,i,l,h)}var Gt,Ht=null;function $t(e,t){return(e.__esModule||he&&"Module"===e[Symbol.toStringTag])&&(e=e.default),o(e)?t.extend(e):e}function qt(e){return e.isComment&&e.asyncFactory}function Wt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];if(n(i)&&(n(i.componentOptions)||qt(i)))return i}}function Xt(e,t){Gt.$on(e,t)}function Yt(e,t){Gt.$off(e,t)}function Kt(e,t){var i=Gt;return function r(){null!==t.apply(null,arguments)&&i.$off(e,r)}}function Qt(e,t,i){Gt=e,ot(t,i||{},Xt,Yt,Kt,e),Gt=void 0}var Jt=null;function Zt(e){var t=Jt;return Jt=e,function(){Jt=t}}function ei(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function ti(e,t){if(t){if(e._directInactive=!1,ei(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)ti(e.$children[i]);ii(e,"activated")}}function ii(e,t){fe();var i=e.$options[t],r=t+" hook";if(i)for(var n=0,s=i.length;n<s;n++)He(i[n],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),me()}var ri=[],ni=[],si={},ai=!1,oi=!1,li=0;var hi=0,ui=Date.now;if(W&&!Q){var ci=window.performance;ci&&"function"==typeof ci.now&&ui()>document.createEvent("Event").timeStamp&&(ui=function(){return ci.now()})}function di(){var e,t;for(hi=ui(),oi=!0,ri.sort(function(e,t){return e.id-t.id}),li=0;li<ri.length;li++)(e=ri[li]).before&&e.before(),t=e.id,si[t]=null,e.run();var i=ni.slice(),r=ri.slice();li=ri.length=ni.length=0,si={},ai=oi=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,ti(e[t],!0)}(i),function(e){var t=e.length;for(;t--;){var i=e[t],r=i.vm;r._watcher===i&&r._isMounted&&!r._isDestroyed&&ii(r,"updated")}}(r),ae&&j.devtools&&ae.emit("flush")}var pi=0,fi=function(e,t,i,r,n){this.vm=e,n&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++pi,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new le,this.newDepIds=new le,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!H.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}(t),this.getter||(this.getter=D)),this.value=this.lazy?void 0:this.get()};fi.prototype.get=function(){var e;fe(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;Ge(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&nt(e),me(),this.cleanupDeps()}return e},fi.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},fi.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},fi.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==si[t]){if(si[t]=!0,oi){for(var i=ri.length-1;i>li&&ri[i].id>e.id;)i--;ri.splice(i+1,0,e)}else ri.push(e);ai||(ai=!0,it(di))}}(this)},fi.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||o(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){Ge(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},fi.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},fi.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},fi.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var mi={enumerable:!0,configurable:!0,get:D,set:D};function gi(e,t,i){mi.get=function(){return this[t][i]},mi.set=function(e){this[t][i]=e},Object.defineProperty(e,i,mi)}function vi(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var i=e.$options.propsData||{},r=e._props={},n=e.$options._propKeys=[],s=!e.$parent;s||Ce(!1);var a=function(s){n.push(s);var a=Ue(s,t,i,e);Ae(r,s,a),s in e||gi(e,"_props",s)};for(var o in t)a(o);Ce(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var i in t)e[i]="function"!=typeof t[i]?D:k(t[i],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;h(t=e._data="function"==typeof t?function(e,t){fe();try{return e.call(t,t)}catch(e){return Ge(e,t,"data()"),{}}finally{me()}}(t,e):t||{})||(t={});var i=Object.keys(t),r=e.$options.props,n=(e.$options.methods,i.length);for(;n--;){var s=i[n];0,r&&b(r,s)||z(s)||gi(e,"_data",s)}ke(t,!0)}(e):ke(e._data={},!0),t.computed&&function(e,t){var i=e._computedWatchers=Object.create(null),r=se();for(var n in t){var s=t[n],a="function"==typeof s?s:s.get;0,r||(i[n]=new fi(e,a||D,D,yi)),n in e||_i(e,n,s)}}(e,t.computed),t.watch&&t.watch!==ie&&function(e,t){for(var i in t){var r=t[i];if(Array.isArray(r))for(var n=0;n<r.length;n++)Si(e,i,r[n]);else Si(e,i,r)}}(e,t.watch)}var yi={lazy:!0};function _i(e,t,i){var r=!se();"function"==typeof i?(mi.get=r?bi(t):Ti(i),mi.set=D):(mi.get=i.get?r&&!1!==i.cache?bi(t):Ti(i.get):D,mi.set=i.set||D),Object.defineProperty(e,t,mi)}function bi(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),de.target&&t.depend(),t.value}}function Ti(e){return function(){return e.call(this,this)}}function Si(e,t,i,r){return h(i)&&(r=i,i=i.handler),"string"==typeof i&&(i=e[i]),e.$watch(t,i,r)}var Ei=0;function wi(e){var t=e.options;if(e.super){var i=wi(e.super);if(i!==e.superOptions){e.superOptions=i;var r=function(e){var t,i=e.options,r=e.sealedOptions;for(var n in i)i[n]!==r[n]&&(t||(t={}),t[n]=i[n]);return t}(e);r&&P(e.extendOptions,r),(t=e.options=Be(i,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function Ci(e){this._init(e)}function xi(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,r=i.cid,n=e._Ctor||(e._Ctor={});if(n[r])return n[r];var s=e.name||i.options.name;var a=function(e){this._init(e)};return(a.prototype=Object.create(i.prototype)).constructor=a,a.cid=t++,a.options=Be(i.options,e),a.super=i,a.options.props&&function(e){var t=e.options.props;for(var i in t)gi(e.prototype,"_props",i)}(a),a.options.computed&&function(e){var t=e.options.computed;for(var i in t)_i(e.prototype,i,t[i])}(a),a.extend=i.extend,a.mixin=i.mixin,a.use=i.use,N.forEach(function(e){a[e]=i[e]}),s&&(a.options.components[s]=a),a.superOptions=i.options,a.extendOptions=e,a.sealedOptions=P({},a.options),n[r]=a,a}}function ki(e){return e&&(e.Ctor.options.name||e.tag)}function Ai(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!u(e)&&e.test(t)}function Pi(e,t){var i=e.cache,r=e.keys,n=e._vnode;for(var s in i){var a=i[s];if(a){var o=ki(a.componentOptions);o&&!t(o)&&Ii(i,s,r,n)}}}function Ii(e,t,i,r){var n=e[t];!n||r&&n.tag===r.tag||n.componentInstance.$destroy(),e[t]=null,y(i,t)}!function(e){e.prototype._init=function(e){var t=this;t._uid=Ei++,t._isVue=!0,e&&e._isComponent?function(e,t){var i=e.$options=Object.create(e.constructor.options),r=t._parentVnode;i.parent=t.parent,i._parentVnode=r;var n=r.componentOptions;i.propsData=n.propsData,i._parentListeners=n.listeners,i._renderChildren=n.children,i._componentTag=n.tag,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=Be(wi(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Qt(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,n=r&&r.context;e.$slots=pt(t._renderChildren,n),e.$scopedSlots=i,e._c=function(t,i,r,n){return zt(e,t,i,r,n,!1)},e.$createElement=function(t,i,r,n){return zt(e,t,i,r,n,!0)};var s=r&&r.data;Ae(e,"$attrs",s&&s.attrs||i,null,!0),Ae(e,"$listeners",t._parentListeners||i,null,!0)}(t),ii(t,"beforeCreate"),function(e){var t=dt(e.$options.inject,e);t&&(Ce(!1),Object.keys(t).forEach(function(i){Ae(e,i,t[i])}),Ce(!0))}(t),vi(t),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(t),ii(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(Ci),function(e){var t={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=Pe,e.prototype.$delete=Ie,e.prototype.$watch=function(e,t,i){if(h(t))return Si(this,e,t,i);(i=i||{}).user=!0;var r=new fi(this,e,t,i);if(i.immediate)try{t.call(this,r.value)}catch(e){Ge(e,this,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}(Ci),function(e){var t=/^hook:/;e.prototype.$on=function(e,i){var r=this;if(Array.isArray(e))for(var n=0,s=e.length;n<s;n++)r.$on(e[n],i);else(r._events[e]||(r._events[e]=[])).push(i),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var i=this;function r(){i.$off(e,r),t.apply(i,arguments)}return r.fn=t,i.$on(e,r),i},e.prototype.$off=function(e,t){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(e)){for(var r=0,n=e.length;r<n;r++)i.$off(e[r],t);return i}var s,a=i._events[e];if(!a)return i;if(!t)return i._events[e]=null,i;for(var o=a.length;o--;)if((s=a[o])===t||s.fn===t){a.splice(o,1);break}return i},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?A(i):i;for(var r=A(arguments,1),n='event handler for "'+e+'"',s=0,a=i.length;s<a;s++)He(i[s],t,r,t,n)}return t}}(Ci),function(e){e.prototype._update=function(e,t){var i=this,r=i.$el,n=i._vnode,s=Zt(i);i._vnode=e,i.$el=n?i.__patch__(n,e):i.__patch__(i.$el,e,t,!1),s(),r&&(r.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){ii(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||y(t.$children,e),e._watcher&&e._watcher.teardown();for(var i=e._watchers.length;i--;)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),ii(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Ci),function(e){Mt(e.prototype),e.prototype.$nextTick=function(e){return it(e,this)},e.prototype._render=function(){var e,t=this,i=t.$options,r=i.render,n=i._parentVnode;n&&(t.$scopedSlots=mt(n.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=n;try{Ht=t,e=r.call(t._renderProxy,t.$createElement)}catch(i){Ge(i,t,"render"),e=t._vnode}finally{Ht=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof ge||(e=ye()),e.parent=n,e}}(Ci);var Di=[String,RegExp,Array],Mi={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Di,exclude:Di,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Ii(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){Pi(e,function(e){return Ai(t,e)})}),this.$watch("exclude",function(t){Pi(e,function(e){return!Ai(t,e)})})},render:function(){var e=this.$slots.default,t=Wt(e),i=t&&t.componentOptions;if(i){var r=ki(i),n=this.include,s=this.exclude;if(n&&(!r||!Ai(n,r))||s&&r&&Ai(s,r))return t;var a=this.cache,o=this.keys,l=null==t.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):t.key;a[l]?(t.componentInstance=a[l].componentInstance,y(o,l),o.push(l)):(a[l]=t,o.push(l),this.max&&o.length>parseInt(this.max)&&Ii(a,o[0],o,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return j}};Object.defineProperty(e,"config",t),e.util={warn:ue,extend:P,mergeOptions:Be,defineReactive:Ae},e.set=Pe,e.delete=Ie,e.nextTick=it,e.observable=function(e){return ke(e),e},e.options=Object.create(null),N.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,P(e.options.components,Mi),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=A(arguments,1);return i.unshift(this),"function"==typeof e.install?e.install.apply(e,i):"function"==typeof e&&e.apply(null,i),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Be(this.options,e),this}}(e),xi(e),function(e){N.forEach(function(t){e[t]=function(e,i){return i?("component"===t&&h(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&"function"==typeof i&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}})}(e)}(Ci),Object.defineProperty(Ci.prototype,"$isServer",{get:se}),Object.defineProperty(Ci.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Ci,"FunctionalRenderContext",{value:Lt}),Ci.version="2.6.12";var Li=m("style,class"),Oi=m("input,textarea,option,select,progress"),Ri=function(e,t,i){return"value"===i&&Oi(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e},Fi=m("contenteditable,draggable,spellcheck"),Bi=m("events,caret,typing,plaintext-only"),Ni=function(e,t){return Gi(t)||"false"===t?"false":"contenteditable"===e&&Bi(t)?t:"true"},Ui=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),ji="http://www.w3.org/1999/xlink",Vi=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},zi=function(e){return Vi(e)?e.slice(6,e.length):""},Gi=function(e){return null==e||!1===e};function Hi(e){for(var t=e.data,i=e,r=e;n(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(t=$i(r.data,t));for(;n(i=i.parent);)i&&i.data&&(t=$i(t,i.data));return function(e,t){if(n(e)||n(t))return qi(e,Wi(t));return""}(t.staticClass,t.class)}function $i(e,t){return{staticClass:qi(e.staticClass,t.staticClass),class:n(e.class)?[e.class,t.class]:t.class}}function qi(e,t){return e?t?e+" "+t:e:t||""}function Wi(e){return Array.isArray(e)?function(e){for(var t,i="",r=0,s=e.length;r<s;r++)n(t=Wi(e[r]))&&""!==t&&(i&&(i+=" "),i+=t);return i}(e):o(e)?function(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}(e):"string"==typeof e?e:""}var Xi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Yi=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ki=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Qi=function(e){return Yi(e)||Ki(e)};function Ji(e){return Ki(e)?"svg":"math"===e?"math":void 0}var Zi=Object.create(null);var er=m("text,number,password,search,email,tel,url");function tr(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}var ir=Object.freeze({createElement:function(e,t){var i=document.createElement(e);return"select"!==e?i:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)},createElementNS:function(e,t){return document.createElementNS(Xi[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,i){e.insertBefore(t,i)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),rr={create:function(e,t){nr(t)},update:function(e,t){e.data.ref!==t.data.ref&&(nr(e,!0),nr(t))},destroy:function(e){nr(e,!0)}};function nr(e,t){var i=e.data.ref;if(n(i)){var r=e.context,s=e.componentInstance||e.elm,a=r.$refs;t?Array.isArray(a[i])?y(a[i],s):a[i]===s&&(a[i]=void 0):e.data.refInFor?Array.isArray(a[i])?a[i].indexOf(s)<0&&a[i].push(s):a[i]=[s]:a[i]=s}}var sr=new ge("",{},[]),ar=["create","activate","update","remove","destroy"];function or(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&n(e.data)===n(t.data)&&function(e,t){if("input"!==e.tag)return!0;var i,r=n(i=e.data)&&n(i=i.attrs)&&i.type,s=n(i=t.data)&&n(i=i.attrs)&&i.type;return r===s||er(r)&&er(s)}(e,t)||s(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function lr(e,t,i){var r,s,a={};for(r=t;r<=i;++r)n(s=e[r].key)&&(a[s]=r);return a}var hr={create:ur,update:ur,destroy:function(e){ur(e,sr)}};function ur(e,t){(e.data.directives||t.data.directives)&&function(e,t){var i,r,n,s=e===sr,a=t===sr,o=dr(e.data.directives,e.context),l=dr(t.data.directives,t.context),h=[],u=[];for(i in l)r=o[i],n=l[i],r?(n.oldValue=r.value,n.oldArg=r.arg,fr(n,"update",t,e),n.def&&n.def.componentUpdated&&u.push(n)):(fr(n,"bind",t,e),n.def&&n.def.inserted&&h.push(n));if(h.length){var c=function(){for(var i=0;i<h.length;i++)fr(h[i],"inserted",t,e)};s?lt(t,"insert",c):c()}u.length&&lt(t,"postpatch",function(){for(var i=0;i<u.length;i++)fr(u[i],"componentUpdated",t,e)});if(!s)for(i in o)l[i]||fr(o[i],"unbind",e,e,a)}(e,t)}var cr=Object.create(null);function dr(e,t){var i,r,n=Object.create(null);if(!e)return n;for(i=0;i<e.length;i++)(r=e[i]).modifiers||(r.modifiers=cr),n[pr(r)]=r,r.def=Ne(t.$options,"directives",r.name);return n}function pr(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function fr(e,t,i,r,n){var s=e.def&&e.def[t];if(s)try{s(i.elm,e,i,r,n)}catch(r){Ge(r,i.context,"directive "+e.name+" "+t+" hook")}}var mr=[rr,hr];function gr(e,t){var i=t.componentOptions;if(!(n(i)&&!1===i.Ctor.options.inheritAttrs||r(e.data.attrs)&&r(t.data.attrs))){var s,a,o=t.elm,l=e.data.attrs||{},h=t.data.attrs||{};for(s in n(h.__ob__)&&(h=t.data.attrs=P({},h)),h)a=h[s],l[s]!==a&&vr(o,s,a);for(s in(Q||Z)&&h.value!==l.value&&vr(o,"value",h.value),l)r(h[s])&&(Vi(s)?o.removeAttributeNS(ji,zi(s)):Fi(s)||o.removeAttribute(s))}}function vr(e,t,i){e.tagName.indexOf("-")>-1?yr(e,t,i):Ui(t)?Gi(i)?e.removeAttribute(t):(i="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,i)):Fi(t)?e.setAttribute(t,Ni(t,i)):Vi(t)?Gi(i)?e.removeAttributeNS(ji,zi(t)):e.setAttributeNS(ji,t,i):yr(e,t,i)}function yr(e,t,i){if(Gi(i))e.removeAttribute(t);else{if(Q&&!J&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==i&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,i)}}var _r={create:gr,update:gr};function br(e,t){var i=t.elm,s=t.data,a=e.data;if(!(r(s.staticClass)&&r(s.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var o=Hi(t),l=i._transitionClasses;n(l)&&(o=qi(o,Wi(l))),o!==i._prevClass&&(i.setAttribute("class",o),i._prevClass=o)}}var Tr,Sr,Er,wr,Cr,xr,kr={create:br,update:br},Ar=/[\w).+\-_$\]]/;function Pr(e){var t,i,r,n,s,a=!1,o=!1,l=!1,h=!1,u=0,c=0,d=0,p=0;for(r=0;r<e.length;r++)if(i=t,t=e.charCodeAt(r),a)39===t&&92!==i&&(a=!1);else if(o)34===t&&92!==i&&(o=!1);else if(l)96===t&&92!==i&&(l=!1);else if(h)47===t&&92!==i&&(h=!1);else if(124!==t||124===e.charCodeAt(r+1)||124===e.charCodeAt(r-1)||u||c||d){switch(t){case 34:o=!0;break;case 39:a=!0;break;case 96:l=!0;break;case 40:d++;break;case 41:d--;break;case 91:c++;break;case 93:c--;break;case 123:u++;break;case 125:u--}if(47===t){for(var f=r-1,m=void 0;f>=0&&" "===(m=e.charAt(f));f--);m&&Ar.test(m)||(h=!0)}}else void 0===n?(p=r+1,n=e.slice(0,r).trim()):g();function g(){(s||(s=[])).push(e.slice(p,r).trim()),p=r+1}if(void 0===n?n=e.slice(0,r).trim():0!==p&&g(),s)for(r=0;r<s.length;r++)n=Ir(n,s[r]);return n}function Ir(e,t){var i=t.indexOf("(");if(i<0)return'_f("'+t+'")('+e+")";var r=t.slice(0,i),n=t.slice(i+1);return'_f("'+r+'")('+e+(")"!==n?","+n:n)}function Dr(e,t){console.error("[Vue compiler]: "+e)}function Mr(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function Lr(e,t,i,r,n){(e.props||(e.props=[])).push(Gr({name:t,value:i,dynamic:n},r)),e.plain=!1}function Or(e,t,i,r,n){(n?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(Gr({name:t,value:i,dynamic:n},r)),e.plain=!1}function Rr(e,t,i,r){e.attrsMap[t]=i,e.attrsList.push(Gr({name:t,value:i},r))}function Fr(e,t,i,r,n,s,a,o){(e.directives||(e.directives=[])).push(Gr({name:t,rawName:i,value:r,arg:n,isDynamicArg:s,modifiers:a},o)),e.plain=!1}function Br(e,t,i){return i?"_p("+t+',"'+e+'")':e+t}function Nr(e,t,r,n,s,a,o,l){var h;(n=n||i).right?l?t="("+t+")==='click'?'contextmenu':("+t+")":"click"===t&&(t="contextmenu",delete n.right):n.middle&&(l?t="("+t+")==='click'?'mouseup':("+t+")":"click"===t&&(t="mouseup")),n.capture&&(delete n.capture,t=Br("!",t,l)),n.once&&(delete n.once,t=Br("~",t,l)),n.passive&&(delete n.passive,t=Br("&",t,l)),n.native?(delete n.native,h=e.nativeEvents||(e.nativeEvents={})):h=e.events||(e.events={});var u=Gr({value:r.trim(),dynamic:l},o);n!==i&&(u.modifiers=n);var c=h[t];Array.isArray(c)?s?c.unshift(u):c.push(u):h[t]=c?s?[u,c]:[c,u]:u,e.plain=!1}function Ur(e,t){return e.rawAttrsMap[":"+t]||e.rawAttrsMap["v-bind:"+t]||e.rawAttrsMap[t]}function jr(e,t,i){var r=Vr(e,":"+t)||Vr(e,"v-bind:"+t);if(null!=r)return Pr(r);if(!1!==i){var n=Vr(e,t);if(null!=n)return JSON.stringify(n)}}function Vr(e,t,i){var r;if(null!=(r=e.attrsMap[t]))for(var n=e.attrsList,s=0,a=n.length;s<a;s++)if(n[s].name===t){n.splice(s,1);break}return i&&delete e.attrsMap[t],r}function zr(e,t){for(var i=e.attrsList,r=0,n=i.length;r<n;r++){var s=i[r];if(t.test(s.name))return i.splice(r,1),s}}function Gr(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function Hr(e,t,i){var r=i||{},n=r.number,s="$$v";r.trim&&(s="(typeof $$v === 'string'? $$v.trim(): $$v)"),n&&(s="_n("+s+")");var a=$r(t,s);e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ($$v) {"+a+"}"}}function $r(e,t){var i=function(e){if(e=e.trim(),Tr=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<Tr-1)return(wr=e.lastIndexOf("."))>-1?{exp:e.slice(0,wr),key:'"'+e.slice(wr+1)+'"'}:{exp:e,key:null};Sr=e,wr=Cr=xr=0;for(;!Wr();)Xr(Er=qr())?Kr(Er):91===Er&&Yr(Er);return{exp:e.slice(0,Cr),key:e.slice(Cr+1,xr)}}(e);return null===i.key?e+"="+t:"$set("+i.exp+", "+i.key+", "+t+")"}function qr(){return Sr.charCodeAt(++wr)}function Wr(){return wr>=Tr}function Xr(e){return 34===e||39===e}function Yr(e){var t=1;for(Cr=wr;!Wr();)if(Xr(e=qr()))Kr(e);else if(91===e&&t++,93===e&&t--,0===t){xr=wr;break}}function Kr(e){for(var t=e;!Wr()&&(e=qr())!==t;);}var Qr,Jr="__r",Zr="__c";function en(e,t,i){var r=Qr;return function n(){null!==t.apply(null,arguments)&&nn(e,n,i,r)}}var tn=Xe&&!(te&&Number(te[1])<=53);function rn(e,t,i,r){if(tn){var n=hi,s=t;t=s._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=n||e.timeStamp<=0||e.target.ownerDocument!==document)return s.apply(this,arguments)}}Qr.addEventListener(e,t,re?{capture:i,passive:r}:i)}function nn(e,t,i,r){(r||Qr).removeEventListener(e,t._wrapper||t,i)}function sn(e,t){if(!r(e.data.on)||!r(t.data.on)){var i=t.data.on||{},s=e.data.on||{};Qr=t.elm,function(e){if(n(e[Jr])){var t=Q?"change":"input";e[t]=[].concat(e[Jr],e[t]||[]),delete e[Jr]}n(e[Zr])&&(e.change=[].concat(e[Zr],e.change||[]),delete e[Zr])}(i),ot(i,s,rn,nn,en,t.context),Qr=void 0}}var an,on={create:sn,update:sn};function ln(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var i,s,a=t.elm,o=e.data.domProps||{},l=t.data.domProps||{};for(i in n(l.__ob__)&&(l=t.data.domProps=P({},l)),o)i in l||(a[i]="");for(i in l){if(s=l[i],"textContent"===i||"innerHTML"===i){if(t.children&&(t.children.length=0),s===o[i])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===i&&"PROGRESS"!==a.tagName){a._value=s;var h=r(s)?"":String(s);hn(a,h)&&(a.value=h)}else if("innerHTML"===i&&Ki(a.tagName)&&r(a.innerHTML)){(an=an||document.createElement("div")).innerHTML="<svg>"+s+"</svg>";for(var u=an.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}else if(s!==o[i])try{a[i]=s}catch(e){}}}}function hn(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var i=!0;try{i=document.activeElement!==e}catch(e){}return i&&e.value!==t}(e,t)||function(e,t){var i=e.value,r=e._vModifiers;if(n(r)){if(r.number)return f(i)!==f(t);if(r.trim)return i.trim()!==t.trim()}return i!==t}(e,t))}var un={create:ln,update:ln},cn=T(function(e){var t={},i=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var r=e.split(i);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t});function dn(e){var t=pn(e.style);return e.staticStyle?P(e.staticStyle,t):t}function pn(e){return Array.isArray(e)?I(e):"string"==typeof e?cn(e):e}var fn,mn=/^--/,gn=/\s*!important$/,vn=function(e,t,i){if(mn.test(t))e.style.setProperty(t,i);else if(gn.test(i))e.style.setProperty(x(t),i.replace(gn,""),"important");else{var r=_n(t);if(Array.isArray(i))for(var n=0,s=i.length;n<s;n++)e.style[r]=i[n];else e.style[r]=i}},yn=["Webkit","Moz","ms"],_n=T(function(e){if(fn=fn||document.createElement("div").style,"filter"!==(e=E(e))&&e in fn)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<yn.length;i++){var r=yn[i]+t;if(r in fn)return r}});function bn(e,t){var i=t.data,s=e.data;if(!(r(i.staticStyle)&&r(i.style)&&r(s.staticStyle)&&r(s.style))){var a,o,l=t.elm,h=s.staticStyle,u=s.normalizedStyle||s.style||{},c=h||u,d=pn(t.data.style)||{};t.data.normalizedStyle=n(d.__ob__)?P({},d):d;var p=function(e,t){var i,r={};if(t)for(var n=e;n.componentInstance;)(n=n.componentInstance._vnode)&&n.data&&(i=dn(n.data))&&P(r,i);(i=dn(e.data))&&P(r,i);for(var s=e;s=s.parent;)s.data&&(i=dn(s.data))&&P(r,i);return r}(t,!0);for(o in c)r(p[o])&&vn(l,o,"");for(o in p)(a=p[o])!==c[o]&&vn(l,o,null==a?"":a)}}var Tn={create:bn,update:bn},Sn=/\s+/;function En(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Sn).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var i=" "+(e.getAttribute("class")||"")+" ";i.indexOf(" "+t+" ")<0&&e.setAttribute("class",(i+t).trim())}}function wn(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Sn).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var i=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";i.indexOf(r)>=0;)i=i.replace(r," ");(i=i.trim())?e.setAttribute("class",i):e.removeAttribute("class")}}function Cn(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&P(t,xn(e.name||"v")),P(t,e),t}return"string"==typeof e?xn(e):void 0}}var xn=T(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),kn=W&&!J,An="transition",Pn="animation",In="transition",Dn="transitionend",Mn="animation",Ln="animationend";kn&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(In="WebkitTransition",Dn="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Mn="WebkitAnimation",Ln="webkitAnimationEnd"));var On=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Rn(e){On(function(){On(e)})}function Fn(e,t){var i=e._transitionClasses||(e._transitionClasses=[]);i.indexOf(t)<0&&(i.push(t),En(e,t))}function Bn(e,t){e._transitionClasses&&y(e._transitionClasses,t),wn(e,t)}function Nn(e,t,i){var r=jn(e,t),n=r.type,s=r.timeout,a=r.propCount;if(!n)return i();var o=n===An?Dn:Ln,l=0,h=function(){e.removeEventListener(o,u),i()},u=function(t){t.target===e&&++l>=a&&h()};setTimeout(function(){l<a&&h()},s+1),e.addEventListener(o,u)}var Un=/\b(transform|all)(,|$)/;function jn(e,t){var i,r=window.getComputedStyle(e),n=(r[In+"Delay"]||"").split(", "),s=(r[In+"Duration"]||"").split(", "),a=Vn(n,s),o=(r[Mn+"Delay"]||"").split(", "),l=(r[Mn+"Duration"]||"").split(", "),h=Vn(o,l),u=0,c=0;return t===An?a>0&&(i=An,u=a,c=s.length):t===Pn?h>0&&(i=Pn,u=h,c=l.length):c=(i=(u=Math.max(a,h))>0?a>h?An:Pn:null)?i===An?s.length:l.length:0,{type:i,timeout:u,propCount:c,hasTransform:i===An&&Un.test(r[In+"Property"])}}function Vn(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,i){return zn(t)+zn(e[i])}))}function zn(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Gn(e,t){var i=e.elm;n(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var s=Cn(e.data.transition);if(!r(s)&&!n(i._enterCb)&&1===i.nodeType){for(var a=s.css,l=s.type,h=s.enterClass,u=s.enterToClass,c=s.enterActiveClass,d=s.appearClass,p=s.appearToClass,m=s.appearActiveClass,g=s.beforeEnter,v=s.enter,y=s.afterEnter,_=s.enterCancelled,b=s.beforeAppear,T=s.appear,S=s.afterAppear,E=s.appearCancelled,w=s.duration,C=Jt,x=Jt.$vnode;x&&x.parent;)C=x.context,x=x.parent;var k=!C._isMounted||!e.isRootInsert;if(!k||T||""===T){var A=k&&d?d:h,P=k&&m?m:c,I=k&&p?p:u,D=k&&b||g,M=k&&"function"==typeof T?T:v,L=k&&S||y,O=k&&E||_,R=f(o(w)?w.enter:w);0;var B=!1!==a&&!J,N=qn(M),U=i._enterCb=F(function(){B&&(Bn(i,I),Bn(i,P)),U.cancelled?(B&&Bn(i,A),O&&O(i)):L&&L(i),i._enterCb=null});e.data.show||lt(e,"insert",function(){var t=i.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),M&&M(i,U)}),D&&D(i),B&&(Fn(i,A),Fn(i,P),Rn(function(){Bn(i,A),U.cancelled||(Fn(i,I),N||($n(R)?setTimeout(U,R):Nn(i,l,U)))})),e.data.show&&(t&&t(),M&&M(i,U)),B||N||U()}}}function Hn(e,t){var i=e.elm;n(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var s=Cn(e.data.transition);if(r(s)||1!==i.nodeType)return t();if(!n(i._leaveCb)){var a=s.css,l=s.type,h=s.leaveClass,u=s.leaveToClass,c=s.leaveActiveClass,d=s.beforeLeave,p=s.leave,m=s.afterLeave,g=s.leaveCancelled,v=s.delayLeave,y=s.duration,_=!1!==a&&!J,b=qn(p),T=f(o(y)?y.leave:y);0;var S=i._leaveCb=F(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),_&&(Bn(i,u),Bn(i,c)),S.cancelled?(_&&Bn(i,h),g&&g(i)):(t(),m&&m(i)),i._leaveCb=null});v?v(E):E()}function E(){S.cancelled||(!e.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),d&&d(i),_&&(Fn(i,h),Fn(i,c),Rn(function(){Bn(i,h),S.cancelled||(Fn(i,u),b||($n(T)?setTimeout(S,T):Nn(i,l,S)))})),p&&p(i,S),_||b||S())}}function $n(e){return"number"==typeof e&&!isNaN(e)}function qn(e){if(r(e))return!1;var t=e.fns;return n(t)?qn(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Wn(e,t){!0!==t.data.show&&Gn(t)}var Xn=function(e){var t,i,o={},l=e.modules,h=e.nodeOps;for(t=0;t<ar.length;++t)for(o[ar[t]]=[],i=0;i<l.length;++i)n(l[i][ar[t]])&&o[ar[t]].push(l[i][ar[t]]);function u(e){var t=h.parentNode(e);n(t)&&h.removeChild(t,e)}function c(e,t,i,r,a,l,u){if(n(e.elm)&&n(l)&&(e=l[u]=be(e)),e.isRootInsert=!a,!function(e,t,i,r){var a=e.data;if(n(a)){var l=n(e.componentInstance)&&a.keepAlive;if(n(a=a.hook)&&n(a=a.init)&&a(e,!1),n(e.componentInstance))return d(e,t),p(i,e.elm,r),s(l)&&function(e,t,i,r){for(var s,a=e;a.componentInstance;)if(a=a.componentInstance._vnode,n(s=a.data)&&n(s=s.transition)){for(s=0;s<o.activate.length;++s)o.activate[s](sr,a);t.push(a);break}p(i,e.elm,r)}(e,t,i,r),!0}}(e,t,i,r)){var c=e.data,m=e.children,g=e.tag;n(g)?(e.elm=e.ns?h.createElementNS(e.ns,g):h.createElement(g,e),y(e),f(e,m,t),n(c)&&v(e,t),p(i,e.elm,r)):s(e.isComment)?(e.elm=h.createComment(e.text),p(i,e.elm,r)):(e.elm=h.createTextNode(e.text),p(i,e.elm,r))}}function d(e,t){n(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,g(e)?(v(e,t),y(e)):(nr(e),t.push(e))}function p(e,t,i){n(e)&&(n(i)?h.parentNode(i)===e&&h.insertBefore(e,t,i):h.appendChild(e,t))}function f(e,t,i){if(Array.isArray(t))for(var r=0;r<t.length;++r)c(t[r],i,e.elm,null,!0,t,r);else a(e.text)&&h.appendChild(e.elm,h.createTextNode(String(e.text)))}function g(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return n(e.tag)}function v(e,i){for(var r=0;r<o.create.length;++r)o.create[r](sr,e);n(t=e.data.hook)&&(n(t.create)&&t.create(sr,e),n(t.insert)&&i.push(e))}function y(e){var t;if(n(t=e.fnScopeId))h.setStyleScope(e.elm,t);else for(var i=e;i;)n(t=i.context)&&n(t=t.$options._scopeId)&&h.setStyleScope(e.elm,t),i=i.parent;n(t=Jt)&&t!==e.context&&t!==e.fnContext&&n(t=t.$options._scopeId)&&h.setStyleScope(e.elm,t)}function _(e,t,i,r,n,s){for(;r<=n;++r)c(i[r],s,e,t,!1,i,r)}function b(e){var t,i,r=e.data;if(n(r))for(n(t=r.hook)&&n(t=t.destroy)&&t(e),t=0;t<o.destroy.length;++t)o.destroy[t](e);if(n(t=e.children))for(i=0;i<e.children.length;++i)b(e.children[i])}function T(e,t,i){for(;t<=i;++t){var r=e[t];n(r)&&(n(r.tag)?(S(r),b(r)):u(r.elm))}}function S(e,t){if(n(t)||n(e.data)){var i,r=o.remove.length+1;for(n(t)?t.listeners+=r:t=function(e,t){function i(){0==--i.listeners&&u(e)}return i.listeners=t,i}(e.elm,r),n(i=e.componentInstance)&&n(i=i._vnode)&&n(i.data)&&S(i,t),i=0;i<o.remove.length;++i)o.remove[i](e,t);n(i=e.data.hook)&&n(i=i.remove)?i(e,t):t()}else u(e.elm)}function E(e,t,i,r){for(var s=i;s<r;s++){var a=t[s];if(n(a)&&or(e,a))return s}}function w(e,t,i,a,l,u){if(e!==t){n(t.elm)&&n(a)&&(t=a[l]=be(t));var d=t.elm=e.elm;if(s(e.isAsyncPlaceholder))n(t.asyncFactory.resolved)?k(e.elm,t,i):t.isAsyncPlaceholder=!0;else if(s(t.isStatic)&&s(e.isStatic)&&t.key===e.key&&(s(t.isCloned)||s(t.isOnce)))t.componentInstance=e.componentInstance;else{var p,f=t.data;n(f)&&n(p=f.hook)&&n(p=p.prepatch)&&p(e,t);var m=e.children,v=t.children;if(n(f)&&g(t)){for(p=0;p<o.update.length;++p)o.update[p](e,t);n(p=f.hook)&&n(p=p.update)&&p(e,t)}r(t.text)?n(m)&&n(v)?m!==v&&function(e,t,i,s,a){for(var o,l,u,d=0,p=0,f=t.length-1,m=t[0],g=t[f],v=i.length-1,y=i[0],b=i[v],S=!a;d<=f&&p<=v;)r(m)?m=t[++d]:r(g)?g=t[--f]:or(m,y)?(w(m,y,s,i,p),m=t[++d],y=i[++p]):or(g,b)?(w(g,b,s,i,v),g=t[--f],b=i[--v]):or(m,b)?(w(m,b,s,i,v),S&&h.insertBefore(e,m.elm,h.nextSibling(g.elm)),m=t[++d],b=i[--v]):or(g,y)?(w(g,y,s,i,p),S&&h.insertBefore(e,g.elm,m.elm),g=t[--f],y=i[++p]):(r(o)&&(o=lr(t,d,f)),r(l=n(y.key)?o[y.key]:E(y,t,d,f))?c(y,s,e,m.elm,!1,i,p):or(u=t[l],y)?(w(u,y,s,i,p),t[l]=void 0,S&&h.insertBefore(e,u.elm,m.elm)):c(y,s,e,m.elm,!1,i,p),y=i[++p]);d>f?_(e,r(i[v+1])?null:i[v+1].elm,i,p,v,s):p>v&&T(t,d,f)}(d,m,v,i,u):n(v)?(n(e.text)&&h.setTextContent(d,""),_(d,null,v,0,v.length-1,i)):n(m)?T(m,0,m.length-1):n(e.text)&&h.setTextContent(d,""):e.text!==t.text&&h.setTextContent(d,t.text),n(f)&&n(p=f.hook)&&n(p=p.postpatch)&&p(e,t)}}}function C(e,t,i){if(s(i)&&n(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var x=m("attrs,class,staticClass,staticStyle,key");function k(e,t,i,r){var a,o=t.tag,l=t.data,h=t.children;if(r=r||l&&l.pre,t.elm=e,s(t.isComment)&&n(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(n(l)&&(n(a=l.hook)&&n(a=a.init)&&a(t,!0),n(a=t.componentInstance)))return d(t,i),!0;if(n(o)){if(n(h))if(e.hasChildNodes())if(n(a=l)&&n(a=a.domProps)&&n(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var u=!0,c=e.firstChild,p=0;p<h.length;p++){if(!c||!k(c,h[p],i,r)){u=!1;break}c=c.nextSibling}if(!u||c)return!1}else f(t,h,i);if(n(l)){var m=!1;for(var g in l)if(!x(g)){m=!0,v(t,i);break}!m&&l.class&&nt(l.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,i,a){if(!r(t)){var l,u=!1,d=[];if(r(e))u=!0,c(t,d);else{var p=n(e.nodeType);if(!p&&or(e,t))w(e,t,d,null,null,a);else{if(p){if(1===e.nodeType&&e.hasAttribute(B)&&(e.removeAttribute(B),i=!0),s(i)&&k(e,t,d))return C(t,d,!0),e;l=e,e=new ge(h.tagName(l).toLowerCase(),{},[],void 0,l)}var f=e.elm,m=h.parentNode(f);if(c(t,d,f._leaveCb?null:m,h.nextSibling(f)),n(t.parent))for(var v=t.parent,y=g(t);v;){for(var _=0;_<o.destroy.length;++_)o.destroy[_](v);if(v.elm=t.elm,y){for(var S=0;S<o.create.length;++S)o.create[S](sr,v);var E=v.data.hook.insert;if(E.merged)for(var x=1;x<E.fns.length;x++)E.fns[x]()}else nr(v);v=v.parent}n(m)?T([e],0,0):n(e.tag)&&b(e)}}return C(t,d,u),t.elm}n(e)&&b(e)}}({nodeOps:ir,modules:[_r,kr,on,un,Tn,W?{create:Wn,activate:Wn,remove:function(e,t){!0!==e.data.show?Hn(e,t):t()}}:{}].concat(mr)});J&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&is(e,"input")});var Yn={inserted:function(e,t,i,r){"select"===i.tag?(r.elm&&!r.elm._vOptions?lt(i,"postpatch",function(){Yn.componentUpdated(e,t,i)}):Kn(e,t,i.context),e._vOptions=[].map.call(e.options,Zn)):("textarea"===i.tag||er(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",es),e.addEventListener("compositionend",ts),e.addEventListener("change",ts),J&&(e.vmodel=!0)))},componentUpdated:function(e,t,i){if("select"===i.tag){Kn(e,t,i.context);var r=e._vOptions,n=e._vOptions=[].map.call(e.options,Zn);if(n.some(function(e,t){return!O(e,r[t])}))(e.multiple?t.value.some(function(e){return Jn(e,n)}):t.value!==t.oldValue&&Jn(t.value,n))&&is(e,"change")}}};function Kn(e,t,i){Qn(e,t,i),(Q||Z)&&setTimeout(function(){Qn(e,t,i)},0)}function Qn(e,t,i){var r=t.value,n=e.multiple;if(!n||Array.isArray(r)){for(var s,a,o=0,l=e.options.length;o<l;o++)if(a=e.options[o],n)s=R(r,Zn(a))>-1,a.selected!==s&&(a.selected=s);else if(O(Zn(a),r))return void(e.selectedIndex!==o&&(e.selectedIndex=o));n||(e.selectedIndex=-1)}}function Jn(e,t){return t.every(function(t){return!O(t,e)})}function Zn(e){return"_value"in e?e._value:e.value}function es(e){e.target.composing=!0}function ts(e){e.target.composing&&(e.target.composing=!1,is(e.target,"input"))}function is(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function rs(e){return!e.componentInstance||e.data&&e.data.transition?e:rs(e.componentInstance._vnode)}var ns={model:Yn,show:{bind:function(e,t,i){var r=t.value,n=(i=rs(i)).data&&i.data.transition,s=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&n?(i.data.show=!0,Gn(i,function(){e.style.display=s})):e.style.display=r?s:"none"},update:function(e,t,i){var r=t.value;!r!=!t.oldValue&&((i=rs(i)).data&&i.data.transition?(i.data.show=!0,r?Gn(i,function(){e.style.display=e.__vOriginalDisplay}):Hn(i,function(){e.style.display="none"})):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,i,r,n){n||(e.style.display=e.__vOriginalDisplay)}}},ss={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function as(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?as(Wt(t.children)):e}function os(e){var t={},i=e.$options;for(var r in i.propsData)t[r]=e[r];var n=i._parentListeners;for(var s in n)t[E(s)]=n[s];return t}function ls(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var hs=function(e){return e.tag||qt(e)},us=function(e){return"show"===e.name},cs={name:"transition",props:ss,abstract:!0,render:function(e){var t=this,i=this.$slots.default;if(i&&(i=i.filter(hs)).length){0;var r=this.mode;0;var n=i[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return n;var s=as(n);if(!s)return n;if(this._leaving)return ls(e,n);var o="__transition-"+this._uid+"-";s.key=null==s.key?s.isComment?o+"comment":o+s.tag:a(s.key)?0===String(s.key).indexOf(o)?s.key:o+s.key:s.key;var l=(s.data||(s.data={})).transition=os(this),h=this._vnode,u=as(h);if(s.data.directives&&s.data.directives.some(us)&&(s.data.show=!0),u&&u.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(s,u)&&!qt(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var c=u.data.transition=P({},l);if("out-in"===r)return this._leaving=!0,lt(c,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),ls(e,n);if("in-out"===r){if(qt(s))return h;var d,p=function(){d()};lt(l,"afterEnter",p),lt(l,"enterCancelled",p),lt(c,"delayLeave",function(e){d=e})}}return n}}},ds=P({tag:String,moveClass:String},ss);function ps(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function fs(e){e.data.newPos=e.elm.getBoundingClientRect()}function ms(e){var t=e.data.pos,i=e.data.newPos,r=t.left-i.left,n=t.top-i.top;if(r||n){e.data.moved=!0;var s=e.elm.style;s.transform=s.WebkitTransform="translate("+r+"px,"+n+"px)",s.transitionDuration="0s"}}delete ds.mode;var gs={Transition:cs,TransitionGroup:{props:ds,beforeMount:function(){var e=this,t=this._update;this._update=function(i,r){var n=Zt(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,n(),t.call(e,i,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),r=this.prevChildren=this.children,n=this.$slots.default||[],s=this.children=[],a=os(this),o=0;o<n.length;o++){var l=n[o];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))s.push(l),i[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(r){for(var h=[],u=[],c=0;c<r.length;c++){var d=r[c];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),i[d.key]?h.push(d):u.push(d)}this.kept=e(t,null,h),this.removed=u}return e(t,null,s)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(ps),e.forEach(fs),e.forEach(ms),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var i=e.elm,r=i.style;Fn(i,t),r.transform=r.WebkitTransform=r.transitionDuration="",i.addEventListener(Dn,i._moveCb=function e(r){r&&r.target!==i||r&&!/transform$/.test(r.propertyName)||(i.removeEventListener(Dn,e),i._moveCb=null,Bn(i,t))})}}))},methods:{hasMove:function(e,t){if(!kn)return!1;if(this._hasMove)return this._hasMove;var i=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){wn(i,e)}),En(i,t),i.style.display="none",this.$el.appendChild(i);var r=jn(i);return this.$el.removeChild(i),this._hasMove=r.hasTransform}}}};Ci.config.mustUseProp=Ri,Ci.config.isReservedTag=Qi,Ci.config.isReservedAttr=Li,Ci.config.getTagNamespace=Ji,Ci.config.isUnknownElement=function(e){if(!W)return!0;if(Qi(e))return!1;if(e=e.toLowerCase(),null!=Zi[e])return Zi[e];var t=document.createElement(e);return e.indexOf("-")>-1?Zi[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Zi[e]=/HTMLUnknownElement/.test(t.toString())},P(Ci.options.directives,ns),P(Ci.options.components,gs),Ci.prototype.__patch__=W?Xn:D,Ci.prototype.$mount=function(e,t){return function(e,t,i){return e.$el=t,e.$options.render||(e.$options.render=ye),ii(e,"beforeMount"),new fi(e,function(){e._update(e._render(),i)},D,{before:function(){e._isMounted&&!e._isDestroyed&&ii(e,"beforeUpdate")}},!0),i=!1,null==e.$vnode&&(e._isMounted=!0,ii(e,"mounted")),e}(this,e=e&&W?tr(e):void 0,t)},W&&setTimeout(function(){j.devtools&&ae&&ae.emit("init",Ci)},0);var vs=/\{\{((?:.|\r?\n)+?)\}\}/g,ys=/[-.*+?^${}()|[\]\/\\]/g,_s=T(function(e){var t=e[0].replace(ys,"\\$&"),i=e[1].replace(ys,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+i,"g")});function bs(e,t){var i=t?_s(t):vs;if(i.test(e)){for(var r,n,s,a=[],o=[],l=i.lastIndex=0;r=i.exec(e);){(n=r.index)>l&&(o.push(s=e.slice(l,n)),a.push(JSON.stringify(s)));var h=Pr(r[1].trim());a.push("_s("+h+")"),o.push({"@binding":h}),l=n+r[0].length}return l<e.length&&(o.push(s=e.slice(l)),a.push(JSON.stringify(s))),{expression:a.join("+"),tokens:o}}}var Ts={staticKeys:["staticClass"],transformNode:function(e,t){t.warn;var i=Vr(e,"class");i&&(e.staticClass=JSON.stringify(i));var r=jr(e,"class",!1);r&&(e.classBinding=r)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}};var Ss,Es={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn;var i=Vr(e,"style");i&&(e.staticStyle=JSON.stringify(cn(i)));var r=jr(e,"style",!1);r&&(e.styleBinding=r)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}},ws=function(e){return(Ss=Ss||document.createElement("div")).innerHTML=e,Ss.textContent},Cs=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),xs=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),ks=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),As=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Ps=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Is="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+V.source+"]*",Ds="((?:"+Is+"\\:)?"+Is+")",Ms=new RegExp("^<"+Ds),Ls=/^\s*(\/?)>/,Os=new RegExp("^<\\/"+Ds+"[^>]*>"),Rs=/^<!DOCTYPE [^>]+>/i,Fs=/^<!\--/,Bs=/^<!\[/,Ns=m("script,style,textarea",!0),Us={},js={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Vs=/&(?:lt|gt|quot|amp|#39);/g,zs=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Gs=m("pre,textarea",!0),Hs=function(e,t){return e&&Gs(e)&&"\n"===t[0]};function $s(e,t){var i=t?zs:Vs;return e.replace(i,function(e){return js[e]})}var qs,Ws,Xs,Ys,Ks,Qs,Js,Zs,ea=/^@|^v-on:/,ta=/^v-|^@|^:|^#/,ia=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,ra=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,na=/^\(|\)$/g,sa=/^\[.*\]$/,aa=/:(.*)$/,oa=/^:|^\.|^v-bind:/,la=/\.[^.\]]+(?=[^\]]*$)/g,ha=/^v-slot(:|$)|^#/,ua=/[\r\n]/,ca=/\s+/g,da=T(ws),pa="_empty_";function fa(e,t,i){return{type:1,tag:e,attrsList:t,attrsMap:function(e){for(var t={},i=0,r=e.length;i<r;i++)t[e[i].name]=e[i].value;return t}(t),rawAttrsMap:{},parent:i,children:[]}}function ma(e,t){qs=t.warn||Dr,Qs=t.isPreTag||M,Js=t.mustUseProp||M,Zs=t.getTagNamespace||M;var i=t.isReservedTag||M;(function(e){return!!e.component||!i(e.tag)}),Xs=Mr(t.modules,"transformNode"),Ys=Mr(t.modules,"preTransformNode"),Ks=Mr(t.modules,"postTransformNode"),Ws=t.delimiters;var r,n,s=[],a=!1!==t.preserveWhitespace,o=t.whitespace,l=!1,h=!1;function u(e){if(c(e),l||e.processed||(e=ga(e,t)),s.length||e===r||r.if&&(e.elseif||e.else)&&ya(r,{exp:e.elseif,block:e}),n&&!e.forbidden)if(e.elseif||e.else)a=e,(o=function(e){var t=e.length;for(;t--;){if(1===e[t].type)return e[t];e.pop()}}(n.children))&&o.if&&ya(o,{exp:a.elseif,block:a});else{if(e.slotScope){var i=e.slotTarget||'"default"';(n.scopedSlots||(n.scopedSlots={}))[i]=e}n.children.push(e),e.parent=n}var a,o;e.children=e.children.filter(function(e){return!e.slotScope}),c(e),e.pre&&(l=!1),Qs(e.tag)&&(h=!1);for(var u=0;u<Ks.length;u++)Ks[u](e,t)}function c(e){if(!h)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}return function(e,t){for(var i,r,n=[],s=t.expectHTML,a=t.isUnaryTag||M,o=t.canBeLeftOpenTag||M,l=0;e;){if(i=e,r&&Ns(r)){var h=0,u=r.toLowerCase(),c=Us[u]||(Us[u]=new RegExp("([\\s\\S]*?)(</"+u+"[^>]*>)","i")),d=e.replace(c,function(e,i,r){return h=r.length,Ns(u)||"noscript"===u||(i=i.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Hs(u,i)&&(i=i.slice(1)),t.chars&&t.chars(i),""});l+=e.length-d.length,e=d,x(u,l-h,l)}else{var p=e.indexOf("<");if(0===p){if(Fs.test(e)){var f=e.indexOf("--\x3e");if(f>=0){t.shouldKeepComment&&t.comment(e.substring(4,f),l,l+f+3),E(f+3);continue}}if(Bs.test(e)){var m=e.indexOf("]>");if(m>=0){E(m+2);continue}}var g=e.match(Rs);if(g){E(g[0].length);continue}var v=e.match(Os);if(v){var y=l;E(v[0].length),x(v[1],y,l);continue}var _=w();if(_){C(_),Hs(_.tagName,e)&&E(1);continue}}var b=void 0,T=void 0,S=void 0;if(p>=0){for(T=e.slice(p);!(Os.test(T)||Ms.test(T)||Fs.test(T)||Bs.test(T)||(S=T.indexOf("<",1))<0);)p+=S,T=e.slice(p);b=e.substring(0,p)}p<0&&(b=e),b&&E(b.length),t.chars&&b&&t.chars(b,l-b.length,l)}if(e===i){t.chars&&t.chars(e);break}}function E(t){l+=t,e=e.substring(t)}function w(){var t=e.match(Ms);if(t){var i,r,n={tagName:t[1],attrs:[],start:l};for(E(t[0].length);!(i=e.match(Ls))&&(r=e.match(Ps)||e.match(As));)r.start=l,E(r[0].length),r.end=l,n.attrs.push(r);if(i)return n.unarySlash=i[1],E(i[0].length),n.end=l,n}}function C(e){var i=e.tagName,l=e.unarySlash;s&&("p"===r&&ks(i)&&x(r),o(i)&&r===i&&x(i));for(var h=a(i)||!!l,u=e.attrs.length,c=new Array(u),d=0;d<u;d++){var p=e.attrs[d],f=p[3]||p[4]||p[5]||"",m="a"===i&&"href"===p[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;c[d]={name:p[1],value:$s(f,m)}}h||(n.push({tag:i,lowerCasedTag:i.toLowerCase(),attrs:c,start:e.start,end:e.end}),r=i),t.start&&t.start(i,c,h,e.start,e.end)}function x(e,i,s){var a,o;if(null==i&&(i=l),null==s&&(s=l),e)for(o=e.toLowerCase(),a=n.length-1;a>=0&&n[a].lowerCasedTag!==o;a--);else a=0;if(a>=0){for(var h=n.length-1;h>=a;h--)t.end&&t.end(n[h].tag,i,s);n.length=a,r=a&&n[a-1].tag}else"br"===o?t.start&&t.start(e,[],!0,i,s):"p"===o&&(t.start&&t.start(e,[],!1,i,s),t.end&&t.end(e,i,s))}x()}(e,{warn:qs,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function(e,i,a,o,c){var d=n&&n.ns||Zs(e);Q&&"svg"===d&&(i=function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];Ta.test(r.name)||(r.name=r.name.replace(Sa,""),t.push(r))}return t}(i));var p,f=fa(e,i,n);d&&(f.ns=d),"style"!==(p=f).tag&&("script"!==p.tag||p.attrsMap.type&&"text/javascript"!==p.attrsMap.type)||se()||(f.forbidden=!0);for(var m=0;m<Ys.length;m++)f=Ys[m](f,t)||f;l||(!function(e){null!=Vr(e,"v-pre")&&(e.pre=!0)}(f),f.pre&&(l=!0)),Qs(f.tag)&&(h=!0),l?function(e){var t=e.attrsList,i=t.length;if(i)for(var r=e.attrs=new Array(i),n=0;n<i;n++)r[n]={name:t[n].name,value:JSON.stringify(t[n].value)},null!=t[n].start&&(r[n].start=t[n].start,r[n].end=t[n].end);else e.pre||(e.plain=!0)}(f):f.processed||(va(f),function(e){var t=Vr(e,"v-if");if(t)e.if=t,ya(e,{exp:t,block:e});else{null!=Vr(e,"v-else")&&(e.else=!0);var i=Vr(e,"v-else-if");i&&(e.elseif=i)}}(f),function(e){null!=Vr(e,"v-once")&&(e.once=!0)}(f)),r||(r=f),a?u(f):(n=f,s.push(f))},end:function(e,t,i){var r=s[s.length-1];s.length-=1,n=s[s.length-1],u(r)},chars:function(e,t,i){if(n&&(!Q||"textarea"!==n.tag||n.attrsMap.placeholder!==e)){var r,s,u,c=n.children;if(e=h||e.trim()?"script"===(r=n).tag||"style"===r.tag?e:da(e):c.length?o?"condense"===o&&ua.test(e)?"":" ":a?" ":"":"")h||"condense"!==o||(e=e.replace(ca," ")),!l&&" "!==e&&(s=bs(e,Ws))?u={type:2,expression:s.expression,tokens:s.tokens,text:e}:" "===e&&c.length&&" "===c[c.length-1].text||(u={type:3,text:e}),u&&c.push(u)}},comment:function(e,t,i){if(n){var r={type:3,text:e,isComment:!0};0,n.children.push(r)}}}),r}function ga(e,t){var i,r;!function(e){var t=jr(e,"key");if(t){e.key=t}}(e),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,(r=jr(i=e,"ref"))&&(i.ref=r,i.refInFor=function(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(i)),function(e){var t;"template"===e.tag?(t=Vr(e,"scope"),e.slotScope=t||Vr(e,"slot-scope")):(t=Vr(e,"slot-scope"))&&(e.slotScope=t);var i=jr(e,"slot");i&&(e.slotTarget='""'===i?'"default"':i,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||Or(e,"slot",i,Ur(e,"slot")));if("template"===e.tag){var r=zr(e,ha);if(r){0;var n=_a(r),s=n.name,a=n.dynamic;e.slotTarget=s,e.slotTargetDynamic=a,e.slotScope=r.value||pa}}else{var o=zr(e,ha);if(o){0;var l=e.scopedSlots||(e.scopedSlots={}),h=_a(o),u=h.name,c=h.dynamic,d=l[u]=fa("template",[],e);d.slotTarget=u,d.slotTargetDynamic=c,d.children=e.children.filter(function(e){if(!e.slotScope)return e.parent=d,!0}),d.slotScope=o.value||pa,e.children=[],e.plain=!1}}}(e),function(e){"slot"===e.tag&&(e.slotName=jr(e,"name"))}(e),function(e){var t;(t=jr(e,"is"))&&(e.component=t);null!=Vr(e,"inline-template")&&(e.inlineTemplate=!0)}(e);for(var n=0;n<Xs.length;n++)e=Xs[n](e,t)||e;return function(e){var t,i,r,n,s,a,o,l,h=e.attrsList;for(t=0,i=h.length;t<i;t++){if(r=n=h[t].name,s=h[t].value,ta.test(r))if(e.hasBindings=!0,(a=ba(r.replace(ta,"")))&&(r=r.replace(la,"")),oa.test(r))r=r.replace(oa,""),s=Pr(s),(l=sa.test(r))&&(r=r.slice(1,-1)),a&&(a.prop&&!l&&"innerHtml"===(r=E(r))&&(r="innerHTML"),a.camel&&!l&&(r=E(r)),a.sync&&(o=$r(s,"$event"),l?Nr(e,'"update:"+('+r+")",o,null,!1,0,h[t],!0):(Nr(e,"update:"+E(r),o,null,!1,0,h[t]),x(r)!==E(r)&&Nr(e,"update:"+x(r),o,null,!1,0,h[t])))),a&&a.prop||!e.component&&Js(e.tag,e.attrsMap.type,r)?Lr(e,r,s,h[t],l):Or(e,r,s,h[t],l);else if(ea.test(r))r=r.replace(ea,""),(l=sa.test(r))&&(r=r.slice(1,-1)),Nr(e,r,s,a,!1,0,h[t],l);else{var u=(r=r.replace(ta,"")).match(aa),c=u&&u[1];l=!1,c&&(r=r.slice(0,-(c.length+1)),sa.test(c)&&(c=c.slice(1,-1),l=!0)),Fr(e,r,n,s,c,l,a,h[t])}else Or(e,r,JSON.stringify(s),h[t]),!e.component&&"muted"===r&&Js(e.tag,e.attrsMap.type,r)&&Lr(e,r,"true",h[t])}}(e),e}function va(e){var t;if(t=Vr(e,"v-for")){var i=function(e){var t=e.match(ia);if(!t)return;var i={};i.for=t[2].trim();var r=t[1].trim().replace(na,""),n=r.match(ra);n?(i.alias=r.replace(ra,"").trim(),i.iterator1=n[1].trim(),n[2]&&(i.iterator2=n[2].trim())):i.alias=r;return i}(t);i&&P(e,i)}}function ya(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function _a(e){var t=e.name.replace(ha,"");return t||"#"!==e.name[0]&&(t="default"),sa.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}function ba(e){var t=e.match(la);if(t){var i={};return t.forEach(function(e){i[e.slice(1)]=!0}),i}}var Ta=/^xmlns:NS\d+/,Sa=/^NS\d+:/;function Ea(e){return fa(e.tag,e.attrsList.slice(),e.parent)}var wa=[Ts,Es,{preTransformNode:function(e,t){if("input"===e.tag){var i,r=e.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(i=jr(e,"type")),r.type||i||!r["v-bind"]||(i="("+r["v-bind"]+").type"),i){var n=Vr(e,"v-if",!0),s=n?"&&("+n+")":"",a=null!=Vr(e,"v-else",!0),o=Vr(e,"v-else-if",!0),l=Ea(e);va(l),Rr(l,"type","checkbox"),ga(l,t),l.processed=!0,l.if="("+i+")==='checkbox'"+s,ya(l,{exp:l.if,block:l});var h=Ea(e);Vr(h,"v-for",!0),Rr(h,"type","radio"),ga(h,t),ya(l,{exp:"("+i+")==='radio'"+s,block:h});var u=Ea(e);return Vr(u,"v-for",!0),Rr(u,":type",i),ga(u,t),ya(l,{exp:n,block:u}),a?l.else=!0:o&&(l.elseif=o),l}}}}];var Ca,xa,ka={expectHTML:!0,modules:wa,directives:{model:function(e,t,i){i;var r=t.value,n=t.modifiers,s=e.tag,a=e.attrsMap.type;if(e.component)return Hr(e,r,n),!1;if("select"===s)!function(e,t,i){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(i&&i.number?"_n(val)":"val")+"});";r=r+" "+$r(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Nr(e,"change",r,null,!0)}(e,r,n);else if("input"===s&&"checkbox"===a)!function(e,t,i){var r=i&&i.number,n=jr(e,"value")||"null",s=jr(e,"true-value")||"true",a=jr(e,"false-value")||"false";Lr(e,"checked","Array.isArray("+t+")?_i("+t+","+n+")>-1"+("true"===s?":("+t+")":":_q("+t+","+s+")")),Nr(e,"change","var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+s+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+n+")":n)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+$r(t,"$$a.concat([$$v])")+")}else{$$i>-1&&("+$r(t,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+$r(t,"$$c")+"}",null,!0)}(e,r,n);else if("input"===s&&"radio"===a)!function(e,t,i){var r=i&&i.number,n=jr(e,"value")||"null";Lr(e,"checked","_q("+t+","+(n=r?"_n("+n+")":n)+")"),Nr(e,"change",$r(t,n),null,!0)}(e,r,n);else if("input"===s||"textarea"===s)!function(e,t,i){var r=e.attrsMap.type,n=i||{},s=n.lazy,a=n.number,o=n.trim,l=!s&&"range"!==r,h=s?"change":"range"===r?Jr:"input",u="$event.target.value";o&&(u="$event.target.value.trim()"),a&&(u="_n("+u+")");var c=$r(t,u);l&&(c="if($event.target.composing)return;"+c),Lr(e,"value","("+t+")"),Nr(e,h,c,null,!0),(o||a)&&Nr(e,"blur","$forceUpdate()")}(e,r,n);else if(!j.isReservedTag(s))return Hr(e,r,n),!1;return!0},text:function(e,t){t.value&&Lr(e,"textContent","_s("+t.value+")",t)},html:function(e,t){t.value&&Lr(e,"innerHTML","_s("+t.value+")",t)}},isPreTag:function(e){return"pre"===e},isUnaryTag:Cs,mustUseProp:Ri,canBeLeftOpenTag:xs,isReservedTag:Qi,getTagNamespace:Ji,staticKeys:function(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}(wa)},Aa=T(function(e){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))});function Pa(e,t){e&&(Ca=Aa(t.staticKeys||""),xa=t.isReservedTag||M,function e(t){t.static=function(e){if(2===e.type)return!1;if(3===e.type)return!0;return!(!e.pre&&(e.hasBindings||e.if||e.for||g(e.tag)||!xa(e.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every(Ca)))}(t);if(1===t.type){if(!xa(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var i=0,r=t.children.length;i<r;i++){var n=t.children[i];e(n),n.static||(t.static=!1)}if(t.ifConditions)for(var s=1,a=t.ifConditions.length;s<a;s++){var o=t.ifConditions[s].block;e(o),o.static||(t.static=!1)}}}(e),function e(t,i){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=i),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var r=0,n=t.children.length;r<n;r++)e(t.children[r],i||!!t.for);if(t.ifConditions)for(var s=1,a=t.ifConditions.length;s<a;s++)e(t.ifConditions[s].block,i)}}(e,!1))}var Ia=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Da=/\([^)]*?\);*$/,Ma=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,La={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Oa={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Ra=function(e){return"if("+e+")return null;"},Fa={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Ra("$event.target !== $event.currentTarget"),ctrl:Ra("!$event.ctrlKey"),shift:Ra("!$event.shiftKey"),alt:Ra("!$event.altKey"),meta:Ra("!$event.metaKey"),left:Ra("'button' in $event && $event.button !== 0"),middle:Ra("'button' in $event && $event.button !== 1"),right:Ra("'button' in $event && $event.button !== 2")};function Ba(e,t){var i=t?"nativeOn:":"on:",r="",n="";for(var s in e){var a=Na(e[s]);e[s]&&e[s].dynamic?n+=s+","+a+",":r+='"'+s+'":'+a+","}return r="{"+r.slice(0,-1)+"}",n?i+"_d("+r+",["+n.slice(0,-1)+"])":i+r}function Na(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return Na(e)}).join(",")+"]";var t=Ma.test(e.value),i=Ia.test(e.value),r=Ma.test(e.value.replace(Da,""));if(e.modifiers){var n="",s="",a=[];for(var o in e.modifiers)if(Fa[o])s+=Fa[o],La[o]&&a.push(o);else if("exact"===o){var l=e.modifiers;s+=Ra(["ctrl","shift","alt","meta"].filter(function(e){return!l[e]}).map(function(e){return"$event."+e+"Key"}).join("||"))}else a.push(o);return a.length&&(n+=function(e){return"if(!$event.type.indexOf('key')&&"+e.map(Ua).join("&&")+")return null;"}(a)),s&&(n+=s),"function($event){"+n+(t?"return "+e.value+"($event)":i?"return ("+e.value+")($event)":r?"return "+e.value:e.value)+"}"}return t||i?e.value:"function($event){"+(r?"return "+e.value:e.value)+"}"}function Ua(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var i=La[e],r=Oa[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(i)+",$event.key,"+JSON.stringify(r)+")"}var ja={on:function(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}},bind:function(e,t){e.wrapData=function(i){return"_b("+i+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}},cloak:D},Va=function(e){this.options=e,this.warn=e.warn||Dr,this.transforms=Mr(e.modules,"transformCode"),this.dataGenFns=Mr(e.modules,"genData"),this.directives=P(P({},ja),e.directives);var t=e.isReservedTag||M;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function za(e,t){var i=new Va(t);return{render:"with(this){return "+(e?Ga(e,i):'_c("div")')+"}",staticRenderFns:i.staticRenderFns}}function Ga(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return Ha(e,t);if(e.once&&!e.onceProcessed)return $a(e,t);if(e.for&&!e.forProcessed)return Wa(e,t);if(e.if&&!e.ifProcessed)return qa(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return function(e,t){var i=e.slotName||'"default"',r=Qa(e,t),n="_t("+i+(r?","+r:""),s=e.attrs||e.dynamicAttrs?eo((e.attrs||[]).concat(e.dynamicAttrs||[]).map(function(e){return{name:E(e.name),value:e.value,dynamic:e.dynamic}})):null,a=e.attrsMap["v-bind"];!s&&!a||r||(n+=",null");s&&(n+=","+s);a&&(n+=(s?"":",null")+","+a);return n+")"}(e,t);var i;if(e.component)i=function(e,t,i){var r=t.inlineTemplate?null:Qa(t,i,!0);return"_c("+e+","+Xa(t,i)+(r?","+r:"")+")"}(e.component,e,t);else{var r;(!e.plain||e.pre&&t.maybeComponent(e))&&(r=Xa(e,t));var n=e.inlineTemplate?null:Qa(e,t,!0);i="_c('"+e.tag+"'"+(r?","+r:"")+(n?","+n:"")+")"}for(var s=0;s<t.transforms.length;s++)i=t.transforms[s](e,i);return i}return Qa(e,t)||"void 0"}function Ha(e,t){e.staticProcessed=!0;var i=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+Ga(e,t)+"}"),t.pre=i,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function $a(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return qa(e,t);if(e.staticInFor){for(var i="",r=e.parent;r;){if(r.for){i=r.key;break}r=r.parent}return i?"_o("+Ga(e,t)+","+t.onceId+++","+i+")":Ga(e,t)}return Ha(e,t)}function qa(e,t,i,r){return e.ifProcessed=!0,function e(t,i,r,n){if(!t.length)return n||"_e()";var s=t.shift();return s.exp?"("+s.exp+")?"+a(s.block)+":"+e(t,i,r,n):""+a(s.block);function a(e){return r?r(e,i):e.once?$a(e,i):Ga(e,i)}}(e.ifConditions.slice(),t,i,r)}function Wa(e,t,i,r){var n=e.for,s=e.alias,a=e.iterator1?","+e.iterator1:"",o=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(r||"_l")+"(("+n+"),function("+s+a+o+"){return "+(i||Ga)(e,t)+"})"}function Xa(e,t){var i="{",r=function(e,t){var i=e.directives;if(!i)return;var r,n,s,a,o="directives:[",l=!1;for(r=0,n=i.length;r<n;r++){s=i[r],a=!0;var h=t.directives[s.name];h&&(a=!!h(e,s,t.warn)),a&&(l=!0,o+='{name:"'+s.name+'",rawName:"'+s.rawName+'"'+(s.value?",value:("+s.value+"),expression:"+JSON.stringify(s.value):"")+(s.arg?",arg:"+(s.isDynamicArg?s.arg:'"'+s.arg+'"'):"")+(s.modifiers?",modifiers:"+JSON.stringify(s.modifiers):"")+"},")}if(l)return o.slice(0,-1)+"]"}(e,t);r&&(i+=r+","),e.key&&(i+="key:"+e.key+","),e.ref&&(i+="ref:"+e.ref+","),e.refInFor&&(i+="refInFor:true,"),e.pre&&(i+="pre:true,"),e.component&&(i+='tag:"'+e.tag+'",');for(var n=0;n<t.dataGenFns.length;n++)i+=t.dataGenFns[n](e);if(e.attrs&&(i+="attrs:"+eo(e.attrs)+","),e.props&&(i+="domProps:"+eo(e.props)+","),e.events&&(i+=Ba(e.events,!1)+","),e.nativeEvents&&(i+=Ba(e.nativeEvents,!0)+","),e.slotTarget&&!e.slotScope&&(i+="slot:"+e.slotTarget+","),e.scopedSlots&&(i+=function(e,t,i){var r=e.for||Object.keys(t).some(function(e){var i=t[e];return i.slotTargetDynamic||i.if||i.for||Ya(i)}),n=!!e.if;if(!r)for(var s=e.parent;s;){if(s.slotScope&&s.slotScope!==pa||s.for){r=!0;break}s.if&&(n=!0),s=s.parent}var a=Object.keys(t).map(function(e){return Ka(t[e],i)}).join(",");return"scopedSlots:_u(["+a+"]"+(r?",null,true":"")+(!r&&n?",null,false,"+function(e){var t=5381,i=e.length;for(;i;)t=33*t^e.charCodeAt(--i);return t>>>0}(a):"")+")"}(e,e.scopedSlots,t)+","),e.model&&(i+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var s=function(e,t){var i=e.children[0];0;if(i&&1===i.type){var r=za(i,t.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}(e,t);s&&(i+=s+",")}return i=i.replace(/,$/,"")+"}",e.dynamicAttrs&&(i="_b("+i+',"'+e.tag+'",'+eo(e.dynamicAttrs)+")"),e.wrapData&&(i=e.wrapData(i)),e.wrapListeners&&(i=e.wrapListeners(i)),i}function Ya(e){return 1===e.type&&("slot"===e.tag||e.children.some(Ya))}function Ka(e,t){var i=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!i)return qa(e,t,Ka,"null");if(e.for&&!e.forProcessed)return Wa(e,t,Ka);var r=e.slotScope===pa?"":String(e.slotScope),n="function("+r+"){return "+("template"===e.tag?e.if&&i?"("+e.if+")?"+(Qa(e,t)||"undefined")+":undefined":Qa(e,t)||"undefined":Ga(e,t))+"}",s=r?"":",proxy:true";return"{key:"+(e.slotTarget||'"default"')+",fn:"+n+s+"}"}function Qa(e,t,i,r,n){var s=e.children;if(s.length){var a=s[0];if(1===s.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var o=i?t.maybeComponent(a)?",1":",0":"";return""+(r||Ga)(a,t)+o}var l=i?function(e,t){for(var i=0,r=0;r<e.length;r++){var n=e[r];if(1===n.type){if(Ja(n)||n.ifConditions&&n.ifConditions.some(function(e){return Ja(e.block)})){i=2;break}(t(n)||n.ifConditions&&n.ifConditions.some(function(e){return t(e.block)}))&&(i=1)}}return i}(s,t.maybeComponent):0,h=n||Za;return"["+s.map(function(e){return h(e,t)}).join(",")+"]"+(l?","+l:"")}}function Ja(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function Za(e,t){return 1===e.type?Ga(e,t):3===e.type&&e.isComment?(r=e,"_e("+JSON.stringify(r.text)+")"):"_v("+(2===(i=e).type?i.expression:to(JSON.stringify(i.text)))+")";var i,r}function eo(e){for(var t="",i="",r=0;r<e.length;r++){var n=e[r],s=to(n.value);n.dynamic?i+=n.name+","+s+",":t+='"'+n.name+'":'+s+","}return t="{"+t.slice(0,-1)+"}",i?"_d("+t+",["+i.slice(0,-1)+"])":t}function to(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function io(e,t){try{return new Function(e)}catch(i){return t.push({err:i,code:e}),D}}function ro(e){var t=Object.create(null);return function(i,r,n){(r=P({},r)).warn;delete r.warn;var s=r.delimiters?String(r.delimiters)+i:i;if(t[s])return t[s];var a=e(i,r);var o={},l=[];return o.render=io(a.render,l),o.staticRenderFns=a.staticRenderFns.map(function(e){return io(e,l)}),t[s]=o}}var no,so,ao=(no=function(e,t){var i=ma(e.trim(),t);!1!==t.optimize&&Pa(i,t);var r=za(i,t);return{ast:i,render:r.render,staticRenderFns:r.staticRenderFns}},function(e){function t(t,i){var r=Object.create(e),n=[],s=[],a=function(e,t,i){(i?s:n).push(e)};if(i)for(var o in i.modules&&(r.modules=(e.modules||[]).concat(i.modules)),i.directives&&(r.directives=P(Object.create(e.directives||null),i.directives)),i)"modules"!==o&&"directives"!==o&&(r[o]=i[o]);r.warn=a;var l=no(t.trim(),r);return l.errors=n,l.tips=s,l}return{compile:t,compileToFunctions:ro(t)}})(ka),oo=(ao.compile,ao.compileToFunctions);function lo(e){return(so=so||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',so.innerHTML.indexOf("&#10;")>0}var ho=!!W&&lo(!1),uo=!!W&&lo(!0),co=T(function(e){var t=tr(e);return t&&t.innerHTML}),po=Ci.prototype.$mount;Ci.prototype.$mount=function(e,t){if((e=e&&tr(e))===document.body||e===document.documentElement)return this;var i=this.$options;if(!i.render){var r=i.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=co(r));else{if(!r.nodeType)return this;r=r.innerHTML}else e&&(r=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));if(r){0;var n=oo(r,{outputSourceRange:!1,shouldDecodeNewlines:ho,shouldDecodeNewlinesForHref:uo,delimiters:i.delimiters,comments:i.comments},this),s=n.render,a=n.staticRenderFns;i.render=s,i.staticRenderFns=a}}return po.call(this,e,t)},Ci.compile=oo,t.default=Ci}.call(t,i("DuR2"))},"77Pl":function(e,t,i){var r=i("EqjI");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"7GhN":function(e,t,i){"use strict";
/*! @name @videojs/vhs-utils @version 2.3.0 @license MIT */Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e instanceof Uint8Array?e:new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0)};t.bytesToString=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,r(e));try{return decodeURIComponent(escape(t))}catch(e){}return t},t.concatTypedArrays=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t.reduce(function(e,t){return e+=t&&(t.byteLength||t.length)||0},0),s=new Uint8Array(n),a=0;return t.forEach(function(e){e=r(e),s.set(e,a),a+=e.byteLength}),s},t.isTypedArray=function(e){return ArrayBuffer.isView(e)},t.stringToBytes=function(e,t){void 0===t&&(t=!1);return"string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e?[]:(t||(e=unescape(encodeURIComponent(e))),e.split("").map(function(e){return 255&e.charCodeAt(0)}))},t.toUint8=r},"7GwW":function(e,t,i){"use strict";var r=i("cGG2"),n=i("21It"),s=i("p1b6"),a=i("DQCr"),o=i("Oi+a"),l=i("oJlt"),h=i("GHBc"),u=i("FtD3");e.exports=function(e){return new Promise(function(t,i){var c=e.data,d=e.headers;r.isFormData(c)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(f+":"+m)}var g=o(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,s={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};n(t,i,s),p=null}},p.onabort=function(){p&&(i(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){i(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(u(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=(e.withCredentials||h(g))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;v&&(d[e.xsrfHeaderName]=v)}if("setRequestHeader"in p&&r.forEach(d,function(e,t){void 0===c&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),i(e),p=null)}),c||(c=null),p.send(c)})}},"7KvD":function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"7QTg":function(e,t,i){(function(e,t,i){"use strict";var r;t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,function(e){e.SwiperComponent="Swiper",e.SwiperSlideComponent="SwiperSlide",e.SwiperDirective="swiper",e.SwiperInstance="$swiper"}(r||(r={}));var n,s,a=Object.freeze({containerClass:"swiper-container",wrapperClass:"swiper-wrapper",slideClass:"swiper-slide"});!function(e){e.Ready="ready",e.ClickSlide="clickSlide"}(n||(n={})),function(e){e.AutoUpdate="autoUpdate",e.AutoDestroy="autoDestroy",e.DeleteInstanceOnDestroy="deleteInstanceOnDestroy",e.CleanupStylesOnDestroy="cleanupStylesOnDestroy"}(s||(s={}));var o=["init","beforeDestroy","slideChange","slideChangeTransitionStart","slideChangeTransitionEnd","slideNextTransitionStart","slideNextTransitionEnd","slidePrevTransitionStart","slidePrevTransitionEnd","transitionStart","transitionEnd","touchStart","touchMove","touchMoveOpposite","sliderMove","touchEnd","click","tap","doubleTap","imagesReady","progress","reachBeginning","reachEnd","fromEdge","setTranslate","setTransition","resize","observerUpdate","beforeLoopFix","loopFix"];
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function l(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),n=0;for(t=0;t<i;t++)for(var s=arguments[t],a=0,o=s.length;a<o;a++,n++)r[n]=s[a];return r}var h,u=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase()},c=function(e,t,i){var r,s,a;if(e&&!e.destroyed){var o=(null===(r=t.composedPath)||void 0===r?void 0:r.call(t))||t.path;if((null===t||void 0===t?void 0:t.target)&&o){var l=Array.from(e.slides),h=Array.from(o);if(l.includes(t.target)||h.some(function(e){return l.includes(e)})){var c=e.clickedIndex,d=Number(null===(a=null===(s=e.clickedSlide)||void 0===s?void 0:s.dataset)||void 0===a?void 0:a.swiperSlideIndex),p=Number.isInteger(d)?d:null;i(n.ClickSlide,c,p),i(u(n.ClickSlide),c,p)}}}},d=function(e,t){o.forEach(function(i){e.on(i,function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];t.apply(void 0,l([i],r));var s=u(i);s!==i&&t.apply(void 0,l([s],r))})})},p="instanceName";function f(e,t){var i=function(e,t){var i,r,n,s,a=null===(r=null===(i=e.data)||void 0===i?void 0:i.attrs)||void 0===r?void 0:r[t];return void 0!==a?a:null===(s=null===(n=e.data)||void 0===n?void 0:n.attrs)||void 0===s?void 0:s[u(t)]},o=function(e,t,n){return t.arg||i(n,p)||e.id||r.SwiperInstance},l=function(e,t,i){var r=o(e,t,i);return i.context[r]||null},h=function(e){return e.value||t},f=function(e){return[!0,void 0,null,""].includes(e)},m=function(e){var t,i,r=(null===(t=e.data)||void 0===t?void 0:t.on)||(null===(i=e.componentOptions)||void 0===i?void 0:i.listeners);return function(e){for(var t,i=arguments,n=[],s=1;s<arguments.length;s++)n[s-1]=i[s];var a=null===(t=r)||void 0===t?void 0:t[e];a&&a.fns.apply(a,n)}};return{bind:function(e,t,i){-1===e.className.indexOf(a.containerClass)&&(e.className+=(e.className?" ":"")+a.containerClass),e.addEventListener("click",function(r){var n=m(i),s=l(e,t,i);c(s,r,n)})},inserted:function(t,i,r){var s=r.context,a=h(i),l=o(t,i,r),u=m(r),c=s,p=null===c||void 0===c?void 0:c[l];p&&!p.destroyed||(p=new e(t,a),c[l]=p,d(p,u),u(n.Ready,p))},componentUpdated:function(e,t,r){var n,a,o,u,c,d,p,m,g,v,y,_,b=i(r,s.AutoUpdate);if(f(b)){var T=l(e,t,r);if(T){var S=h(t).loop;S&&(null===(a=null===(n=T)||void 0===n?void 0:n.loopDestroy)||void 0===a||a.call(n)),null===(o=null===T||void 0===T?void 0:T.update)||void 0===o||o.call(T),null===(c=null===(u=T.navigation)||void 0===u?void 0:u.update)||void 0===c||c.call(u),null===(p=null===(d=T.pagination)||void 0===d?void 0:d.render)||void 0===p||p.call(d),null===(g=null===(m=T.pagination)||void 0===m?void 0:m.update)||void 0===g||g.call(m),S&&(null===(y=null===(v=T)||void 0===v?void 0:v.loopCreate)||void 0===y||y.call(v),null===(_=null===T||void 0===T?void 0:T.update)||void 0===_||_.call(T))}}},unbind:function(e,t,r){var n,a=i(r,s.AutoDestroy);if(f(a)){var o=l(e,t,r);o&&o.initialized&&(null===(n=null===o||void 0===o?void 0:o.destroy)||void 0===n||n.call(o,f(i(r,s.DeleteInstanceOnDestroy)),f(i(r,s.CleanupStylesOnDestroy))))}}}}function m(e){var t;return i.extend({name:r.SwiperComponent,props:(t={defaultOptions:{type:Object,required:!1,default:function(){return{}}},options:{type:Object,required:!1}},t[s.AutoUpdate]={type:Boolean,default:!0},t[s.AutoDestroy]={type:Boolean,default:!0},t[s.DeleteInstanceOnDestroy]={type:Boolean,required:!1,default:!0},t[s.CleanupStylesOnDestroy]={type:Boolean,required:!1,default:!0},t),data:function(){var e;return(e={})[r.SwiperInstance]=null,e},computed:{swiperInstance:{cache:!1,set:function(e){this[r.SwiperInstance]=e},get:function(){return this[r.SwiperInstance]}},swiperOptions:function(){return this.options||this.defaultOptions},wrapperClass:function(){return this.swiperOptions.wrapperClass||a.wrapperClass}},methods:{handleSwiperClick:function(e){c(this.swiperInstance,e,this.$emit.bind(this))},autoReLoopSwiper:function(){var e,t;if(this.swiperInstance&&this.swiperOptions.loop){var i=this.swiperInstance;null===(e=null===i||void 0===i?void 0:i.loopDestroy)||void 0===e||e.call(i),null===(t=null===i||void 0===i?void 0:i.loopCreate)||void 0===t||t.call(i)}},updateSwiper:function(){var e,t,i,r,n,a,o,l;this[s.AutoUpdate]&&this.swiperInstance&&(this.autoReLoopSwiper(),null===(t=null===(e=this.swiperInstance)||void 0===e?void 0:e.update)||void 0===t||t.call(e),null===(r=null===(i=this.swiperInstance.navigation)||void 0===i?void 0:i.update)||void 0===r||r.call(i),null===(a=null===(n=this.swiperInstance.pagination)||void 0===n?void 0:n.render)||void 0===a||a.call(n),null===(l=null===(o=this.swiperInstance.pagination)||void 0===o?void 0:o.update)||void 0===l||l.call(o))},destroySwiper:function(){var e,t;this[s.AutoDestroy]&&this.swiperInstance&&this.swiperInstance.initialized&&(null===(t=null===(e=this.swiperInstance)||void 0===e?void 0:e.destroy)||void 0===t||t.call(e,this[s.DeleteInstanceOnDestroy],this[s.CleanupStylesOnDestroy]))},initSwiper:function(){this.swiperInstance=new e(this.$el,this.swiperOptions),d(this.swiperInstance,this.$emit.bind(this)),this.$emit(n.Ready,this.swiperInstance)}},mounted:function(){this.swiperInstance||this.initSwiper()},activated:function(){this.updateSwiper()},updated:function(){this.updateSwiper()},beforeDestroy:function(){this.$nextTick(this.destroySwiper)},render:function(e){return e("div",{staticClass:a.containerClass,on:{click:this.handleSwiperClick}},[this.$slots[h.ParallaxBg],e("div",{class:this.wrapperClass},this.$slots.default),this.$slots[h.Pagination],this.$slots[h.PrevButton],this.$slots[h.NextButton],this.$slots[h.Scrollbar]])}})}!function(e){e.ParallaxBg="parallax-bg",e.Pagination="pagination",e.Scrollbar="scrollbar",e.PrevButton="button-prev",e.NextButton="button-next"}(h||(h={}));var g=i.extend({name:r.SwiperSlideComponent,computed:{slideClass:function(){var e,t;return(null===(t=null===(e=this.$parent)||void 0===e?void 0:e.swiperOptions)||void 0===t?void 0:t.slideClass)||a.slideClass}},methods:{update:function(){var e,t=this.$parent;t[s.AutoUpdate]&&(null===(e=null===t||void 0===t?void 0:t.swiperInstance)||void 0===e||e.update())}},mounted:function(){this.update()},updated:function(){this.update()},render:function(e){return e("div",{class:this.slideClass},this.$slots.default)}}),v=function(e){var t=function(i,n){if(!t.installed){var s=m(e);n&&(s.options.props.defaultOptions.default=function(){return n}),i.component(r.SwiperComponent,s),i.component(r.SwiperSlideComponent,g),i.directive(r.SwiperDirective,f(e,n)),t.installed=!0}};return t};var y=function(e){var t;return(t={version:"4.1.1",install:v(e),directive:f(e)})[r.SwiperComponent]=m(e),t[r.SwiperSlideComponent]=g,t}(t),_=y.version,b=y.install,T=y.directive,S=y.Swiper,E=y.SwiperSlide;e.Swiper=S,e.SwiperSlide=E,e.default=y,e.directive=T,e.install=b,e.version=_,Object.defineProperty(e,"__esModule",{value:!0})})(t,i("NaD6"),i("7+uW"))},"82Mu":function(e,t,i){var r=i("7KvD"),n=i("L42u").set,s=r.MutationObserver||r.WebKitMutationObserver,a=r.process,o=r.Promise,l="process"==i("R9M2")(a);e.exports=function(){var e,t,i,h=function(){var r,n;for(l&&(r=a.domain)&&r.exit();e;){n=e.fn,e=e.next;try{n()}catch(r){throw e?i():t=void 0,r}}t=void 0,r&&r.enter()};if(l)i=function(){a.nextTick(h)};else if(!s||r.navigator&&r.navigator.standalone)if(o&&o.resolve){var u=o.resolve(void 0);i=function(){u.then(h)}}else i=function(){n.call(r,h)};else{var c=!0,d=document.createTextNode("");new s(h).observe(d,{characterData:!0}),i=function(){d.data=c=!c}}return function(r){var n={fn:r,next:void 0};t&&(t.next=n),e||(e=n,i()),t=n}}},"86MP":function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},"880/":function(e,t,i){e.exports=i("hJx8")},"8zu+":function(e,t){var i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+i.source+r.source+"*(?::"+i.source+r.source+"*)?$"),s=0,a=1,o=2,l=3,h=4,u=5,c=6,d=7;function p(){}function f(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function m(e,t,i,r,n,p){for(var f,m=++t,g=s;;){var v=e.charAt(m);switch(v){case"=":if(g===a)f=e.slice(t,m),g=l;else{if(g!==o)throw new Error("attribute equal must after attrName");g=l}break;case"'":case'"':if(g===l||g===a){if(g===a&&(p.warning('attribute value must after "="'),f=e.slice(t,m)),t=m+1,!((m=e.indexOf(v,t))>0))throw new Error("attribute value no end '"+v+"' match");y=e.slice(t,m).replace(/&#?\w+;/g,n),i.add(f,y,t-1),g=u}else{if(g!=h)throw new Error('attribute value must after "="');y=e.slice(t,m).replace(/&#?\w+;/g,n),i.add(f,y,t),p.warning('attribute "'+f+'" missed start quot('+v+")!!"),t=m+1,g=u}break;case"/":switch(g){case s:i.setTagName(e.slice(t,m));case u:case c:case d:g=d,i.closed=!0;case h:case a:case o:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return p.error("unexpected end of input"),g==s&&i.setTagName(e.slice(t,m)),m;case">":switch(g){case s:i.setTagName(e.slice(t,m));case u:case c:case d:break;case h:case a:"/"===(y=e.slice(t,m)).slice(-1)&&(i.closed=!0,y=y.slice(0,-1));case o:g===o&&(y=f),g==h?(p.warning('attribute "'+y+'" missed quot(")!!'),i.add(f,y.replace(/&#?\w+;/g,n),t)):("http://www.w3.org/1999/xhtml"===r[""]&&y.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+y+'" missed value!! "'+y+'" instead!!'),i.add(y,y,t));break;case l:throw new Error("attribute value missed!!")}return m;case"":v=" ";default:if(v<=" ")switch(g){case s:i.setTagName(e.slice(t,m)),g=c;break;case a:f=e.slice(t,m),g=o;break;case h:var y=e.slice(t,m).replace(/&#?\w+;/g,n);p.warning('attribute "'+y+'" missed quot(")!!'),i.add(f,y,t);case u:g=c}else switch(g){case o:i.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&f.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+f+'" missed value!! "'+f+'" instead2!!'),i.add(f,f,t),t=m,g=a;break;case u:p.warning('attribute space is required"'+f+'"!!');case c:g=a,t=m;break;case l:g=h,t=m;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}m++}}function g(e,t,i){for(var r=e.tagName,n=null,s=e.length;s--;){var a=e[s],o=a.qName,l=a.value;if((d=o.indexOf(":"))>0)var h=a.prefix=o.slice(0,d),u=o.slice(d+1),c="xmlns"===h&&u;else u=o,h=null,c="xmlns"===o&&"";a.localName=u,!1!==c&&(null==n&&(n={},_(i,i={})),i[c]=n[c]=l,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(c,l))}for(s=e.length;s--;){(h=(a=e[s]).prefix)&&("xml"===h&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==h&&(a.uri=i[h||""]))}var d;(d=r.indexOf(":"))>0?(h=e.prefix=r.slice(0,d),u=e.localName=r.slice(d+1)):(h=null,u=e.localName=r);var p=e.uri=i[h||""];if(t.startElement(p,u,r,e),!e.closed)return e.currentNSMap=i,e.localNSMap=n,!0;if(t.endElement(p,u,r),n)for(h in n)t.endPrefixMapping(h)}function v(e,t,i,r,n){if(/^(?:script|textarea)$/i.test(i)){var s=e.indexOf("</"+i+">",t),a=e.substring(t+1,s);if(/[&<]/.test(a))return/^script$/i.test(i)?(n.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),n.characters(a,0,a.length),s)}return t+1}function y(e,t,i,r){var n=r[i];return null==n&&((n=e.lastIndexOf("</"+i+">"))<t&&(n=e.lastIndexOf("</"+i)),r[i]=n),n<t}function _(e,t){for(var i in e)t[i]=e[i]}function b(e,t,i,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(n=e.indexOf("--\x3e",t+4))>t?(i.comment(e,t+4,n-t-4),n+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var n=e.indexOf("]]>",t+9);return i.startCDATA(),i.characters(e,t+9,n-t-9),i.endCDATA(),n+3}var s=function(e,t){var i,r=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;n.lastIndex=t,n.exec(e);for(;i=n.exec(e);)if(r.push(i),i[1])return r}(e,t),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var o=s[1][0],l=a>3&&/^public$/i.test(s[2][0])&&s[3][0],h=a>4&&s[4][0],u=s[a-1];return i.startDTD(o,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),h&&h.replace(/^(['"])(.*?)\1$/,"$2")),i.endDTD(),u.index+u[0].length}}return-1}function T(e,t,i){var r=e.indexOf("?>",t);if(r){var n=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(n){n[0].length;return i.processingInstruction(n[1],n[2]),r+2}return-1}return-1}function S(e){}function E(e,t){return e.__proto__=t,e}p.prototype={parse:function(e,t,i){var r=this.domBuilder;r.startDocument(),_(t,t={}),function(e,t,i,r,n){function s(e){var t=e.slice(1,-1);return t in i?i[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),i=56320+(1023&e);return String.fromCharCode(t,i)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(n.error("entity not found:"+e),e)}function a(t){if(t>_){var i=e.substring(_,t).replace(/&#?\w+;/g,s);c&&o(_),r.characters(i,0,t-_),_=t}}function o(t,i){for(;t>=h&&(i=u.exec(e));)l=i.index,h=l+i[0].length,c.lineNumber++;c.columnNumber=t-l+1}var l=0,h=0,u=/.*(?:\r\n?|\n)|.*$/g,c=r.locator,d=[{currentNSMap:t}],p={},_=0;for(;;){try{var E=e.indexOf("<",_);if(E<0){if(!e.substr(_).match(/^\s*$/)){var w=r.doc,C=w.createTextNode(e.substr(_));w.appendChild(C),r.currentElement=C}return}switch(E>_&&a(E),e.charAt(E+1)){case"/":var x=e.indexOf(">",E+3),k=e.substring(E+2,x),A=d.pop();x<0?(k=e.substring(E+2).replace(/[\s<].*/,""),n.error("end tag name: "+k+" is not complete:"+A.tagName),x=E+1+k.length):k.match(/\s</)&&(k=k.replace(/[\s<].*/,""),n.error("end tag name: "+k+" maybe not complete"),x=E+1+k.length);var P=A.localNSMap,I=A.tagName==k,D=I||A.tagName&&A.tagName.toLowerCase()==k.toLowerCase();if(D){if(r.endElement(A.uri,A.localName,k),P)for(var M in P)r.endPrefixMapping(M);I||n.fatalError("end tag name: "+k+" is not match the current start tagName:"+A.tagName)}else d.push(A);x++;break;case"?":c&&o(E),x=T(e,E,r);break;case"!":c&&o(E),x=b(e,E,r,n);break;default:c&&o(E);var L=new S,O=d[d.length-1].currentNSMap,x=m(e,E,L,O,s,n),R=L.length;if(!L.closed&&y(e,x,L.tagName,p)&&(L.closed=!0,i.nbsp||n.warning("unclosed xml attribute")),c&&R){for(var F=f(c,{}),B=0;B<R;B++){var N=L[B];o(N.offset),N.locator=f(c,{})}r.locator=F,g(L,r,O)&&d.push(L),r.locator=c}else g(L,r,O)&&d.push(L);"http://www.w3.org/1999/xhtml"!==L.uri||L.closed?x++:x=v(e,x,L.tagName,s,r)}}catch(e){n.error("element parse error: "+e),x=-1}x>_?_=x:a(Math.max(E,_)+1)}}(e,t,i,r,this.errorHandler),r.endDocument()}},S.prototype={setTagName:function(e){if(!n.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,i){if(!n.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:i}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},E({},E.prototype)instanceof E||(E=function(e,t){function i(){}for(t in i.prototype=t,i=new i,e)i[t]=e[t];return i}),t.XMLReader=p},"94VQ":function(e,t,i){"use strict";var r=i("Yobk"),n=i("X8DO"),s=i("e6n0"),a={};i("hJx8")(a,i("dSzd")("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=r(a,{next:n(1,i)}),s(e,t+" Iterator")}},"9o4P":function(e,t){var i=arguments[3],r=arguments[4],n=arguments[5],s=JSON.stringify;e.exports=function(e,t){for(var a,o=Object.keys(n),l=0,h=o.length;l<h;l++){var u=o[l],c=n[u].exports;if(c===e||c&&c.default===e){a=u;break}}if(!a){a=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var d={};for(l=0,h=o.length;l<h;l++){d[u=o[l]]=u}r[a]=["function(require,module,exports){"+e+"(self); }",d]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),f={};f[a]=a,r[p]=["function(require,module,exports){var f = require("+s(a)+");(f.default ? f.default : f)(self);}",f];var m={};!function e(t){m[t]=!0;for(var i in r[t][1]){var n=r[t][1][i];m[n]||e(n)}}(p);var g="("+i+")({"+Object.keys(m).map(function(e){return s(e)+":["+r[e][0]+","+s(r[e][1])+"]"}).join(",")+"},{},["+s(p)+"])",v=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([g],{type:"text/javascript"});if(t&&t.bare)return y;var _=v.createObjectURL(y),b=new Worker(_);return b.objectURL=_,b}},"9vWd":function(e,t,i){"use strict";class r{static install(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");let t=Object(e);for(let e=1;e<arguments.length;e++){let i=arguments[e];if(void 0!==i&&null!==i)for(let e in i)i.hasOwnProperty(e)&&(t[e]=i[e])}return t},"function"!=typeof self.Promise&&i("hKoQ").polyfill()}}r.install();var n=r,s=i("vzCy"),a=i.n(s);class o{static e(e,t){e&&!o.FORCE_GLOBAL_TAG||(e=o.GLOBAL_TAG);let i=`[${e}] > ${t}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","error",i),o.ENABLE_ERROR&&(console.error?console.error(i):console.warn?console.warn(i):console.log(i))}static i(e,t){e&&!o.FORCE_GLOBAL_TAG||(e=o.GLOBAL_TAG);let i=`[${e}] > ${t}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","info",i),o.ENABLE_INFO&&(console.info?console.info(i):console.log(i))}static w(e,t){e&&!o.FORCE_GLOBAL_TAG||(e=o.GLOBAL_TAG);let i=`[${e}] > ${t}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","warn",i),o.ENABLE_WARN&&(console.warn?console.warn(i):console.log(i))}static d(e,t){e&&!o.FORCE_GLOBAL_TAG||(e=o.GLOBAL_TAG);let i=`[${e}] > ${t}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","debug",i),o.ENABLE_DEBUG&&(console.debug?console.debug(i):console.log(i))}static v(e,t){e&&!o.FORCE_GLOBAL_TAG||(e=o.GLOBAL_TAG);let i=`[${e}] > ${t}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","verbose",i),o.ENABLE_VERBOSE&&console.log(i)}}o.GLOBAL_TAG="flv.js",o.FORCE_GLOBAL_TAG=!1,o.ENABLE_ERROR=!0,o.ENABLE_INFO=!0,o.ENABLE_WARN=!0,o.ENABLE_DEBUG=!0,o.ENABLE_VERBOSE=!0,o.ENABLE_CALLBACK=!1,o.emitter=new a.a;var l=o;var h=class{constructor(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}reset(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}addBytes(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())}get currentKBps(){this.addBytes(0);let e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024}get lastSecondKBps(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}get averageKBps(){let e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024}};class u{constructor(e){this._message=e}get name(){return"RuntimeException"}get message(){return this._message}toString(){return this.name+": "+this.message}}class c extends u{constructor(e){super(e)}get name(){return"IllegalStateException"}}class d extends u{constructor(e){super(e)}get name(){return"InvalidArgumentException"}}class p extends u{constructor(e){super(e)}get name(){return"NotImplementedException"}}const f={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},m={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"};class g{constructor(e){this._type=e||"undefined",this._status=f.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}destroy(){this._status=f.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}isWorking(){return this._status===f.kConnecting||this._status===f.kBuffering}get type(){return this._type}get status(){return this._status}get needStashBuffer(){return this._needStash}get onContentLengthKnown(){return this._onContentLengthKnown}set onContentLengthKnown(e){this._onContentLengthKnown=e}get onURLRedirect(){return this._onURLRedirect}set onURLRedirect(e){this._onURLRedirect=e}get onDataArrival(){return this._onDataArrival}set onDataArrival(e){this._onDataArrival=e}get onError(){return this._onError}set onError(e){this._onError=e}get onComplete(){return this._onComplete}set onComplete(e){this._onComplete=e}open(e,t){throw new p("Unimplemented abstract function!")}abort(){throw new p("Unimplemented abstract function!")}}let v={};!function(){let e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],r={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:i[0]||""},n={};if(r.browser){n[r.browser]=!0;let e=r.majorVersion.split(".");n.version={major:parseInt(r.majorVersion,10),string:r.version},e.length>1&&(n.version.minor=parseInt(e[1],10)),e.length>2&&(n.version.build=parseInt(e[2],10))}if(r.platform&&(n[r.platform]=!0),(n.chrome||n.opr||n.safari)&&(n.webkit=!0),n.rv||n.iemobile){n.rv&&delete n.rv;let e="msie";r.browser=e,n[e]=!0}if(n.edge){delete n.edge;let e="msedge";r.browser=e,n[e]=!0}if(n.opr){let e="opera";r.browser=e,n[e]=!0}if(n.safari&&n.android){let e="android";r.browser=e,n[e]=!0}n.name=r.browser,n.platform=r.platform;for(let e in v)v.hasOwnProperty(e)&&delete v[e];Object.assign(v,n)}();var y=v;var _=class extends g{static isSupported(){try{let e=y.msedge&&y.version.minor>=15048,t=!y.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}}constructor(e,t){super("fetch-stream-loader"),this.TAG="FetchStreamLoader",this._seekHandler=e,this._config=t,this._needStash=!0,this._requestAbort=!1,this._contentLength=null,this._receivedLength=0}destroy(){this.isWorking()&&this.abort(),super.destroy()}open(e,t){this._dataSource=e,this._range=t;let i=e.url;this._config.reuseRedirectedURL&&void 0!=e.redirectedURL&&(i=e.redirectedURL);let r=this._seekHandler.getConfig(i,t),n=new self.Headers;if("object"==typeof r.headers){let e=r.headers;for(let t in e)e.hasOwnProperty(t)&&n.append(t,e[t])}let s={method:"GET",headers:n,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"==typeof this._config.headers)for(let e in this._config.headers)n.append(e,this._config.headers[e]);!1===e.cors&&(s.mode="same-origin"),e.withCredentials&&(s.credentials="include"),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),this._status=f.kConnecting,self.fetch(r.url,s).then(e=>{if(this._requestAbort)return this._requestAbort=!1,void(this._status=f.kIdle);if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==r.url&&this._onURLRedirect){let t=this._seekHandler.removeURLParameters(e.url);this._onURLRedirect(t)}let t=e.headers.get("Content-Length");return null!=t&&(this._contentLength=parseInt(t),0!==this._contentLength&&this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)),this._pump.call(this,e.body.getReader())}if(this._status=f.kError,!this._onError)throw new u("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);this._onError(m.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})}).catch(e=>{if(this._status=f.kError,!this._onError)throw e;this._onError(m.EXCEPTION,{code:-1,msg:e.message})})}abort(){this._requestAbort=!0}_pump(e){return e.read().then(t=>{if(t.done)if(null!==this._contentLength&&this._receivedLength<this._contentLength){this._status=f.kError;let e=m.EARLY_EOF,t={code:-1,msg:"Fetch stream meet Early-EOF"};if(!this._onError)throw new u(t.msg);this._onError(e,t)}else this._status=f.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1);else{if(!0===this._requestAbort)return this._requestAbort=!1,this._status=f.kComplete,e.cancel();this._status=f.kBuffering;let i=t.value.buffer,r=this._range.from+this._receivedLength;this._receivedLength+=i.byteLength,this._onDataArrival&&this._onDataArrival(i,r,this._receivedLength),this._pump(e)}}).catch(e=>{if(11===e.code&&y.msedge)return;this._status=f.kError;let t=0,i=null;if(19!==e.code&&"network error"!==e.message||!(null===this._contentLength||null!==this._contentLength&&this._receivedLength<this._contentLength)?(t=m.EXCEPTION,i={code:e.code,msg:e.message}):(t=m.EARLY_EOF,i={code:e.code,msg:"Fetch stream meet Early-EOF"}),!this._onError)throw new u(i.msg);this._onError(t,i)})}};var b=class extends g{static isSupported(){try{let e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return l.w("MozChunkedLoader",e.message),!1}}constructor(e,t){super("xhr-moz-chunked-loader"),this.TAG="MozChunkedLoader",this._seekHandler=e,this._config=t,this._needStash=!0,this._xhr=null,this._requestAbort=!1,this._contentLength=null,this._receivedLength=0}destroy(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),super.destroy()}open(e,t){this._dataSource=e,this._range=t;let i=e.url;this._config.reuseRedirectedURL&&void 0!=e.redirectedURL&&(i=e.redirectedURL);let r=this._seekHandler.getConfig(i,t);this._requestURL=r.url;let n=this._xhr=new XMLHttpRequest;if(n.open("GET",r.url,!0),n.responseType="moz-chunked-arraybuffer",n.onreadystatechange=this._onReadyStateChange.bind(this),n.onprogress=this._onProgress.bind(this),n.onloadend=this._onLoadEnd.bind(this),n.onerror=this._onXhrError.bind(this),e.withCredentials&&(n.withCredentials=!0),"object"==typeof r.headers){let e=r.headers;for(let t in e)e.hasOwnProperty(t)&&n.setRequestHeader(t,e[t])}if("object"==typeof this._config.headers){let e=this._config.headers;for(let t in e)e.hasOwnProperty(t)&&n.setRequestHeader(t,e[t])}this._status=f.kConnecting,n.send()}abort(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=f.kComplete}_onReadyStateChange(e){let t=e.target;if(2===t.readyState){if(void 0!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){let e=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(e)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=f.kError,!this._onError)throw new u("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(m.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=f.kBuffering}}_onProgress(e){if(this._status===f.kError)return;null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));let t=e.target.response,i=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)}_onLoadEnd(e){!0!==this._requestAbort?this._status!==f.kError&&(this._status=f.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1}_onXhrError(e){this._status=f.kError;let t=0,i=null;if(this._contentLength&&e.loaded<this._contentLength?(t=m.EARLY_EOF,i={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=m.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new u(i.msg);this._onError(t,i)}};var T=class extends g{static isSupported(){try{let e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return l.w("RangeLoader",e.message),!1}}constructor(e,t){super("xhr-range-loader"),this.TAG="RangeLoader",this._seekHandler=e,this._config=t,this._needStash=!1,this._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],this._currentChunkSizeKB=384,this._currentSpeedNormalized=0,this._zeroSpeedChunkCount=0,this._xhr=null,this._speedSampler=new h,this._requestAbort=!1,this._waitForTotalLength=!1,this._totalLengthReceived=!1,this._currentRequestURL=null,this._currentRedirectedURL=null,this._currentRequestRange=null,this._totalLength=null,this._contentLength=null,this._receivedLength=0,this._lastTimeLoaded=0}destroy(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),super.destroy()}get currentSpeed(){return this._speedSampler.lastSecondKBps}open(e,t){this._dataSource=e,this._range=t,this._status=f.kConnecting;let i=!1;void 0!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(i=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||i?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))}_openSubRange(){let e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,i=t+e;null!=this._contentLength&&i-this._range.from>=this._contentLength&&(i=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:i},this._internalOpen(this._dataSource,this._currentRequestRange)}_internalOpen(e,t){this._lastTimeLoaded=0;let i=e.url;this._config.reuseRedirectedURL&&(void 0!=this._currentRedirectedURL?i=this._currentRedirectedURL:void 0!=e.redirectedURL&&(i=e.redirectedURL));let r=this._seekHandler.getConfig(i,t);this._currentRequestURL=r.url;let n=this._xhr=new XMLHttpRequest;if(n.open("GET",r.url,!0),n.responseType="arraybuffer",n.onreadystatechange=this._onReadyStateChange.bind(this),n.onprogress=this._onProgress.bind(this),n.onload=this._onLoad.bind(this),n.onerror=this._onXhrError.bind(this),e.withCredentials&&(n.withCredentials=!0),"object"==typeof r.headers){let e=r.headers;for(let t in e)e.hasOwnProperty(t)&&n.setRequestHeader(t,e[t])}if("object"==typeof this._config.headers){let e=this._config.headers;for(let t in e)e.hasOwnProperty(t)&&n.setRequestHeader(t,e[t])}n.send()}abort(){this._requestAbort=!0,this._internalAbort(),this._status=f.kComplete}_internalAbort(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)}_onReadyStateChange(e){let t=e.target;if(2===t.readyState){if(void 0!=t.responseURL){let e=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&e!==this._currentRedirectedURL&&(this._currentRedirectedURL=e,this._onURLRedirect&&this._onURLRedirect(e))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=f.kBuffering}else{if(this._status=f.kError,!this._onError)throw new u("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(m.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}}_onProgress(e){if(this._status===f.kError)return;if(null===this._contentLength){let t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;let i=e.total;this._internalAbort(),null!=i&0!==i&&(this._totalLength=i)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}let t=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(t)}_normalizeSpeed(e){let t=this._chunkSizeKBList,i=t.length-1,r=0,n=0,s=i;if(e<t[0])return t[0];for(;n<=s;){if((r=n+Math.floor((s-n)/2))===i||e>=t[r]&&e<t[r+1])return t[r];t[r]<e?n=r+1:s=r-1}}_onLoad(e){if(this._status===f.kError)return;if(this._waitForTotalLength)return void(this._waitForTotalLength=!1);this._lastTimeLoaded=0;let t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){let e=this._normalizeSpeed(t);this._currentSpeedNormalized!==e&&(this._currentSpeedNormalized=e,this._currentChunkSizeKB=e)}let i=e.target.response,r=this._range.from+this._receivedLength;this._receivedLength+=i.byteLength;let n=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():n=!0,this._onDataArrival&&this._onDataArrival(i,r,this._receivedLength),n&&(this._status=f.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}_onXhrError(e){this._status=f.kError;let t=0,i=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=m.EARLY_EOF,i={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=m.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new u(i.msg);this._onError(t,i)}};var S=class extends g{static isSupported(){try{return void 0!==self.WebSocket}catch(e){return!1}}constructor(){super("websocket-loader"),this.TAG="WebSocketLoader",this._needStash=!0,this._ws=null,this._requestAbort=!1,this._receivedLength=0}destroy(){this._ws&&this.abort(),super.destroy()}open(e){try{let t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=f.kConnecting}catch(e){this._status=f.kError;let t={code:e.code,msg:e.message};if(!this._onError)throw new u(t.msg);this._onError(m.EXCEPTION,t)}}abort(){let e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=f.kComplete}_onWebSocketOpen(e){this._status=f.kBuffering}_onWebSocketClose(e){!0!==this._requestAbort?(this._status=f.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1}_onWebSocketMessage(e){if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){let t=new FileReader;t.onload=(()=>{this._dispatchArrayBuffer(t.result)}),t.readAsArrayBuffer(e.data)}else{this._status=f.kError;let t={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new u(t.msg);this._onError(m.EXCEPTION,t)}}_dispatchArrayBuffer(e){let t=e,i=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)}_onWebSocketError(e){this._status=f.kError;let t={code:e.code,msg:e.message};if(!this._onError)throw new u(t.msg);this._onError(m.EXCEPTION,t)}};var E=class{constructor(e){this._zeroStart=e||!1}getConfig(e,t){let i={};if(0!==t.from||-1!==t.to){let e;e=-1!==t.to?`bytes=${t.from.toString()}-${t.to.toString()}`:`bytes=${t.from.toString()}-`,i.Range=e}else this._zeroStart&&(i.Range="bytes=0-");return{url:e,headers:i}}removeURLParameters(e){return e}};var w=class{constructor(e,t){this._startName=e,this._endName=t}getConfig(e,t){let i=e;if(0!==t.from||-1!==t.to){let e=!0;-1===i.indexOf("?")&&(i+="?",e=!1),e&&(i+="&"),i+=`${this._startName}=${t.from.toString()}`,-1!==t.to&&(i+=`&${this._endName}=${t.to.toString()}`)}return{url:i,headers:{}}}removeURLParameters(e){let t=e.split("?")[0],i=void 0,r=e.indexOf("?");-1!==r&&(i=e.substring(r+1));let n="";if(void 0!=i&&i.length>0){let e=i.split("&");for(let t=0;t<e.length;t++){let i=e[t].split("="),r=t>0;i[0]!==this._startName&&i[0]!==this._endName&&(r&&(n+="&"),n+=e[t])}}return 0===n.length?t:t+"?"+n}};var C=class{constructor(e,t,i){this.TAG="IOController",this._config=t,this._extraData=i,this._stashInitialSize=393216,void 0!=t.stashInitialSize&&t.stashInitialSize>0&&(this._stashInitialSize=t.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===t.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=e,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(e.url),this._refTotalLength=e.filesize?e.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new h,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}destroy(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null}isWorking(){return this._loader&&this._loader.isWorking()&&!this._paused}isPaused(){return this._paused}get status(){return this._loader.status}get extraData(){return this._extraData}set extraData(e){this._extraData=e}get onDataArrival(){return this._onDataArrival}set onDataArrival(e){this._onDataArrival=e}get onSeeked(){return this._onSeeked}set onSeeked(e){this._onSeeked=e}get onError(){return this._onError}set onError(e){this._onError=e}get onComplete(){return this._onComplete}set onComplete(e){this._onComplete=e}get onRedirect(){return this._onRedirect}set onRedirect(e){this._onRedirect=e}get onRecoveredEarlyEof(){return this._onRecoveredEarlyEof}set onRecoveredEarlyEof(e){this._onRecoveredEarlyEof=e}get currentURL(){return this._dataSource.url}get hasRedirect(){return null!=this._redirectedURL||void 0!=this._dataSource.redirectedURL}get currentRedirectedURL(){return this._redirectedURL||this._dataSource.redirectedURL}get currentSpeed(){return this._loaderClass===T?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}get loaderType(){return this._loader.type}_selectSeekHandler(){let e=this._config;if("range"===e.seekType)this._seekHandler=new E(this._config.rangeLoadZeroStart);else if("param"===e.seekType){let t=e.seekParamStart||"bstart",i=e.seekParamEnd||"bend";this._seekHandler=new w(t,i)}else{if("custom"!==e.seekType)throw new d(`Invalid seekType in config: ${e.seekType}`);if("function"!=typeof e.customSeekHandler)throw new d("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}}_selectLoader(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=S;else if(_.isSupported())this._loaderClass=_;else if(b.isSupported())this._loaderClass=b;else{if(!T.isSupported())throw new u("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=T}}_createLoader(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)}open(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))}abort(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)}pause(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)}resume(){if(this._paused){this._paused=!1;let e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}}seek(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)}_internalSeek(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;let i={from:e,to:-1};this._currentRange={from:i.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,i),this._onSeeked&&this._onSeeked()}updateUrl(e){if(!e||"string"!=typeof e||0===e.length)throw new d("Url must be a non-empty string!");this._dataSource.url=e}_expandBuffer(e){let t=this._stashSize;for(;t+1048576<e;)t*=2;if((t+=1048576)===this._bufferSize)return;let i=new ArrayBuffer(t);if(this._stashUsed>0){let e=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(i,0,t).set(e,0)}this._stashBuffer=i,this._bufferSize=t}_normalizeSpeed(e){let t=this._speedNormalizeList,i=t.length-1,r=0,n=0,s=i;if(e<t[0])return t[0];for(;n<=s;){if((r=n+Math.floor((s-n)/2))===i||e>=t[r]&&e<t[r+1])return t[r];t[r]<e?n=r+1:s=r-1}}_adjustStashSize(e){let t=0;(t=this._config.isLive?e:e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);let i=1024*t+1048576;this._bufferSize<i&&this._expandBuffer(i),this._stashSize=1024*t}_dispatchChunks(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)}_onURLRedirect(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)}_onContentLengthKnown(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)}_onLoaderChunkArrival(e,t,i){if(!this._onDataArrival)throw new c("IOController: No existing consumer (onDataArrival) callback!");if(this._paused)return;this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);let r=this._speedSampler.lastSecondKBps;if(0!==r){let e=this._normalizeSpeed(r);this._speedNormalized!==e&&(this._speedNormalized=e,this._adjustStashSize(e))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize)new Uint8Array(this._stashBuffer,0,this._stashSize).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;else{let i=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){let t=this._stashBuffer.slice(0,this._stashUsed),r=this._dispatchChunks(t,this._stashByteStart);if(r<t.byteLength){if(r>0){let e=new Uint8Array(t,r);i.set(e,0),this._stashUsed=e.byteLength,this._stashByteStart+=r}}else this._stashUsed=0,this._stashByteStart+=r;this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),i=new Uint8Array(this._stashBuffer,0,this._bufferSize)),i.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{let r=this._dispatchChunks(e,t);if(r<e.byteLength){let n=e.byteLength-r;n>this._bufferSize&&(this._expandBuffer(n),i=new Uint8Array(this._stashBuffer,0,this._bufferSize)),i.set(new Uint8Array(e,r),0),this._stashUsed+=n,this._stashByteStart=t+r}}}else if(0===this._stashUsed){let i=this._dispatchChunks(e,t);if(i<e.byteLength){let r=e.byteLength-i;r>this._bufferSize&&this._expandBuffer(r),new Uint8Array(this._stashBuffer,0,this._bufferSize).set(new Uint8Array(e,i),0),this._stashUsed+=r,this._stashByteStart=t+i}}else{this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength);let t=new Uint8Array(this._stashBuffer,0,this._bufferSize);t.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;let i=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(i<this._stashUsed&&i>0){let e=new Uint8Array(this._stashBuffer,i);t.set(e,0)}this._stashUsed-=i,this._stashByteStart+=i}}_flushStashBuffer(e){if(this._stashUsed>0){let t=this._stashBuffer.slice(0,this._stashUsed),i=this._dispatchChunks(t,this._stashByteStart),r=t.byteLength-i;if(i<t.byteLength){if(!e){if(i>0){let e=new Uint8Array(this._stashBuffer,0,this._bufferSize),r=new Uint8Array(t,i);e.set(r,0),this._stashUsed=r.byteLength,this._stashByteStart+=i}return 0}l.w(this.TAG,`${r} bytes unconsumed data remain when flush buffer, dropped`)}return this._stashUsed=0,this._stashByteStart=0,r}return 0}_onLoaderComplete(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)}_onLoaderError(e,t){switch(l.e(this.TAG,`Loader error, code = ${t.code}, msg = ${t.msg}`),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=m.UNRECOVERABLE_EARLY_EOF),e){case m.EARLY_EOF:if(!this._config.isLive&&this._totalLength){let e=this._currentRange.to+1;return void(e<this._totalLength&&(l.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(e,!1)))}e=m.UNRECOVERABLE_EARLY_EOF;break;case m.UNRECOVERABLE_EARLY_EOF:case m.CONNECTING_TIMEOUT:case m.HTTP_STATUS_CODE_INVALID:case m.EXCEPTION:}if(!this._onError)throw new u("IOException: "+t.msg);this._onError(e,t)}};const x={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function k(){return Object.assign({},x)}class A{static supportMSEH264Playback(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}static supportNetworkStreamIO(){let e=new C({},k()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t}static getNetworkLoaderTypeName(){let e=new C({},k()),t=e.loaderType;return e.destroy(),t}static supportNativeMediaPlayback(e){void 0==A.videoElement&&(A.videoElement=window.document.createElement("video"));let t=A.videoElement.canPlayType(e);return"probably"===t||"maybe"==t}static getFeatureList(){let e={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return e.mseFlvPlayback=A.supportMSEH264Playback(),e.networkStreamIO=A.supportNetworkStreamIO(),e.networkLoaderName=A.getNetworkLoaderTypeName(),e.mseLiveFlvPlayback=e.mseFlvPlayback&&e.networkStreamIO,e.nativeMP4H264Playback=A.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),e.nativeWebmVP8Playback=A.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),e.nativeWebmVP9Playback=A.supportNativeMediaPlayback('video/webm; codecs="vp9"'),e}}var P=A;var I={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};class D{static get forceGlobalTag(){return l.FORCE_GLOBAL_TAG}static set forceGlobalTag(e){l.FORCE_GLOBAL_TAG=e,D._notifyChange()}static get globalTag(){return l.GLOBAL_TAG}static set globalTag(e){l.GLOBAL_TAG=e,D._notifyChange()}static get enableAll(){return l.ENABLE_VERBOSE&&l.ENABLE_DEBUG&&l.ENABLE_INFO&&l.ENABLE_WARN&&l.ENABLE_ERROR}static set enableAll(e){l.ENABLE_VERBOSE=e,l.ENABLE_DEBUG=e,l.ENABLE_INFO=e,l.ENABLE_WARN=e,l.ENABLE_ERROR=e,D._notifyChange()}static get enableDebug(){return l.ENABLE_DEBUG}static set enableDebug(e){l.ENABLE_DEBUG=e,D._notifyChange()}static get enableVerbose(){return l.ENABLE_VERBOSE}static set enableVerbose(e){l.ENABLE_VERBOSE=e,D._notifyChange()}static get enableInfo(){return l.ENABLE_INFO}static set enableInfo(e){l.ENABLE_INFO=e,D._notifyChange()}static get enableWarn(){return l.ENABLE_WARN}static set enableWarn(e){l.ENABLE_WARN=e,D._notifyChange()}static get enableError(){return l.ENABLE_ERROR}static set enableError(e){l.ENABLE_ERROR=e,D._notifyChange()}static getConfig(){return{globalTag:l.GLOBAL_TAG,forceGlobalTag:l.FORCE_GLOBAL_TAG,enableVerbose:l.ENABLE_VERBOSE,enableDebug:l.ENABLE_DEBUG,enableInfo:l.ENABLE_INFO,enableWarn:l.ENABLE_WARN,enableError:l.ENABLE_ERROR,enableCallback:l.ENABLE_CALLBACK}}static applyConfig(e){l.GLOBAL_TAG=e.globalTag,l.FORCE_GLOBAL_TAG=e.forceGlobalTag,l.ENABLE_VERBOSE=e.enableVerbose,l.ENABLE_DEBUG=e.enableDebug,l.ENABLE_INFO=e.enableInfo,l.ENABLE_WARN=e.enableWarn,l.ENABLE_ERROR=e.enableError,l.ENABLE_CALLBACK=e.enableCallback}static _notifyChange(){let e=D.emitter;if(e.listenerCount("change")>0){let t=D.getConfig();e.emit("change",t)}}static registerListener(e){D.emitter.addListener("change",e)}static removeListener(e){D.emitter.removeListener("change",e)}static addLogListener(e){l.emitter.addListener("log",e),l.emitter.listenerCount("log")>0&&(l.ENABLE_CALLBACK=!0,D._notifyChange())}static removeLogListener(e){l.emitter.removeListener("log",e),0===l.emitter.listenerCount("log")&&(l.ENABLE_CALLBACK=!1,D._notifyChange())}}D.emitter=new a.a;var M=D;var L=class{constructor(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}isComplete(){let e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t}isSeekable(){return!0===this.hasKeyframesIndex}getNearestKeyframe(e){if(null==this.keyframesIndex)return null;let t=this.keyframesIndex,i=this._search(t.times,e);return{index:i,milliseconds:t.times[i],fileposition:t.filepositions[i]}}_search(e,t){let i=0,r=e.length-1,n=0,s=0,a=r;for(t<e[0]&&(i=0,s=a+1);s<=a;){if((n=s+Math.floor((a-s)/2))===r||t>=e[n]&&t<e[n+1]){i=n;break}e[n]<t?s=n+1:a=n-1}return i}};function O(e,t,i){let r=e;if(t+i<r.length){for(;i--;)if(128!=(192&r[++t]))return!1;return!0}return!1}var R=function(e){let t=[],i=e,r=0,n=e.length;for(;r<n;)if(i[r]<128)t.push(String.fromCharCode(i[r])),++r;else{if(i[r]<192);else if(i[r]<224){if(O(i,r,1)){let e=(31&i[r])<<6|63&i[r+1];if(e>=128){t.push(String.fromCharCode(65535&e)),r+=2;continue}}}else if(i[r]<240){if(O(i,r,2)){let e=(15&i[r])<<12|(63&i[r+1])<<6|63&i[r+2];if(e>=2048&&55296!=(63488&e)){t.push(String.fromCharCode(65535&e)),r+=3;continue}}}else if(i[r]<248&&O(i,r,3)){let e=(7&i[r])<<18|(63&i[r+1])<<12|(63&i[r+2])<<6|63&i[r+3];if(e>65536&&e<1114112){e-=65536,t.push(String.fromCharCode(e>>>10|55296)),t.push(String.fromCharCode(1023&e|56320)),r+=4;continue}}t.push(String.fromCharCode(65533)),++r}return t.join("")};let F=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}();class B{static parseScriptData(e,t,i){let r={};try{let n=B.parseValue(e,t,i),s=B.parseValue(e,t+n.size,i-n.size);r[n.data]=s.data}catch(e){l.e("AMF",e.toString())}return r}static parseObject(e,t,i){if(i<3)throw new c("Data not enough when parse ScriptDataObject");let r=B.parseString(e,t,i),n=B.parseValue(e,t+r.size,i-r.size),s=n.objectEnd;return{data:{name:r.data,value:n.data},size:r.size+n.size,objectEnd:s}}static parseVariable(e,t,i){return B.parseObject(e,t,i)}static parseString(e,t,i){if(i<2)throw new c("Data not enough when parse String");let r,n=new DataView(e,t,i).getUint16(0,!F);return{data:r=n>0?R(new Uint8Array(e,t+2,n)):"",size:2+n}}static parseLongString(e,t,i){if(i<4)throw new c("Data not enough when parse LongString");let r,n=new DataView(e,t,i).getUint32(0,!F);return{data:r=n>0?R(new Uint8Array(e,t+4,n)):"",size:4+n}}static parseDate(e,t,i){if(i<10)throw new c("Data size invalid when parse Date");let r=new DataView(e,t,i),n=r.getFloat64(0,!F),s=r.getInt16(8,!F);return{data:new Date(n+=60*s*1e3),size:10}}static parseValue(e,t,i){if(i<1)throw new c("Data not enough when parse Value");let r,n=new DataView(e,t,i),s=1,a=n.getUint8(0),o=!1;try{switch(a){case 0:r=n.getFloat64(1,!F),s+=8;break;case 1:r=!!n.getUint8(1),s+=1;break;case 2:{let n=B.parseString(e,t+1,i-1);r=n.data,s+=n.size;break}case 3:{r={};let a=0;for(9==(16777215&n.getUint32(i-4,!F))&&(a=3);s<i-4;){let n=B.parseObject(e,t+s,i-s-a);if(n.objectEnd)break;r[n.data.name]=n.data.value,s+=n.size}if(s<=i-3){9===(16777215&n.getUint32(s-1,!F))&&(s+=3)}break}case 8:{r={},s+=4;let a=0;for(9==(16777215&n.getUint32(i-4,!F))&&(a=3);s<i-8;){let n=B.parseVariable(e,t+s,i-s-a);if(n.objectEnd)break;r[n.data.name]=n.data.value,s+=n.size}if(s<=i-3){9===(16777215&n.getUint32(s-1,!F))&&(s+=3)}break}case 9:r=void 0,s=1,o=!0;break;case 10:{r=[];let a=n.getUint32(1,!F);s+=4;for(let n=0;n<a;n++){let n=B.parseValue(e,t+s,i-s);r.push(n.data),s+=n.size}break}case 11:{let n=B.parseDate(e,t+1,i-1);r=n.data,s+=n.size;break}case 12:{let n=B.parseString(e,t+1,i-1);r=n.data,s+=n.size;break}default:s=i,l.w("AMF","Unsupported AMF value type "+a)}}catch(e){l.e("AMF",e.toString())}return{data:r,size:s,objectEnd:o}}}var N=B;var U=class{constructor(e){this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}destroy(){this._buffer=null}_fillCurrentWord(){let e=this._total_bytes-this._buffer_index;if(e<=0)throw new c("ExpGolomb: _fillCurrentWord() but no bytes available");let t=Math.min(4,e),i=new Uint8Array(4);i.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(i.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t}readBits(e){if(e>32)throw new d("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){let t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}let t=this._current_word_bits_left?this._current_word:0;t>>>=32-this._current_word_bits_left;let i=e-this._current_word_bits_left;this._fillCurrentWord();let r=Math.min(i,this._current_word_bits_left),n=this._current_word>>>32-r;return this._current_word<<=r,this._current_word_bits_left-=r,t=t<<r|n}readBool(){return 1===this.readBits(1)}readByte(){return this.readBits(8)}_skipLeadingZero(){let e;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()}readUEG(){let e=this._skipLeadingZero();return this.readBits(e+1)-1}readSEG(){let e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)}};class j{static _ebsp2rbsp(e){let t=e,i=t.byteLength,r=new Uint8Array(i),n=0;for(let e=0;e<i;e++)e>=2&&3===t[e]&&0===t[e-1]&&0===t[e-2]||(r[n]=t[e],n++);return new Uint8Array(r.buffer,0,n)}static parseSPS(e){let t=j._ebsp2rbsp(e),i=new U(t);i.readByte();let r=i.readByte();i.readByte();let n=i.readByte();i.readUEG();let s=j.getProfileString(r),a=j.getLevelString(n),o=1,l=420,h=[0,420,422,444],u=8;if((100===r||110===r||122===r||244===r||44===r||83===r||86===r||118===r||128===r||138===r||144===r)&&(3===(o=i.readUEG())&&i.readBits(1),o<=3&&(l=h[o]),u=i.readUEG()+8,i.readUEG(),i.readBits(1),i.readBool())){let e=3!==o?8:12;for(let t=0;t<e;t++)i.readBool()&&(t<6?j._skipScalingList(i,16):j._skipScalingList(i,64))}i.readUEG();let c=i.readUEG();if(0===c)i.readUEG();else if(1===c){i.readBits(1),i.readSEG(),i.readSEG();let e=i.readUEG();for(let t=0;t<e;t++)i.readSEG()}let d=i.readUEG();i.readBits(1);let p=i.readUEG(),f=i.readUEG(),m=i.readBits(1);0===m&&i.readBits(1),i.readBits(1);let g=0,v=0,y=0,_=0;i.readBool()&&(g=i.readUEG(),v=i.readUEG(),y=i.readUEG(),_=i.readUEG());let b=1,T=1,S=0,E=!0,w=0,C=0;if(i.readBool()){if(i.readBool()){let e=i.readByte();e>0&&e<16?(b=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][e-1],T=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][e-1]):255===e&&(b=i.readByte()<<8|i.readByte(),T=i.readByte()<<8|i.readByte())}if(i.readBool()&&i.readBool(),i.readBool()&&(i.readBits(4),i.readBool()&&i.readBits(24)),i.readBool()&&(i.readUEG(),i.readUEG()),i.readBool()){let e=i.readBits(32),t=i.readBits(32);E=i.readBool(),S=(w=t)/(C=2*e)}}let x=1;1===b&&1===T||(x=b/T);let k=0,A=0;if(0===o)k=1,A=2-m;else{k=3===o?1:2,A=(1===o?2:1)*(2-m)}let P=16*(p+1),I=16*(f+1)*(2-m);P-=(g+v)*k,I-=(y+_)*A;let D=Math.ceil(P*x);return i.destroy(),i=null,{profile_string:s,level_string:a,bit_depth:u,ref_frames:d,chroma_format:l,chroma_format_string:j.getChromaFormatString(l),frame_rate:{fixed:E,fps:S,fps_den:C,fps_num:w},sar_ratio:{width:b,height:T},codec_size:{width:P,height:I},present_size:{width:D,height:I}}}static _skipScalingList(e,t){let i=8,r=8,n=0;for(let s=0;s<t;s++)0!==r&&(r=(i+(n=e.readSEG())+256)%256),i=0===r?i:r}static getProfileString(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}static getLevelString(e){return(e/10).toFixed(1)}static getChromaFormatString(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}var V=j;var z={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};class G{constructor(e,t){this.TAG="FLVDemuxer",this._config=t,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=e.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=e.hasAudioTrack,this._hasVideo=e.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new L,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()}destroy(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null}static probe(e){let t=new Uint8Array(e),i={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return i;let r=(4&t[4])>>>2!=0,n=0!=(1&t[4]),s=(a=t)[o=5]<<24|a[o+1]<<16|a[o+2]<<8|a[o+3];var a,o;return s<9?i:{match:!0,consumed:s,dataOffset:s,hasAudioTrack:r,hasVideoTrack:n}}bindDataSource(e){return e.onDataArrival=this.parseChunks.bind(this),this}get onTrackMetadata(){return this._onTrackMetadata}set onTrackMetadata(e){this._onTrackMetadata=e}get onMediaInfo(){return this._onMediaInfo}set onMediaInfo(e){this._onMediaInfo=e}get onMetaDataArrived(){return this._onMetaDataArrived}set onMetaDataArrived(e){this._onMetaDataArrived=e}get onScriptDataArrived(){return this._onScriptDataArrived}set onScriptDataArrived(e){this._onScriptDataArrived=e}get onError(){return this._onError}set onError(e){this._onError=e}get onDataAvailable(){return this._onDataAvailable}set onDataAvailable(e){this._onDataAvailable=e}get timestampBase(){return this._timestampBase}set timestampBase(e){this._timestampBase=e}get overridedDuration(){return this._duration}set overridedDuration(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e}set overridedHasAudio(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e}set overridedHasVideo(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e}resetMediaInfo(){this._mediaInfo=new L}_isInitialMetadataDispatched(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched}parseChunks(e,t){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new c("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");let i=0,r=this._littleEndian;if(0===t){if(!(e.byteLength>13))return 0;i=G.probe(e).dataOffset}if(this._firstParse){this._firstParse=!1,t+i!==this._dataOffset&&l.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==new DataView(e,i).getUint32(0,!r)&&l.w(this.TAG,"PrevTagSize0 !== 0 !!!"),i+=4}for(;i<e.byteLength;){this._dispatch=!0;let n=new DataView(e,i);if(i+11+4>e.byteLength)break;let s=n.getUint8(0),a=16777215&n.getUint32(0,!r);if(i+11+a+4>e.byteLength)break;if(8!==s&&9!==s&&18!==s){l.w(this.TAG,`Unsupported tag type ${s}, skipped`),i+=11+a+4;continue}let o=n.getUint8(4),h=n.getUint8(5),u=n.getUint8(6)|h<<8|o<<16|n.getUint8(7)<<24;0!==(16777215&n.getUint32(7,!r))&&l.w(this.TAG,"Meet tag which has StreamID != 0!");let c=i+11;switch(s){case 8:this._parseAudioData(e,c,a,u);break;case 9:this._parseVideoData(e,c,a,u,t+i);break;case 18:this._parseScriptData(e,c,a)}let d=n.getUint32(11+a,!r);d!==11+a&&l.w(this.TAG,`Invalid PrevTagSize ${d}`),i+=11+a+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),i}_parseScriptData(e,t,i){let r=N.parseScriptData(e,t,i);if(r.hasOwnProperty("onMetaData")){if(null==r.onMetaData||"object"!=typeof r.onMetaData)return void l.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&l.w(this.TAG,"Found another onMetaData tag!"),this._metadata=r;let e=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},e)),"boolean"==typeof e.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=e.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof e.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=e.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof e.audiodatarate&&(this._mediaInfo.audioDataRate=e.audiodatarate),"number"==typeof e.videodatarate&&(this._mediaInfo.videoDataRate=e.videodatarate),"number"==typeof e.width&&(this._mediaInfo.width=e.width),"number"==typeof e.height&&(this._mediaInfo.height=e.height),"number"==typeof e.duration){if(!this._durationOverrided){let t=Math.floor(e.duration*this._timescale);this._duration=t,this._mediaInfo.duration=t}}else this._mediaInfo.duration=0;if("number"==typeof e.framerate){let t=Math.floor(1e3*e.framerate);if(t>0){let e=t/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=e,this._referenceFrameRate.fps_num=t,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=e}}if("object"==typeof e.keyframes){this._mediaInfo.hasKeyframesIndex=!0;let t=e.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(t),e.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=e,l.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(r).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},r))}_parseKeyframesIndex(e){let t=[],i=[];for(let r=1;r<e.times.length;r++){let n=this._timestampBase+Math.floor(1e3*e.times[r]);t.push(n),i.push(e.filepositions[r])}return{times:t,filepositions:i}}_parseAudioData(e,t,i,r){if(i<=1)return void l.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");if(!0===this._hasAudioFlagOverrided&&!1===this._hasAudio)return;this._littleEndian;let n=new DataView(e,t,i).getUint8(0),s=n>>>4;if(2!==s&&10!==s)return void this._onError(z.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+s);let a=0,o=(12&n)>>>2;if(!(o>=0&&o<=4))return void this._onError(z.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+o);a=this._flvSoundRateTable[o];let h=1&n,u=this._audioMetadata,c=this._audioTrack;if(u||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(u=this._audioMetadata={}).type="audio",u.id=c.id,u.timescale=this._timescale,u.duration=this._duration,u.audioSampleRate=a,u.channelCount=0===h?1:2),10===s){let n=this._parseAACAudioData(e,t+1,i-1);if(void 0==n)return;if(0===n.packetType){u.config&&l.w(this.TAG,"Found another AudioSpecificConfig!");let e=n.data;u.audioSampleRate=e.samplingRate,u.channelCount=e.channelCount,u.codec=e.codec,u.originalCodec=e.originalCodec,u.config=e.config,u.refSampleDuration=1024/u.audioSampleRate*u.timescale,l.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",u);let t=this._mediaInfo;t.audioCodec=u.originalCodec,t.audioSampleRate=u.audioSampleRate,t.audioChannelCount=u.channelCount,t.hasVideo?null!=t.videoCodec&&(t.mimeType='video/x-flv; codecs="'+t.videoCodec+","+t.audioCodec+'"'):t.mimeType='video/x-flv; codecs="'+t.audioCodec+'"',t.isComplete()&&this._onMediaInfo(t)}else if(1===n.packetType){let e=this._timestampBase+r,t={unit:n.data,length:n.data.byteLength,dts:e,pts:e};c.samples.push(t),c.length+=n.data.length}else l.e(this.TAG,`Flv: Unsupported AAC data type ${n.packetType}`)}else if(2===s){if(!u.codec){let r=this._parseMP3AudioData(e,t+1,i-1,!0);if(void 0==r)return;u.audioSampleRate=r.samplingRate,u.channelCount=r.channelCount,u.codec=r.codec,u.originalCodec=r.originalCodec,u.refSampleDuration=1152/u.audioSampleRate*u.timescale,l.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",u);let n=this._mediaInfo;n.audioCodec=u.codec,n.audioSampleRate=u.audioSampleRate,n.audioChannelCount=u.channelCount,n.audioDataRate=r.bitRate,n.hasVideo?null!=n.videoCodec&&(n.mimeType='video/x-flv; codecs="'+n.videoCodec+","+n.audioCodec+'"'):n.mimeType='video/x-flv; codecs="'+n.audioCodec+'"',n.isComplete()&&this._onMediaInfo(n)}let n=this._parseMP3AudioData(e,t+1,i-1,!1);if(void 0==n)return;let s=this._timestampBase+r,a={unit:n,length:n.byteLength,dts:s,pts:s};c.samples.push(a),c.length+=n.length}}_parseAACAudioData(e,t,i){if(i<=1)return void l.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");let r={},n=new Uint8Array(e,t,i);return r.packetType=n[0],0===n[0]?r.data=this._parseAACAudioSpecificConfig(e,t+1,i-1):r.data=n.subarray(1),r}_parseAACAudioSpecificConfig(e,t,i){let r=new Uint8Array(e,t,i),n=null,s=0,a=0,o=null,l=0,h=null;if(s=a=r[0]>>>3,(l=(7&r[0])<<1|r[1]>>>7)<0||l>=this._mpegSamplingRates.length)return void this._onError(z.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");let u=this._mpegSamplingRates[l],c=(120&r[1])>>>3;if(c<0||c>=8)return void this._onError(z.FORMAT_ERROR,"Flv: AAC invalid channel configuration");5===s&&(h=(7&r[1])<<1|r[2]>>>7,o=(124&r[2])>>>2);let d=self.navigator.userAgent.toLowerCase();return-1!==d.indexOf("firefox")?l>=6?(s=5,n=new Array(4),h=l-3):(s=2,n=new Array(2),h=l):-1!==d.indexOf("android")?(s=2,n=new Array(2),h=l):(s=5,h=l,n=new Array(4),l>=6?h=l-3:1===c&&(s=2,n=new Array(2),h=l)),n[0]=s<<3,n[0]|=(15&l)>>>1,n[1]=(15&l)<<7,n[1]|=(15&c)<<3,5===s&&(n[1]|=(15&h)>>>1,n[2]=(1&h)<<7,n[2]|=8,n[3]=0),{config:n,samplingRate:u,channelCount:c,codec:"mp4a.40."+s,originalCodec:"mp4a.40."+a}}_parseMP3AudioData(e,t,i,r){if(i<4)return void l.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");this._littleEndian;let n=new Uint8Array(e,t,i),s=null;if(r){if(255!==n[0])return;let e=n[1]>>>3&3,t=(6&n[1])>>1,i=(240&n[2])>>>4,r=(12&n[2])>>>2,a=3!==(n[3]>>>6&3)?2:1,o=0,l=0,h=34,u="mp3";switch(e){case 0:o=this._mpegAudioV25SampleRateTable[r];break;case 2:o=this._mpegAudioV20SampleRateTable[r];break;case 3:o=this._mpegAudioV10SampleRateTable[r]}switch(t){case 1:h=34,i<this._mpegAudioL3BitRateTable.length&&(l=this._mpegAudioL3BitRateTable[i]);break;case 2:h=33,i<this._mpegAudioL2BitRateTable.length&&(l=this._mpegAudioL2BitRateTable[i]);break;case 3:h=32,i<this._mpegAudioL1BitRateTable.length&&(l=this._mpegAudioL1BitRateTable[i])}s={bitRate:l,samplingRate:o,channelCount:a,codec:u,originalCodec:u}}else s=n;return s}_parseVideoData(e,t,i,r,n){if(i<=1)return void l.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");if(!0===this._hasVideoFlagOverrided&&!1===this._hasVideo)return;let s=new Uint8Array(e,t,i)[0],a=(240&s)>>>4,o=15&s;7===o?this._parseAVCVideoPacket(e,t+1,i-1,r,n,a):this._onError(z.CODEC_UNSUPPORTED,`Flv: Unsupported codec in video frame: ${o}`)}_parseAVCVideoPacket(e,t,i,r,n,s){if(i<4)return void l.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");let a=this._littleEndian,o=new DataView(e,t,i),h=o.getUint8(0),u=(16777215&o.getUint32(0,!a))<<8>>8;if(0===h)this._parseAVCDecoderConfigurationRecord(e,t+4,i-4);else if(1===h)this._parseAVCVideoData(e,t+4,i-4,r,n,s,u);else if(2!==h)return void this._onError(z.FORMAT_ERROR,`Flv: Invalid video packet type ${h}`)}_parseAVCDecoderConfigurationRecord(e,t,i){if(i<7)return void l.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");let r=this._videoMetadata,n=this._videoTrack,s=this._littleEndian,a=new DataView(e,t,i);r?void 0!==r.avcc&&l.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(r=this._videoMetadata={}).type="video",r.id=n.id,r.timescale=this._timescale,r.duration=this._duration);let o=a.getUint8(0),h=a.getUint8(1);a.getUint8(2),a.getUint8(3);if(1!==o||0===h)return void this._onError(z.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");if(this._naluLengthSize=1+(3&a.getUint8(4)),3!==this._naluLengthSize&&4!==this._naluLengthSize)return void this._onError(z.FORMAT_ERROR,`Flv: Strange NaluLengthSizeMinusOne: ${this._naluLengthSize-1}`);let u=31&a.getUint8(5);if(0===u)return void this._onError(z.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");u>1&&l.w(this.TAG,`Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ${u}`);let c=6;for(let i=0;i<u;i++){let n=a.getUint16(c,!s);if(c+=2,0===n)continue;let o=new Uint8Array(e,t+c,n);c+=n;let l=V.parseSPS(o);if(0!==i)continue;r.codecWidth=l.codec_size.width,r.codecHeight=l.codec_size.height,r.presentWidth=l.present_size.width,r.presentHeight=l.present_size.height,r.profile=l.profile_string,r.level=l.level_string,r.bitDepth=l.bit_depth,r.chromaFormat=l.chroma_format,r.sarRatio=l.sar_ratio,r.frameRate=l.frame_rate,!1!==l.frame_rate.fixed&&0!==l.frame_rate.fps_num&&0!==l.frame_rate.fps_den||(r.frameRate=this._referenceFrameRate);let h=r.frameRate.fps_den,u=r.frameRate.fps_num;r.refSampleDuration=r.timescale*(h/u);let d=o.subarray(1,4),p="avc1.";for(let e=0;e<3;e++){let t=d[e].toString(16);t.length<2&&(t="0"+t),p+=t}r.codec=p;let f=this._mediaInfo;f.width=r.codecWidth,f.height=r.codecHeight,f.fps=r.frameRate.fps,f.profile=r.profile,f.level=r.level,f.refFrames=l.ref_frames,f.chromaFormat=l.chroma_format_string,f.sarNum=r.sarRatio.width,f.sarDen=r.sarRatio.height,f.videoCodec=p,f.hasAudio?null!=f.audioCodec&&(f.mimeType='video/x-flv; codecs="'+f.videoCodec+","+f.audioCodec+'"'):f.mimeType='video/x-flv; codecs="'+f.videoCodec+'"',f.isComplete()&&this._onMediaInfo(f)}let d=a.getUint8(c);if(0!==d){d>1&&l.w(this.TAG,`Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ${d}`),c++;for(let e=0;e<d;e++){let e=a.getUint16(c,!s);c+=2,0!==e&&(c+=e)}r.avcc=new Uint8Array(i),r.avcc.set(new Uint8Array(e,t,i),0),l.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",r)}else this._onError(z.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}_parseAVCVideoData(e,t,i,r,n,s,a){let o=this._littleEndian,h=new DataView(e,t,i),u=[],c=0,d=0;const p=this._naluLengthSize;let f=this._timestampBase+r,m=1===s;for(;d<i;){if(d+4>=i){l.w(this.TAG,`Malformed Nalu near timestamp ${f}, offset = ${d}, dataSize = ${i}`);break}let r=h.getUint32(d,!o);if(3===p&&(r>>>=8),r>i-p)return void l.w(this.TAG,`Malformed Nalus near timestamp ${f}, NaluSize > DataSize!`);let n=31&h.getUint8(d+p);5===n&&(m=!0);let s=new Uint8Array(e,t+d,p+r),a={type:n,data:s};u.push(a),c+=s.byteLength,d+=p+r}if(u.length){let e=this._videoTrack,t={units:u,length:c,isKeyframe:m,dts:f,cts:a,pts:f+a};m&&(t.fileposition=n),e.samples.push(t),e.length+=c}}}var H=G;class ${static init(){$.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(let e in $.types)$.types.hasOwnProperty(e)&&($.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);let e=$.constants={};e.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),e.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),e.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSC=e.STCO=e.STTS,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),e.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),e.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}static box(e){let t=8,i=null,r=Array.prototype.slice.call(arguments,1),n=r.length;for(let e=0;e<n;e++)t+=r[e].byteLength;(i=new Uint8Array(t))[0]=t>>>24&255,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=255&t,i.set(e,4);let s=8;for(let e=0;e<n;e++)i.set(r[e],s),s+=r[e].byteLength;return i}static generateInitSegment(e){let t=$.box($.types.ftyp,$.constants.FTYP),i=$.moov(e),r=new Uint8Array(t.byteLength+i.byteLength);return r.set(t,0),r.set(i,t.byteLength),r}static moov(e){let t=$.mvhd(e.timescale,e.duration),i=$.trak(e),r=$.mvex(e);return $.box($.types.moov,t,i,r)}static mvhd(e,t){return $.box($.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}static trak(e){return $.box($.types.trak,$.tkhd(e),$.mdia(e))}static tkhd(e){let t=e.id,i=e.duration,r=e.presentWidth,n=e.presentHeight;return $.box($.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>>8&255,255&r,0,0,n>>>8&255,255&n,0,0]))}static mdia(e){return $.box($.types.mdia,$.mdhd(e),$.hdlr(e),$.minf(e))}static mdhd(e){let t=e.timescale,i=e.duration;return $.box($.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,i>>>24&255,i>>>16&255,i>>>8&255,255&i,85,196,0,0]))}static hdlr(e){let t=null;return t="audio"===e.type?$.constants.HDLR_AUDIO:$.constants.HDLR_VIDEO,$.box($.types.hdlr,t)}static minf(e){let t=null;return t="audio"===e.type?$.box($.types.smhd,$.constants.SMHD):$.box($.types.vmhd,$.constants.VMHD),$.box($.types.minf,t,$.dinf(),$.stbl(e))}static dinf(){return $.box($.types.dinf,$.box($.types.dref,$.constants.DREF))}static stbl(e){return $.box($.types.stbl,$.stsd(e),$.box($.types.stts,$.constants.STTS),$.box($.types.stsc,$.constants.STSC),$.box($.types.stsz,$.constants.STSZ),$.box($.types.stco,$.constants.STCO))}static stsd(e){return"audio"===e.type?"mp3"===e.codec?$.box($.types.stsd,$.constants.STSD_PREFIX,$.mp3(e)):$.box($.types.stsd,$.constants.STSD_PREFIX,$.mp4a(e)):$.box($.types.stsd,$.constants.STSD_PREFIX,$.avc1(e))}static mp3(e){let t=e.channelCount,i=e.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return $.box($.types[".mp3"],r)}static mp4a(e){let t=e.channelCount,i=e.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return $.box($.types.mp4a,r,$.esds(e))}static esds(e){let t=e.config||[],i=t.length,r=new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(t).concat([6,1,2]));return $.box($.types.esds,r)}static avc1(e){let t=e.avcc,i=e.codecWidth,r=e.codecHeight,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return $.box($.types.avc1,n,$.box($.types.avcC,t))}static mvex(e){return $.box($.types.mvex,$.trex(e))}static trex(e){let t=e.id,i=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return $.box($.types.trex,i)}static moof(e,t){return $.box($.types.moof,$.mfhd(e.sequenceNumber),$.traf(e,t))}static mfhd(e){let t=new Uint8Array([0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e]);return $.box($.types.mfhd,t)}static traf(e,t){let i=e.id,r=$.box($.types.tfhd,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),n=$.box($.types.tfdt,new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t])),s=$.sdtp(e),a=$.trun(e,s.byteLength+16+16+8+16+8+8);return $.box($.types.traf,r,n,a,s)}static sdtp(e){let t=e.samples||[],i=t.length,r=new Uint8Array(4+i);for(let e=0;e<i;e++){let i=t[e].flags;r[e+4]=i.isLeading<<6|i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy}return $.box($.types.sdtp,r)}static trun(e,t){let i=e.samples||[],r=i.length,n=12+16*r,s=new Uint8Array(n);t+=8+n,s.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,t>>>24&255,t>>>16&255,t>>>8&255,255&t],0);for(let e=0;e<r;e++){let t=i[e].duration,r=i[e].size,n=i[e].flags,a=i[e].cts;s.set([t>>>24&255,t>>>16&255,t>>>8&255,255&t,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n.isLeading<<2|n.dependsOn,n.isDependedOn<<6|n.hasRedundancy<<4|n.isNonSync,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a],12+16*e)}return $.box($.types.trun,s)}static mdat(e){return $.box($.types.mdat,e)}}$.init();var q=$;var W=class{static getSilentFrame(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}};class X{constructor(e,t,i,r,n){this.dts=e,this.pts=t,this.duration=i,this.originalDts=r,this.isSyncPoint=n,this.fileposition=null}}class Y{constructor(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}appendSyncPoint(e){e.isSyncPoint=!0,this.syncPoints.push(e)}}class K{constructor(){this._list=[]}clear(){this._list=[]}appendArray(e){let t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))}getLastSyncPointBeforeDts(e){if(0==this._list.length)return null;let t=this._list,i=0,r=t.length-1,n=0,s=0,a=r;for(e<t[0].dts&&(i=0,s=a+1);s<=a;){if((n=s+Math.floor((a-s)/2))===r||e>=t[n].dts&&e<t[n+1].dts){i=n;break}t[n].dts<e?s=n+1:a=n-1}return this._list[i]}}class Q{constructor(e){this._type=e,this._list=[],this._lastAppendLocation=-1}get type(){return this._type}get length(){return this._list.length}isEmpty(){return 0===this._list.length}clear(){this._list=[],this._lastAppendLocation=-1}_searchNearestSegmentBefore(e){let t=this._list;if(0===t.length)return-2;let i=t.length-1,r=0,n=0,s=i,a=0;if(e<t[0].originalBeginDts)return a=-1;for(;n<=s;){if((r=n+Math.floor((s-n)/2))===i||e>t[r].lastSample.originalDts&&e<t[r+1].originalBeginDts){a=r;break}t[r].originalBeginDts<e?n=r+1:s=r-1}return a}_searchNearestSegmentAfter(e){return this._searchNearestSegmentBefore(e)+1}append(e){let t=this._list,i=e,r=this._lastAppendLocation,n=0;-1!==r&&r<t.length&&i.originalBeginDts>=t[r].lastSample.originalDts&&(r===t.length-1||r<t.length-1&&i.originalBeginDts<t[r+1].originalBeginDts)?n=r+1:t.length>0&&(n=this._searchNearestSegmentBefore(i.originalBeginDts)+1),this._lastAppendLocation=n,this._list.splice(n,0,i)}getLastSegmentBefore(e){let t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null}getLastSampleBefore(e){let t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null}getLastSyncPointBefore(e){let t=this._searchNearestSegmentBefore(e),i=this._list[t].syncPoints;for(;0===i.length&&t>0;)t--,i=this._list[t].syncPoints;return i.length>0?i[i.length-1]:null}}var J=class{constructor(e){this.TAG="MP4Remuxer",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new Q("audio"),this._videoSegmentInfoList=new Q("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!y.chrome||!(y.version.major<50||50===y.version.major&&y.version.build<2661)),this._fillSilentAfterSeek=y.msedge||y.msie,this._mp3UseMpegAudio=!y.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}destroy(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}bindDataSource(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}get onInitSegment(){return this._onInitSegment}set onInitSegment(e){this._onInitSegment=e}get onMediaSegment(){return this._onMediaSegment}set onMediaSegment(e){this._onMediaSegment=e}insertDiscontinuity(){this._audioNextDts=this._videoNextDts=void 0}seek(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}remux(e,t){if(!this._onMediaSegment)throw new c("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)}_onTrackMetadataReceived(e,t){let i=null,r="mp4",n=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(r="mpeg",n="",i=new Uint8Array):i=q.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,i=q.generateInitSegment(t)}if(!this._onInitSegment)throw new c("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:i.buffer,codec:n,container:`${e}/${r}`,mediaDuration:t.duration})}_calculateDtsBase(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}flushStashedSamples(){let e=this._videoStashedLastSample,t=this._audioStashedLastSample,i={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(i.samples.push(e),i.length=e.length);let r={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(r.samples.push(t),r.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(i,!0),this._remuxAudio(r,!0)}_remuxAudio(e,t){if(null==this._audioMeta)return;let i=e,r=i.samples,n=void 0,s=-1,a=-1,o=this._audioMeta.refSampleDuration,h="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,u=this._dtsBaseInited&&void 0===this._audioNextDts,c=!1;if(!r||0===r.length)return;if(1===r.length&&!t)return;let d=0,p=null,f=0;h?(d=0,f=i.length):(d=8,f=8+i.length);let m=null;if(r.length>1&&(f-=(m=r.pop()).length),null!=this._audioStashedLastSample){let e=this._audioStashedLastSample;this._audioStashedLastSample=null,r.unshift(e),f+=e.length}null!=m&&(this._audioStashedLastSample=m);let g=r[0].dts-this._dtsBase;if(this._audioNextDts)n=g-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())n=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(c=!0);else{let e=this._audioSegmentInfoList.getLastSampleBefore(g);if(null!=e){let t=g-(e.originalDts+e.duration);t<=3&&(t=0),n=g-(e.dts+e.duration+t)}else n=0}if(c){let e=g-n,t=this._videoSegmentInfoList.getLastSegmentBefore(g);if(null!=t&&t.beginDts<e){let i=W.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(i){let n=t.beginDts,s=e-t.beginDts;l.v(this.TAG,`InsertPrefixSilentAudio: dts: ${n}, duration: ${s}`),r.unshift({unit:i,dts:n,pts:n}),f+=i.byteLength}}else c=!1}let v=[];for(let e=0;e<r.length;e++){let t=r[e],i=t.unit,a=t.dts-this._dtsBase,h=a-n;-1===s&&(s=h);let u=0,c=!1,d=null;if((u=e!==r.length-1?r[e+1].dts-this._dtsBase-n-h:null!=m?m.dts-this._dtsBase-n-h:v.length>=1?v[v.length-1].duration:Math.floor(o))>1.5*o&&"mp3"!==this._audioMeta.codec&&this._fillAudioTimestampGap&&!y.safari){c=!0;let e=Math.abs(u-o),t=Math.ceil(e/o),r=h+o;l.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\n"+`dts: ${h+u} ms, expected: ${h+Math.round(o)} ms, `+`delta: ${Math.round(e)} ms, generate: ${t} frames`);let n=W.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==n&&(l.w(this.TAG,"Unable to generate silent frame for "+`${this._audioMeta.originalCodec} with ${this._audioMeta.channelCount} channels, repeat last frame`),n=i),d=[];for(let e=0;e<t;e++){let e=Math.round(r);if(d.length>0){let t=d[d.length-1];t.duration=e-t.dts}let t={dts:e,pts:e,cts:0,unit:n,size:n.byteLength,duration:0,originalDts:a,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};d.push(t),f+=t.size,r+=o}let s=d[d.length-1];s.duration=h+u-s.dts,u=Math.round(o)}v.push({dts:h,pts:h,cts:0,unit:t.unit,size:t.unit.byteLength,duration:u,originalDts:a,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),c&&v.push.apply(v,d)}h?p=new Uint8Array(f):((p=new Uint8Array(f))[0]=f>>>24&255,p[1]=f>>>16&255,p[2]=f>>>8&255,p[3]=255&f,p.set(q.types.mdat,4));for(let e=0;e<v.length;e++){let t=v[e].unit;p.set(t,d),d+=t.byteLength}let _=v[v.length-1];a=_.dts+_.duration,this._audioNextDts=a;let b=new Y;b.beginDts=s,b.endDts=a,b.beginPts=s,b.endPts=a,b.originalBeginDts=v[0].originalDts,b.originalEndDts=_.originalDts+_.duration,b.firstSample=new X(v[0].dts,v[0].pts,v[0].duration,v[0].originalDts,!1),b.lastSample=new X(_.dts,_.pts,_.duration,_.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(b),i.samples=v,i.sequenceNumber++;let T=null;T=h?new Uint8Array:q.moof(i,s),i.samples=[],i.length=0;let S={type:"audio",data:this._mergeBoxes(T,p).buffer,sampleCount:v.length,info:b};h&&u&&(S.timestampOffset=s),this._onMediaSegment("audio",S)}_remuxVideo(e,t){if(null==this._videoMeta)return;let i=e,r=i.samples,n=void 0,s=-1,a=-1,o=-1,l=-1;if(!r||0===r.length)return;if(1===r.length&&!t)return;let h=8,u=null,c=8+e.length,d=null;if(r.length>1&&(c-=(d=r.pop()).length),null!=this._videoStashedLastSample){let e=this._videoStashedLastSample;this._videoStashedLastSample=null,r.unshift(e),c+=e.length}null!=d&&(this._videoStashedLastSample=d);let p=r[0].dts-this._dtsBase;if(this._videoNextDts)n=p-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())n=0;else{let e=this._videoSegmentInfoList.getLastSampleBefore(p);if(null!=e){let t=p-(e.originalDts+e.duration);t<=3&&(t=0),n=p-(e.dts+e.duration+t)}else n=0}let f=new Y,m=[];for(let e=0;e<r.length;e++){let t=r[e],i=t.dts-this._dtsBase,a=t.isKeyframe,l=i-n,h=t.cts,u=l+h;-1===s&&(s=l,o=u);let c=0;if(c=e!==r.length-1?r[e+1].dts-this._dtsBase-n-l:null!=d?d.dts-this._dtsBase-n-l:m.length>=1?m[m.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),a){let e=new X(l,u,c,t.dts,!0);e.fileposition=t.fileposition,f.appendSyncPoint(e)}m.push({dts:l,pts:u,cts:h,units:t.units,size:t.length,isKeyframe:a,duration:c,originalDts:i,flags:{isLeading:0,dependsOn:a?2:1,isDependedOn:a?1:0,hasRedundancy:0,isNonSync:a?0:1}})}(u=new Uint8Array(c))[0]=c>>>24&255,u[1]=c>>>16&255,u[2]=c>>>8&255,u[3]=255&c,u.set(q.types.mdat,4);for(let e=0;e<m.length;e++){let t=m[e].units;for(;t.length;){let e=t.shift().data;u.set(e,h),h+=e.byteLength}}let g=m[m.length-1];if(a=g.dts+g.duration,l=g.pts+g.duration,this._videoNextDts=a,f.beginDts=s,f.endDts=a,f.beginPts=o,f.endPts=l,f.originalBeginDts=m[0].originalDts,f.originalEndDts=g.originalDts+g.duration,f.firstSample=new X(m[0].dts,m[0].pts,m[0].duration,m[0].originalDts,m[0].isKeyframe),f.lastSample=new X(g.dts,g.pts,g.duration,g.originalDts,g.isKeyframe),this._isLive||this._videoSegmentInfoList.append(f),i.samples=m,i.sequenceNumber++,this._forceFirstIDR){let e=m[0].flags;e.dependsOn=2,e.isNonSync=0}let v=q.moof(i,s);i.samples=[],i.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(v,u).buffer,sampleCount:m.length,info:f})}_mergeBoxes(e,t){let i=new Uint8Array(e.byteLength+t.byteLength);return i.set(e,0),i.set(t,e.byteLength),i}};var Z={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};var ee=class{constructor(e,t){this.TAG="TransmuxingController",this._emitter=new a.a,this._config=t,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),"boolean"!=typeof e.cors&&(e.cors=!0),"boolean"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e,this._currentSegmentIndex=0;let i=0;this._mediaDataSource.segments.forEach(r=>{r.timestampBase=i,i+=r.duration,r.cors=e.cors,r.withCredentials=e.withCredentials,t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy)}),isNaN(i)||this._mediaDataSource.duration===i||(this._mediaDataSource.duration=i),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}destroy(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null}on(e,t){this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}start(){this._loadSegment(0),this._enableStatisticsReporter()}_loadSegment(e,t){this._currentSegmentIndex=e;let i=this._mediaDataSource.segments[e],r=this._ioctl=new C(i,this._config,e);r.onError=this._onIOException.bind(this),r.onSeeked=this._onIOSeeked.bind(this),r.onComplete=this._onIOComplete.bind(this),r.onRedirect=this._onIORedirect.bind(this),r.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):r.onDataArrival=this._onInitChunkArrival.bind(this),r.open(t)}stop(){this._internalAbort(),this._disableStatisticsReporter()}_internalAbort(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)}pause(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())}resume(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())}seek(e){if(null==this._mediaInfo||!this._mediaInfo.isSeekable())return;let t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){let i=this._mediaInfo.segments[t];if(void 0==i)this._pendingSeekTime=e;else{let t=i.getNearestKeyframe(e);this._remuxer.seek(t.milliseconds),this._ioctl.seek(t.fileposition),this._pendingResolveSeekPoint=t.milliseconds}}else{let i=this._mediaInfo.segments[t];if(void 0==i)this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t);else{let r=i.getNearestKeyframe(e);this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,r.fileposition),this._pendingResolveSeekPoint=r.milliseconds,this._reportSegmentMediaInfo(t)}}this._enableStatisticsReporter()}_searchSegmentIndexContains(e){let t=this._mediaDataSource.segments,i=t.length-1;for(let r=0;r<t.length;r++)if(e<t[r].timestampBase){i=r-1;break}return i}_onInitChunkArrival(e,t){let i=null,r=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,r=this._demuxer.parseChunks(e,t);else if((i=H.probe(e)).match){this._demuxer=new H(i,this._config),this._remuxer||(this._remuxer=new J(this._config));let n=this._mediaDataSource;void 0==n.duration||isNaN(n.duration)||(this._demuxer.overridedDuration=n.duration),"boolean"==typeof n.hasAudio&&(this._demuxer.overridedHasAudio=n.hasAudio),"boolean"==typeof n.hasVideo&&(this._demuxer.overridedHasVideo=n.hasVideo),this._demuxer.timestampBase=n.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),r=this._demuxer.parseChunks(e,t)}else i=null,l.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(()=>{this._internalAbort()}),this._emitter.emit(Z.DEMUX_ERROR,z.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),r=0;return r}_onMediaInfo(e){null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,L.prototype));let t=Object.assign({},e);Object.setPrototypeOf(t,L.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=t,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then(()=>{let e=this._pendingSeekTime;this._pendingSeekTime=null,this.seek(e)})}_onMetaDataArrived(e){this._emitter.emit(Z.METADATA_ARRIVED,e)}_onScriptDataArrived(e){this._emitter.emit(Z.SCRIPTDATA_ARRIVED,e)}_onIOSeeked(){this._remuxer.insertDiscontinuity()}_onIOComplete(e){let t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer.flushStashedSamples(),this._emitter.emit(Z.LOADING_COMPLETE),this._disableStatisticsReporter())}_onIORedirect(e){let t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e}_onIORecoveredEarlyEof(){this._emitter.emit(Z.RECOVERED_EARLY_EOF)}_onIOException(e,t){l.e(this.TAG,`IOException: type = ${e}, code = ${t.code}, msg = ${t.msg}`),this._emitter.emit(Z.IO_ERROR,e,t),this._disableStatisticsReporter()}_onDemuxException(e,t){l.e(this.TAG,`DemuxException: type = ${e}, info = ${t}`),this._emitter.emit(Z.DEMUX_ERROR,e,t)}_onRemuxerInitSegmentArrival(e,t){this._emitter.emit(Z.INIT_SEGMENT,e,t)}_onRemuxerMediaSegmentArrival(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(Z.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){let e=t.info.syncPoints,i=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,y.safari&&e.length>0&&e[0].originalDts===i&&(i=e[0].pts),this._emitter.emit(Z.RECOMMEND_SEEKPOINT,i)}}_enableStatisticsReporter(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))}_disableStatisticsReporter(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}_reportSegmentMediaInfo(e){let t=this._mediaInfo.segments[e],i=Object.assign({},t);i.duration=this._mediaInfo.duration,i.segmentCount=this._mediaInfo.segmentCount,delete i.segments,delete i.keyframesIndex,this._emitter.emit(Z.MEDIA_INFO,i)}_reportStatisticsInfo(){let e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(Z.STATISTICS_INFO,e)}};var te=function(e){let t=null,i=function(t,i){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:i}})}.bind(this);n.install(),e.addEventListener("message",function(r){switch(r.data.cmd){case"init":(t=new ee(r.data.param[0],r.data.param[1])).on(Z.IO_ERROR,function(t,i){e.postMessage({msg:Z.IO_ERROR,data:{type:t,info:i}})}.bind(this)),t.on(Z.DEMUX_ERROR,function(t,i){e.postMessage({msg:Z.DEMUX_ERROR,data:{type:t,info:i}})}.bind(this)),t.on(Z.INIT_SEGMENT,function(t,i){let r={msg:Z.INIT_SEGMENT,data:{type:t,data:i}};e.postMessage(r,[i.data])}.bind(this)),t.on(Z.MEDIA_SEGMENT,function(t,i){let r={msg:Z.MEDIA_SEGMENT,data:{type:t,data:i}};e.postMessage(r,[i.data])}.bind(this)),t.on(Z.LOADING_COMPLETE,function(){let t={msg:Z.LOADING_COMPLETE};e.postMessage(t)}.bind(this)),t.on(Z.RECOVERED_EARLY_EOF,function(){let t={msg:Z.RECOVERED_EARLY_EOF};e.postMessage(t)}.bind(this)),t.on(Z.MEDIA_INFO,function(t){let i={msg:Z.MEDIA_INFO,data:t};e.postMessage(i)}.bind(this)),t.on(Z.METADATA_ARRIVED,function(t){let i={msg:Z.METADATA_ARRIVED,data:t};e.postMessage(i)}.bind(this)),t.on(Z.SCRIPTDATA_ARRIVED,function(t){let i={msg:Z.SCRIPTDATA_ARRIVED,data:t};e.postMessage(i)}.bind(this)),t.on(Z.STATISTICS_INFO,function(t){let i={msg:Z.STATISTICS_INFO,data:t};e.postMessage(i)}.bind(this)),t.on(Z.RECOMMEND_SEEKPOINT,function(t){e.postMessage({msg:Z.RECOMMEND_SEEKPOINT,data:t})}.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(r.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":{let e=r.data.param;M.applyConfig(e),!0===e.enableCallback?M.addLogListener(i):M.removeLogListener(i);break}}})};var ie=class{constructor(e,t){if(this.TAG="Transmuxer",this._emitter=new a.a,t.enableWorker&&"undefined"!=typeof Worker)try{let r=i("9o4P");this._worker=r(te),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[e,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},M.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:M.getConfig()})}catch(i){l.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new ee(e,t)}else this._controller=new ee(e,t);if(this._controller){let e=this._controller;e.on(Z.IO_ERROR,this._onIOError.bind(this)),e.on(Z.DEMUX_ERROR,this._onDemuxError.bind(this)),e.on(Z.INIT_SEGMENT,this._onInitSegment.bind(this)),e.on(Z.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),e.on(Z.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),e.on(Z.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),e.on(Z.MEDIA_INFO,this._onMediaInfo.bind(this)),e.on(Z.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),e.on(Z.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),e.on(Z.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),e.on(Z.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}destroy(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),M.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null}on(e,t){this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}hasWorker(){return null!=this._worker}open(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()}close(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()}seek(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)}pause(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()}resume(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()}_onInitSegment(e,t){Promise.resolve().then(()=>{this._emitter.emit(Z.INIT_SEGMENT,e,t)})}_onMediaSegment(e,t){Promise.resolve().then(()=>{this._emitter.emit(Z.MEDIA_SEGMENT,e,t)})}_onLoadingComplete(){Promise.resolve().then(()=>{this._emitter.emit(Z.LOADING_COMPLETE)})}_onRecoveredEarlyEof(){Promise.resolve().then(()=>{this._emitter.emit(Z.RECOVERED_EARLY_EOF)})}_onMediaInfo(e){Promise.resolve().then(()=>{this._emitter.emit(Z.MEDIA_INFO,e)})}_onMetaDataArrived(e){Promise.resolve().then(()=>{this._emitter.emit(Z.METADATA_ARRIVED,e)})}_onScriptDataArrived(e){Promise.resolve().then(()=>{this._emitter.emit(Z.SCRIPTDATA_ARRIVED,e)})}_onStatisticsInfo(e){Promise.resolve().then(()=>{this._emitter.emit(Z.STATISTICS_INFO,e)})}_onIOError(e,t){Promise.resolve().then(()=>{this._emitter.emit(Z.IO_ERROR,e,t)})}_onDemuxError(e,t){Promise.resolve().then(()=>{this._emitter.emit(Z.DEMUX_ERROR,e,t)})}_onRecommendSeekpoint(e){Promise.resolve().then(()=>{this._emitter.emit(Z.RECOMMEND_SEEKPOINT,e)})}_onLoggingConfigChanged(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})}_onWorkerMessage(e){let t=e.data,i=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case Z.INIT_SEGMENT:case Z.MEDIA_SEGMENT:this._emitter.emit(t.msg,i.type,i.data);break;case Z.LOADING_COMPLETE:case Z.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case Z.MEDIA_INFO:Object.setPrototypeOf(i,L.prototype),this._emitter.emit(t.msg,i);break;case Z.METADATA_ARRIVED:case Z.SCRIPTDATA_ARRIVED:case Z.STATISTICS_INFO:this._emitter.emit(t.msg,i);break;case Z.IO_ERROR:case Z.DEMUX_ERROR:this._emitter.emit(t.msg,i.type,i.info);break;case Z.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,i);break;case"logcat_callback":l.emitter.emit("log",i.type,i.logcat)}}};var re={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};var ne=class{constructor(e){this.TAG="MSEController",this._config=e,this._emitter=new a.a,this._config.isLive&&void 0==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new K}destroy(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null}on(e,t){this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}attachMediaElement(e){if(this._mediaSource)throw new c("MediaSource has been attached to an HTMLMediaElement!");let t=this._mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL}detachMediaElement(){if(this._mediaSource){let e=this._mediaSource;for(let t in this._sourceBuffers){let i=this._pendingSegments[t];i.splice(0,i.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;let r=this._sourceBuffers[t];if(r){if("closed"!==e.readyState){try{e.removeSourceBuffer(r)}catch(e){l.e(this.TAG,e.message)}r.removeEventListener("error",this.e.onSourceBufferError),r.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){l.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}appendInitSegment(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);let i=e,r=`${i.container}`;i.codec&&i.codec.length>0&&(r+=`;codecs=${i.codec}`);let n=!1;if(l.v(this.TAG,"Received Initialization Segment, mimeType: "+r),this._lastInitSegments[i.type]=i,r!==this._mimeTypes[i.type]){if(this._mimeTypes[i.type])l.v(this.TAG,`Notice: ${i.type} mimeType changed, origin: ${this._mimeTypes[i.type]}, target: ${r}`);else{n=!0;try{let e=this._sourceBuffers[i.type]=this._mediaSource.addSourceBuffer(r);e.addEventListener("error",this.e.onSourceBufferError),e.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return l.e(this.TAG,e.message),void this._emitter.emit(re.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[i.type]=r}t||this._pendingSegments[i.type].push(i),n||this._sourceBuffers[i.type]&&!this._sourceBuffers[i.type].updating&&this._doAppendSegments(),y.safari&&"audio/mpeg"===i.container&&i.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=i.mediaDuration/1e3,this._updateMediaSourceDuration())}appendMediaSegment(e){let t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();let i=this._sourceBuffers[t.type];!i||i.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}seek(e){for(let e in this._sourceBuffers){if(!this._sourceBuffers[e])continue;let t=this._sourceBuffers[e];if("open"===this._mediaSource.readyState)try{t.abort()}catch(e){l.e(this.TAG,e.message)}this._idrList.clear();let i=this._pendingSegments[e];if(i.splice(0,i.length),"closed"!==this._mediaSource.readyState){for(let i=0;i<t.buffered.length;i++){let r=t.buffered.start(i),n=t.buffered.end(i);this._pendingRemoveRanges[e].push({start:r,end:n})}if(t.updating||this._doRemoveRanges(),y.safari){let i=this._lastInitSegments[e];i&&(this._pendingSegments[e].push(i),t.updating||this._doAppendSegments())}}}}endOfStream(){let e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)}getNearestKeyframe(e){return this._idrList.getLastSyncPointBeforeDts(e)}_needCleanupSourceBuffer(){if(!this._config.autoCleanupSourceBuffer)return!1;let e=this._mediaElement.currentTime;for(let t in this._sourceBuffers){let i=this._sourceBuffers[t];if(i){let t=i.buffered;if(t.length>=1&&e-t.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1}_doCleanupSourceBuffer(){let e=this._mediaElement.currentTime;for(let t in this._sourceBuffers){let i=this._sourceBuffers[t];if(i){let r=i.buffered,n=!1;for(let i=0;i<r.length;i++){let s=r.start(i),a=r.end(i);if(s<=e&&e<a+3){if(e-s>=this._config.autoCleanupMaxBackwardDuration){n=!0;let i=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:s,end:i})}}else a<e&&(n=!0,this._pendingRemoveRanges[t].push({start:s,end:a}))}n&&!i.updating&&this._doRemoveRanges()}}}_updateMediaSourceDuration(){let e=this._sourceBuffers;if(0===this._mediaElement.readyState||"open"!==this._mediaSource.readyState)return;if(e.video&&e.video.updating||e.audio&&e.audio.updating)return;let t=this._mediaSource.duration,i=this._pendingMediaDuration;i>0&&(isNaN(t)||i>t)&&(l.v(this.TAG,`Update MediaSource duration from ${t} to ${i}`),this._mediaSource.duration=i),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}_doRemoveRanges(){for(let e in this._pendingRemoveRanges){if(!this._sourceBuffers[e]||this._sourceBuffers[e].updating)continue;let t=this._sourceBuffers[e],i=this._pendingRemoveRanges[e];for(;i.length&&!t.updating;){let e=i.shift();t.remove(e.start,e.end)}}}_doAppendSegments(){let e=this._pendingSegments;for(let t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){let i=e[t].shift();if(i.timestampOffset){let e=this._sourceBuffers[t].timestampOffset,r=i.timestampOffset/1e3;Math.abs(e-r)>.1&&(l.v(this.TAG,`Update MPEG audio timestampOffset from ${e} to ${r}`),this._sourceBuffers[t].timestampOffset=r),delete i.timestampOffset}if(!i.data||0===i.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(i.data),this._isBufferFull=!1,"video"===t&&i.hasOwnProperty("info")&&this._idrList.appendArray(i.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(i),22===e.code?(this._isBufferFull||this._emitter.emit(re.BUFFER_FULL),this._isBufferFull=!0):(l.e(this.TAG,e.message),this._emitter.emit(re.ERROR,{code:e.code,msg:e.message}))}}}_onSourceOpen(){if(l.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0){let e=this._pendingSourceBufferInit;for(;e.length;){let t=e.shift();this.appendInitSegment(t,!0)}}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(re.SOURCE_OPEN)}_onSourceEnded(){l.v(this.TAG,"MediaSource onSourceEnded")}_onSourceClose(){l.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}_hasPendingSegments(){let e=this._pendingSegments;return e.video.length>0||e.audio.length>0}_hasPendingRemoveRanges(){let e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0}_onSourceBufferUpdateEnd(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(re.UPDATE_END)}_onSourceBufferError(e){l.e(this.TAG,`SourceBuffer Error: ${e}`)}};const se={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},ae={NETWORK_EXCEPTION:m.EXCEPTION,NETWORK_STATUS_CODE_INVALID:m.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:m.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:m.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:z.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:z.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:z.CODEC_UNSUPPORTED};var oe=class{constructor(e,t){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new a.a,this._config=k(),"object"==typeof t&&Object.assign(this._config,t),"flv"!==e.type.toLowerCase())throw new d("FlvPlayer requires an flv MediaDataSource input!");!0===e.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=e,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;let i=y.chrome&&(y.version.major<50||50===y.version.major&&y.version.build<2661);this._alwaysSeekKeyframe=!!(i||y.msedge||y.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}destroy(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}on(e,t){e===I.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then(()=>{this._emitter.emit(I.MEDIA_INFO,this.mediaInfo)}):e===I.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then(()=>{this._emitter.emit(I.STATISTICS_INFO,this.statisticsInfo)}),this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}attachMediaElement(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new ne(this._config),this._msectl.on(re.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(re.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(re.SOURCE_OPEN,()=>{this._mseSourceOpened=!0,this._hasPendingLoad&&(this._hasPendingLoad=!1,this.load())}),this._msectl.on(re.ERROR,e=>{this._emitter.emit(I.ERROR,se.MEDIA_ERROR,ae.MEDIA_MSE_ERROR,e)}),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}detachMediaElement(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)}load(){if(!this._mediaElement)throw new c("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new c("FlvPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new ie(this._mediaDataSource,this._config),this._transmuxer.on(Z.INIT_SEGMENT,(e,t)=>{this._msectl.appendInitSegment(t)}),this._transmuxer.on(Z.MEDIA_SEGMENT,(e,t)=>{if(this._msectl.appendMediaSegment(t),this._config.lazyLoad&&!this._config.isLive){let e=this._mediaElement.currentTime;t.info.endDts>=1e3*(e+this._config.lazyLoadMaxDuration)&&null==this._progressChecker&&(l.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}}),this._transmuxer.on(Z.LOADING_COMPLETE,()=>{this._msectl.endOfStream(),this._emitter.emit(I.LOADING_COMPLETE)}),this._transmuxer.on(Z.RECOVERED_EARLY_EOF,()=>{this._emitter.emit(I.RECOVERED_EARLY_EOF)}),this._transmuxer.on(Z.IO_ERROR,(e,t)=>{this._emitter.emit(I.ERROR,se.NETWORK_ERROR,e,t)}),this._transmuxer.on(Z.DEMUX_ERROR,(e,t)=>{this._emitter.emit(I.ERROR,se.MEDIA_ERROR,e,{code:-1,msg:t})}),this._transmuxer.on(Z.MEDIA_INFO,e=>{this._mediaInfo=e,this._emitter.emit(I.MEDIA_INFO,Object.assign({},e))}),this._transmuxer.on(Z.METADATA_ARRIVED,e=>{this._emitter.emit(I.METADATA_ARRIVED,e)}),this._transmuxer.on(Z.SCRIPTDATA_ARRIVED,e=>{this._emitter.emit(I.SCRIPTDATA_ARRIVED,e)}),this._transmuxer.on(Z.STATISTICS_INFO,e=>{this._statisticsInfo=this._fillStatisticsInfo(e),this._emitter.emit(I.STATISTICS_INFO,Object.assign({},this._statisticsInfo))}),this._transmuxer.on(Z.RECOMMEND_SEEKPOINT,e=>{this._mediaElement&&!this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e/1e3)}),this._transmuxer.open()))}unload(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)}play(){return this._mediaElement.play()}pause(){this._mediaElement.pause()}get type(){return this._type}get buffered(){return this._mediaElement.buffered}get duration(){return this._mediaElement.duration}get volume(){return this._mediaElement.volume}set volume(e){this._mediaElement.volume=e}get muted(){return this._mediaElement.muted}set muted(e){this._mediaElement.muted=e}get currentTime(){return this._mediaElement?this._mediaElement.currentTime:0}set currentTime(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e}get mediaInfo(){return Object.assign({},this._mediaInfo)}get statisticsInfo(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}_fillStatisticsInfo(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;let t=!0,i=0,r=0;if(this._mediaElement.getVideoPlaybackQuality){let e=this._mediaElement.getVideoPlaybackQuality();i=e.totalVideoFrames,r=e.droppedVideoFrames}else void 0!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,r=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=r),e}_onmseUpdateEnd(){if(!this._config.lazyLoad||this._config.isLive)return;let e=this._mediaElement.buffered,t=this._mediaElement.currentTime,i=0,r=0;for(let n=0;n<e.length;n++){let s=e.start(n),a=e.end(n);if(s<=t&&t<a){i=s,r=a;break}}r>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(l.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}_onmseBufferFull(){l.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()}_suspendTransmuxer(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))}_checkProgressAndResume(){let e=this._mediaElement.currentTime,t=this._mediaElement.buffered,i=!1;for(let r=0;r<t.length;r++){let n=t.start(r),s=t.end(r);if(e>=n&&e<s){e>=s-this._config.lazyLoadRecoverDuration&&(i=!0);break}}i&&(window.clearInterval(this._progressChecker),this._progressChecker=null,i&&(l.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))}_isTimepointBuffered(e){let t=this._mediaElement.buffered;for(let i=0;i<t.length;i++){let r=t.start(i),n=t.end(i);if(e>=r&&e<n)return!0}return!1}_internalSeek(e){let t=this._isTimepointBuffered(e),i=!1,r=0;if(e<1&&this._mediaElement.buffered.length>0){let t=this._mediaElement.buffered.start(0);(t<1&&e<t||y.safari)&&(i=!0,r=y.safari?.1:t)}if(i)this._requestSetTime=!0,this._mediaElement.currentTime=r;else if(t){if(this._alwaysSeekKeyframe){let t=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=t?t.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)}_checkAndApplyUnbufferedSeekpoint(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){let e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}_checkAndResumeStuckPlayback(e){let t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){let e=t.buffered;e.length>0&&t.currentTime<e.start(0)&&(l.w(this.TAG,`Playback seems stuck at ${t.currentTime}, seek to ${e.start(0)}`),this._requestSetTime=!0,this._mediaElement.currentTime=e.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)}_onvLoadedMetadata(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)}_onvSeeking(e){let t=this._mediaElement.currentTime,i=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&i.length>0){let e=i.start(0);if(e<1&&t<e||y.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=y.safari?.1:e)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){let e=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=e&&(this._requestSetTime=!0,this._mediaElement.currentTime=e.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}}_onvCanPlay(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)}_onvStalled(e){this._checkAndResumeStuckPlayback(!0)}_onvProgress(e){this._checkAndResumeStuckPlayback()}};var le=class{constructor(e,t){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new a.a,this._config=k(),"object"==typeof t&&Object.assign(this._config,t),"flv"===e.type.toLowerCase())throw new d("NativePlayer does't support flv MediaDataSource input!");if(e.hasOwnProperty("segments"))throw new d(`NativePlayer(${e.type}) doesn't support multipart playback!`);this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=e,this._mediaElement=null}destroy(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}on(e,t){e===I.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(()=>{this._emitter.emit(I.MEDIA_INFO,this.mediaInfo)}):e===I.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(()=>{this._emitter.emit(I.STATISTICS_INFO,this.statisticsInfo)}),this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}attachMediaElement(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}detachMediaElement(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}load(){if(!this._mediaElement)throw new c("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)}unload(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}play(){return this._mediaElement.play()}pause(){this._mediaElement.pause()}get type(){return this._type}get buffered(){return this._mediaElement.buffered}get duration(){return this._mediaElement.duration}get volume(){return this._mediaElement.volume}set volume(e){this._mediaElement.volume=e}get muted(){return this._mediaElement.muted}set muted(e){this._mediaElement.muted=e}get currentTime(){return this._mediaElement?this._mediaElement.currentTime:0}set currentTime(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e}get mediaInfo(){let e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e}get statisticsInfo(){let e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;let t=!0,i=0,r=0;if(this._mediaElement.getVideoPlaybackQuality){let e=this._mediaElement.getVideoPlaybackQuality();i=e.totalVideoFrames,r=e.droppedVideoFrames}else void 0!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,r=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=r),e}_onvLoadedMetadata(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(I.MEDIA_INFO,this.mediaInfo)}_reportStatisticsInfo(){this._emitter.emit(I.STATISTICS_INFO,this.statisticsInfo)}};n.install();let he={createPlayer:function(e,t){let i=e;if(null==i||"object"!=typeof i)throw new d("MediaDataSource must be an javascript object!");if(!i.hasOwnProperty("type"))throw new d("MediaDataSource must has type field to indicate video file type!");switch(i.type){case"flv":return new oe(i,t);default:return new le(i,t)}},isSupported:function(){return P.supportMSEH264Playback()},getFeatureList:function(){return P.getFeatureList()}};he.BaseLoader=g,he.LoaderStatus=f,he.LoaderErrors=m,he.Events=I,he.ErrorTypes=se,he.ErrorDetails=ae,he.FlvPlayer=oe,he.NativePlayer=le,he.LoggingControl=M,Object.defineProperty(he,"version",{enumerable:!0,get:function(){return"__VERSION__"}});t.a=he},ARpH:function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}},BO1k:function(e,t,i){e.exports={default:i("fxRn"),__esModule:!0}},CXw9:function(e,t,i){"use strict";var r,n,s,a,o=i("O4g8"),l=i("7KvD"),h=i("+ZMJ"),u=i("RY/4"),c=i("kM2E"),d=i("EqjI"),p=i("lOnJ"),f=i("2KxR"),m=i("NWt+"),g=i("t8x9"),v=i("L42u").set,y=i("82Mu")(),_=i("qARP"),b=i("dNDb"),T=i("iUbK"),S=i("fJUb"),E=l.TypeError,w=l.process,C=w&&w.versions,x=C&&C.v8||"",k=l.Promise,A="process"==u(w),P=function(){},I=n=_.f,D=!!function(){try{var e=k.resolve(1),t=(e.constructor={})[i("dSzd")("species")]=function(e){e(P,P)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==x.indexOf("6.6")&&-1===T.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},L=function(e,t){if(!e._n){e._n=!0;var i=e._c;y(function(){for(var r=e._v,n=1==e._s,s=0,a=function(t){var i,s,a,o=n?t.ok:t.fail,l=t.resolve,h=t.reject,u=t.domain;try{o?(n||(2==e._h&&F(e),e._h=1),!0===o?i=r:(u&&u.enter(),i=o(r),u&&(u.exit(),a=!0)),i===t.promise?h(E("Promise-chain cycle")):(s=M(i))?s.call(i,l,h):l(i)):h(r)}catch(e){u&&!a&&u.exit(),h(e)}};i.length>s;)a(i[s++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}},O=function(e){v.call(l,function(){var t,i,r,n=e._v,s=R(e);if(s&&(t=b(function(){A?w.emit("unhandledRejection",n,e):(i=l.onunhandledrejection)?i({promise:e,reason:n}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",n)}),e._h=A||R(e)?2:1),e._a=void 0,s&&t.e)throw t.v})},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},F=function(e){v.call(l,function(){var t;A?w.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},N=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw E("Promise can't be resolved itself");(t=M(e))?y(function(){var r={_w:i,_d:!1};try{t.call(e,h(N,r,1),h(B,r,1))}catch(e){B.call(r,e)}}):(i._v=e,i._s=1,L(i,!1))}catch(e){B.call({_w:i,_d:!1},e)}}};D||(k=function(e){f(this,k,"Promise","_h"),p(e),r.call(this);try{e(h(N,this,1),h(B,this,1))}catch(e){B.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i("xH/j")(k.prototype,{then:function(e,t){var i=I(g(this,k));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=A?w.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&L(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new r;this.promise=e,this.resolve=h(N,e,1),this.reject=h(B,e,1)},_.f=I=function(e){return e===k||e===a?new s(e):n(e)}),c(c.G+c.W+c.F*!D,{Promise:k}),i("e6n0")(k,"Promise"),i("bRrM")("Promise"),a=i("FeBl").Promise,c(c.S+c.F*!D,"Promise",{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),c(c.S+c.F*(o||!D),"Promise",{resolve:function(e){return S(o&&this===a?k:this,e)}}),c(c.S+c.F*!(D&&i("dY0y")(function(e){k.all(e).catch(P)})),"Promise",{all:function(e){var t=this,i=I(t),r=i.resolve,n=i.reject,s=b(function(){var i=[],s=0,a=1;m(e,!1,function(e){var o=s++,l=!1;i.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,i[o]=e,--a||r(i))},n)}),--a||r(i)});return s.e&&n(s.v),i.promise},race:function(e){var t=this,i=I(t),r=i.reject,n=b(function(){m(e,!1,function(e){t.resolve(e).then(i.resolve,r)})});return n.e&&r(n.v),i.promise}})},D2L2:function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},DQCr:function(e,t,i){"use strict";var r=i("cGG2");function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var s;if(i)s=i(t);else if(r.isURLSearchParams(t))s=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(n(t)+"="+n(e))}))}),s=a.join("&")}if(s){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},DUeU:function(e,t,i){"use strict";var r=i("cGG2");e.exports=function(e,t){t=t||{};var i={},n=["url","method","data"],s=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function l(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function h(n){r.isUndefined(t[n])?r.isUndefined(e[n])||(i[n]=l(void 0,e[n])):i[n]=l(e[n],t[n])}r.forEach(n,function(e){r.isUndefined(t[e])||(i[e]=l(void 0,t[e]))}),r.forEach(s,h),r.forEach(a,function(n){r.isUndefined(t[n])?r.isUndefined(e[n])||(i[n]=l(void 0,e[n])):i[n]=l(void 0,t[n])}),r.forEach(o,function(r){r in t?i[r]=l(e[r],t[r]):r in e&&(i[r]=l(void 0,e[r]))});var u=n.concat(s).concat(a).concat(o),c=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===u.indexOf(e)});return r.forEach(c,h),i}},DuR2:function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},DvOw:function(e,t){var i={"":!0,up:!0};function r(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,t=3,n=0,s=100,a=0,o=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");s=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=function(e){return"string"==typeof e&&!!i[e.toLowerCase()]&&e.toLowerCase()}(e);!1===t?console.warn("Scroll: an invalid or illegal string was specified."):l=t}}})}},EGZi:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},EH0m:function(e,t,i){var r=i("XHP2").toUnsigned,n=i("htJ/"),s=function(e,t){var i,a,o,l,h,u=[];if(!t.length)return null;for(i=0;i<e.byteLength;)a=r(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),o=n(e.subarray(i+4,i+8)),l=a>1?i+a:e.byteLength,o===t[0]&&(1===t.length?u.push(e.subarray(i+8,l)):(h=s(e.subarray(i+8,l),t.slice(1))).length&&(u=u.concat(h))),i=l;return u};e.exports=s},EKta:function(e,t,i){"use strict";t.byteLength=function(e){var t=h(e),i=t[0],r=t[1];return 3*(i+r)/4-r},t.toByteArray=function(e){var t,i,r=h(e),a=r[0],o=r[1],l=new s(function(e,t,i){return 3*(t+i)/4-i}(0,a,o)),u=0,c=o>0?a-4:a;for(i=0;i<c;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===o&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,l[u++]=255&t);1===o&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,s=[],a=0,o=i-n;a<o;a+=16383)s.push(u(e,a,a+16383>o?o:a+16383));1===n?(t=e[i-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return s.join("")};for(var r=[],n=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=a.length;o<l;++o)r[o]=a[o],n[a.charCodeAt(o)]=o;function h(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function u(e,t,i){for(var n,s,a=[],o=t;o<i;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(r[(s=n)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},EqBC:function(e,t,i){"use strict";var r=i("kM2E"),n=i("FeBl"),s=i("7KvD"),a=i("t8x9"),o=i("fJUb");r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,n.Promise||s.Promise),i="function"==typeof e;return this.then(i?function(i){return o(t,e()).then(function(){return i})}:e,i?function(i){return o(t,e()).then(function(){throw i})}:e)}})},EqjI:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},EuP9:function(e,t,i){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=i("EKta"),n=i("ujcs"),s=i("sOR5");function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return h(this,e,t,i)}function h(e,t,i,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,r){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,i,r):"string"==typeof t?function(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,i),n=(e=o(e,r)).write(t,i);n!==r&&(e=e.slice(0,n));return e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|p(t.length);return 0===(e=o(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?o(e,0):d(e,t);if("Buffer"===t.type&&s(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(u(t),e=o(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function d(e,t){var i=t.length<0?0:0|p(t.length);e=o(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return V(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function g(e,t,i,r,n){if(0===e.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return-1;i=e.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,i,r,n);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):v(e,[t],i,r,n);throw new TypeError("val must be string, number or Buffer")}function v(e,t,i,r,n){var s,a=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,o/=2,l/=2,i/=2}function h(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){var u=-1;for(s=i;s<o;s++)if(h(e,s)===h(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===l)return u*a}else-1!==u&&(s-=s-u),u=-1}else for(i+l>o&&(i=o-l),s=i;s>=0;s--){for(var c=!0,d=0;d<l;d++)if(h(e,s+d)!==h(t,d)){c=!1;break}if(c)return s}return-1}function y(e,t,i,r){i=Number(i)||0;var n=e.length-i;r?(r=Number(r))>n&&(r=n):r=n;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var a=0;a<r;++a){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))return a;e[i+a]=o}return a}function _(e,t,i,r){return z(j(t,e.length-i),e,i,r)}function b(e,t,i,r){return z(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,r)}function T(e,t,i,r){return b(e,t,i,r)}function S(e,t,i,r){return z(V(t),e,i,r)}function E(e,t,i,r){return z(function(e,t){for(var i,r,n,s=[],a=0;a<e.length&&!((t-=2)<0);++a)i=e.charCodeAt(a),r=i>>8,n=i%256,s.push(n),s.push(r);return s}(t,e.length-i),e,i,r)}function w(e,t,i){return 0===t&&i===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,i))}function C(e,t,i){i=Math.min(e.length,i);for(var r=[],n=t;n<i;){var s,a,o,l,h=e[n],u=null,c=h>239?4:h>223?3:h>191?2:1;if(n+c<=i)switch(c){case 1:h<128&&(u=h);break;case 2:128==(192&(s=e[n+1]))&&(l=(31&h)<<6|63&s)>127&&(u=l);break;case 3:s=e[n+1],a=e[n+2],128==(192&s)&&128==(192&a)&&(l=(15&h)<<12|(63&s)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:s=e[n+1],a=e[n+2],o=e[n+3],128==(192&s)&&128==(192&a)&&128==(192&o)&&(l=(15&h)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&l<1114112&&(u=l)}null===u?(u=65533,c=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),n+=c}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var i="",r=0;for(;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=x));return i}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return h(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,r){return u(t),t<=0?o(e,t):void 0!==i?"string"==typeof r?o(e,t).fill(i,r):o(e,t).fill(i):o(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return c(null,e)},l.allocUnsafeSlow=function(e){return c(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,n=0,s=Math.min(i,r);n<s;++n)if(e[n]!==t[n]){i=e[n],r=t[n];break}return i<r?-1:r<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=l.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var a=e[i];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,n),n+=a.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):function(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,i);case"utf8":case"utf-8":return C(this,t,i);case"ascii":return k(this,t,i);case"latin1":case"binary":return A(this,t,i);case"base64":return w(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,r,n){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||i>e.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&t>=i)return 0;if(r>=n)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,n>>>=0,this===e)return 0;for(var s=n-r,a=i-t,o=Math.min(s,a),h=this.slice(r,n),u=e.slice(t,i),c=0;c<o;++c)if(h[c]!==u[c]){s=h[c],a=u[c];break}return s<a?-1:a<s?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return g(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return g(this,e,t,i,!1)},l.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-t;if((void 0===i||i>n)&&(i=n),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return y(this,e,t,i);case"utf8":case"utf-8":return _(this,e,t,i);case"ascii":return b(this,e,t,i);case"latin1":case"binary":return T(this,e,t,i);case"base64":return S(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,i);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function k(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(127&e[n]);return r}function A(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}function P(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var n="",s=t;s<i;++s)n+=U(e[s]);return n}function I(e,t,i){for(var r=e.slice(t,i),n="",s=0;s<r.length;s+=2)n+=String.fromCharCode(r[s]+256*r[s+1]);return n}function D(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,i,r,n,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<s)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function L(e,t,i,r){t<0&&(t=65535+t+1);for(var n=0,s=Math.min(e.length-i,2);n<s;++n)e[i+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function O(e,t,i,r){t<0&&(t=4294967295+t+1);for(var n=0,s=Math.min(e.length-i,4);n<s;++n)e[i+n]=t>>>8*(r?n:3-n)&255}function R(e,t,i,r,n,s){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function F(e,t,i,r,s){return s||R(e,0,i,4),n.write(e,t,i,r,23,4),i+4}function B(e,t,i,r,s){return s||R(e,0,i,8),n.write(e,t,i,r,52,8),i+8}l.prototype.slice=function(e,t){var i,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var n=t-e;i=new l(n,void 0);for(var s=0;s<n;++s)i[s]=this[s+e]}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||D(e,t,this.length);for(var r=this[e],n=1,s=0;++s<t&&(n*=256);)r+=this[e+s]*n;return r},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||D(e,t,this.length);for(var r=this[e+--t],n=1;t>0&&(n*=256);)r+=this[e+--t]*n;return r},l.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||D(e,t,this.length);for(var r=this[e],n=1,s=0;++s<t&&(n*=256);)r+=this[e+s]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||D(e,t,this.length);for(var r=t,n=1,s=this[e+--r];r>0&&(n*=256);)s+=this[e+--r]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),n.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),n.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),n.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),n.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||M(this,e,t,i,Math.pow(2,8*i)-1,0);var n=1,s=0;for(this[t]=255&e;++s<i&&(n*=256);)this[t+s]=e/n&255;return t+i},l.prototype.writeUIntBE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||M(this,e,t,i,Math.pow(2,8*i)-1,0);var n=i-1,s=1;for(this[t+n]=255&e;--n>=0&&(s*=256);)this[t+n]=e/s&255;return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):O(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);M(this,e,t,i,n-1,-n)}var s=0,a=1,o=0;for(this[t]=255&e;++s<i&&(a*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+i},l.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);M(this,e,t,i,n-1,-n)}var s=i-1,a=1,o=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a>>0)-o&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):O(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return F(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return F(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return B(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return B(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var n,s=r-i;if(this===e&&i<t&&t<r)for(n=s-1;n>=0;--n)e[n+t]=this[n+i];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(n=0;n<s;++n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+s),t);return s},l.prototype.fill=function(e,t,i,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var s;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(s=t;s<i;++s)this[s]=e;else{var a=l.isBuffer(e)?e:j(new l(e,r).toString()),o=a.length;for(s=0;s<i-t;++s)this[s+t]=a[s%o]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var i;t=t||1/0;for(var r=e.length,n=null,s=[],a=0;a<r;++a){if((i=e.charCodeAt(a))>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&s.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&s.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(t-=3)>-1&&s.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,i,r){for(var n=0;n<r&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}}).call(t,i("DuR2"))},FeBl:function(e,t){var i=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=i)},FtD3:function(e,t,i){"use strict";var r=i("t8qj");e.exports=function(e,t,i,n,s){var a=new Error(e);return r(a,t,i,n,s)}},GHBc:function(e,t,i){"use strict";var r=i("cGG2");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function n(e){var r=e;return t&&(i.setAttribute("href",r),r=i.href),i.setAttribute("href",r),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=n(window.location.href),function(t){var i=r.isString(t)?n(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},GlnR:function(e,t){var i=Math.pow(2,32);e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},n=12;0===r.version?(r.earliestPresentationTime=t.getUint32(n),r.firstOffset=t.getUint32(n+4),n+=8):(r.earliestPresentationTime=t.getUint32(n)*i+t.getUint32(n+4),r.firstOffset=t.getUint32(n+8)*i+t.getUint32(n+12),n+=16),n+=2;var s=t.getUint16(n);for(n+=2;s>0;n+=12,s--)r.references.push({referenceType:(128&e[n])>>>7,referencedSize:2147483647&t.getUint32(n),subsegmentDuration:t.getUint32(n+4),startsWithSap:!!(128&e[n+8]),sapType:(112&e[n+8])>>>4,sapDeltaTime:268435455&t.getUint32(n+8)});return r}},Gsvl:function(e,t,i){(function(t){var i;i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=i}).call(t,i("DuR2"))},H1Bl:function(e,t,i){"use strict";(function(t){var r,n=(r=i("awF4"))&&"object"==typeof r&&"default"in r?r.default:r,s=function(e){return n.atob?n.atob(e):t.from(e,"base64").toString("binary")};e.exports=function(e){for(var t=s(e),i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}}).call(t,i("EuP9").Buffer)},"I/+Z":function(e,t){e.exports=function(e,t){var i,r=null;try{i=JSON.parse(e,t)}catch(e){r=e}return[r,i]}},I7p8:function(e,t,i){"use strict";
/*! @name @videojs/vhs-utils @version 2.3.0 @license MIT */Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e instanceof Uint8Array?e:new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0)},n=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,r(e));try{return decodeURIComponent(escape(t))}catch(e){}return t},s=function(e,t){void 0===t&&(t=0);var i=(e=r(e))[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?i+20:i+10},a=function e(t,i){return void 0===i&&(i=0),(t=r(t)).length-i<10||"ID3"!==n(t.subarray(i,i+3))?i:e(t,i+=s(t,i))},o={aac:function(e){var t=a(e);return e.length>=t+2&&255==(255&e[t])&&224==(224&e[t+1])&&16==(22&e[t+1])},mp3:function(e){var t=a(e);return e.length>=t+2&&255==(255&e[t])&&224==(224&e[t+1])&&2==(6&e[t+1])},webm:function(e){return e.length>=4&&26==(255&e[0])&&69==(255&e[1])&&223==(255&e[2])&&163==(255&e[3])},mp4:function(e){return e.length>=8&&/^(f|s)typ$/.test(n(e.subarray(4,8)))&&!/^ftyp3g$/.test(n(e.subarray(4,10)))},"3gp":function(e){return e.length>=10&&/^ftyp3g$/.test(n(e.subarray(4,10)))},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){return e.length>=4&&/^fLaC$/.test(n(e.subarray(0,4)))},ogg:function(e){return e.length>=4&&/^OggS$/.test(n(e.subarray(0,4)))}},l=Object.keys(o).filter(function(e){return"ts"!==e}).concat("ts");l.forEach(function(e){var t=o[e];o[e]=function(e){return t(r(e))}});t.detectContainerForBytes=function(e){e=r(e);for(var t=0;t<l.length;t++){var i=l[t];if(o[i](e))return i}return""},t.getId3Offset=a,t.id3Size=s,t.isLikely=o,t.isLikelyFmp4MediaSegment=function(e){e=r(e);for(var t=0;t<e.length;){var i=(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0;if("moof"===n(e.subarray(t+4,t+8)))return!0;0===i||i+t>e.length?t=e.length:t+=i}return!1}},Ibhu:function(e,t,i){var r=i("D2L2"),n=i("TcQ7"),s=i("vFc/")(!1),a=i("ax3d")("IE_PROTO");e.exports=function(e,t){var i,o=n(e),l=0,h=[];for(i in o)i!=a&&r(o,i)&&h.push(i);for(;t.length>l;)r(o,i=t[l++])&&(~s(h,i)||h.push(i));return h}},"JP+z":function(e,t,i){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),r=0;r<i.length;r++)i[r]=arguments[r];return e.apply(t,i)}}},KCLY:function(e,t,i){"use strict";(function(t){var r=i("cGG2"),n=i("5VQ+"),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o,l={adapter:("undefined"!=typeof XMLHttpRequest?o=i("7GwW"):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(o=i("7GwW")),o),transformRequest:[function(e,t){return n(t,"Accept"),n(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){l.headers[e]={}}),r.forEach(["post","put","patch"],function(e){l.headers[e]=r.merge(s)}),e.exports=l}).call(t,i("W2nU"))},L42u:function(e,t,i){var r,n,s,a=i("+ZMJ"),o=i("knuC"),l=i("RPLV"),h=i("ON07"),u=i("7KvD"),c=u.process,d=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,g=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},_=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return v[++g]=function(){o("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete v[e]},"process"==i("R9M2")(c)?r=function(e){c.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:f?(s=(n=new f).port2,n.port1.onmessage=_,r=a(s.postMessage,s,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",_,!1)):r="onreadystatechange"in h("script")?function(e){l.appendChild(h("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:d,clear:p}},M1I4:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},M6a0:function(e,t){},MU5D:function(e,t,i){var r=i("R9M2");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},Mhyx:function(e,t,i){var r=i("/bQp"),n=i("dSzd")("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[n]===e)}},MmMw:function(e,t,i){var r=i("EqjI");e.exports=function(e,t){if(!r(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!r(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},MmxA:function(e,t,i){var r=i("ORon");e.exports=function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),s=1&i.flags[2],a=4&i.flags[2],o=1&i.flags[1],l=2&i.flags[1],h=4&i.flags[1],u=8&i.flags[1],c=n.getUint32(4),d=8;for(s&&(i.dataOffset=n.getInt32(d),d+=4),a&&c&&(t={flags:r(e.subarray(d,d+4))},d+=4,o&&(t.duration=n.getUint32(d),d+=4),l&&(t.size=n.getUint32(d),d+=4),u&&(1===i.version?t.compositionTimeOffset=n.getInt32(d):t.compositionTimeOffset=n.getUint32(d),d+=4),i.samples.push(t),c--);c--;)t={},o&&(t.duration=n.getUint32(d),d+=4),l&&(t.size=n.getUint32(d),d+=4),h&&(t.flags=r(e.subarray(d,d+4)),d+=4),u&&(1===i.version?t.compositionTimeOffset=n.getInt32(d):t.compositionTimeOffset=n.getUint32(d),d+=4),i.samples.push(t);return i}},"NWt+":function(e,t,i){var r=i("+ZMJ"),n=i("msXi"),s=i("Mhyx"),a=i("77Pl"),o=i("QRG4"),l=i("3fs2"),h={},u={};(t=e.exports=function(e,t,i,c,d){var p,f,m,g,v=d?function(){return e}:l(e),y=r(i,c,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(s(v)){for(p=o(e.length);p>_;_++)if((g=t?y(a(f=e[_])[0],f[1]):y(e[_]))===h||g===u)return g}else for(m=v.call(e);!(f=m.next()).done;)if((g=n(m,y,f.value,t))===h||g===u)return g}).BREAK=h,t.RETURN=u},NYxO:function(e,t,i){"use strict";(function(e){var i=("undefined"!=typeof window?window:void 0!==e?e:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function r(e,t){if(void 0===t&&(t=[]),null===e||"object"!=typeof e)return e;var i,n=(i=function(t){return t.original===e},t.filter(i)[0]);if(n)return n.copy;var s=Array.isArray(e)?[]:{};return t.push({original:e,copy:s}),Object.keys(e).forEach(function(i){s[i]=r(e[i],t)}),s}function n(e,t){Object.keys(e).forEach(function(i){return t(e[i],i)})}function s(e){return null!==e&&"object"==typeof e}var a=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=("function"==typeof i?i():i)||{}},o={namespaced:{configurable:!0}};o.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(e,t){this._children[e]=t},a.prototype.removeChild=function(e){delete this._children[e]},a.prototype.getChild=function(e){return this._children[e]},a.prototype.hasChild=function(e){return e in this._children},a.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},a.prototype.forEachChild=function(e){n(this._children,e)},a.prototype.forEachGetter=function(e){this._rawModule.getters&&n(this._rawModule.getters,e)},a.prototype.forEachAction=function(e){this._rawModule.actions&&n(this._rawModule.actions,e)},a.prototype.forEachMutation=function(e){this._rawModule.mutations&&n(this._rawModule.mutations,e)},Object.defineProperties(a.prototype,o);var l=function(e){this.register([],e,!1)};l.prototype.get=function(e){return e.reduce(function(e,t){return e.getChild(t)},this.root)},l.prototype.getNamespace=function(e){var t=this.root;return e.reduce(function(e,i){return e+((t=t.getChild(i)).namespaced?i+"/":"")},"")},l.prototype.update=function(e){!function e(t,i,r){0;i.update(r);if(r.modules)for(var n in r.modules){if(!i.getChild(n))return void 0;e(t.concat(n),i.getChild(n),r.modules[n])}}([],this.root,e)},l.prototype.register=function(e,t,i){var r=this;void 0===i&&(i=!0);var s=new a(t,i);0===e.length?this.root=s:this.get(e.slice(0,-1)).addChild(e[e.length-1],s);t.modules&&n(t.modules,function(t,n){r.register(e.concat(n),t,i)})},l.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1],r=t.getChild(i);r&&r.runtime&&t.removeChild(i)},l.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),i=e[e.length-1];return!!t&&t.hasChild(i)};var h;var u=function(e){var t=this;void 0===e&&(e={}),!h&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var r=e.plugins;void 0===r&&(r=[]);var n=e.strict;void 0===n&&(n=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new l(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new h,this._makeLocalGettersCache=Object.create(null);var s=this,a=this.dispatch,o=this.commit;this.dispatch=function(e,t){return a.call(s,e,t)},this.commit=function(e,t,i){return o.call(s,e,t,i)},this.strict=n;var u=this._modules.root.state;m(this,u,[],this._modules.root),f(this,u),r.forEach(function(e){return e(t)}),(void 0!==e.devtools?e.devtools:h.config.devtools)&&function(e){i&&(e._devtoolHook=i,i.emit("vuex:init",e),i.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(e,t){i.emit("vuex:mutation",e,t)},{prepend:!0}),e.subscribeAction(function(e,t){i.emit("vuex:action",e,t)},{prepend:!0}))}(this)},c={state:{configurable:!0}};function d(e,t,i){return t.indexOf(e)<0&&(i&&i.prepend?t.unshift(e):t.push(e)),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function p(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var i=e.state;m(e,i,[],e._modules.root,!0),f(e,i,t)}function f(e,t,i){var r=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var s={};n(e._wrappedGetters,function(t,i){s[i]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,i,{get:function(){return e._vm[i]},enumerable:!0})});var a=h.config.silent;h.config.silent=!0,e._vm=new h({data:{$$state:t},computed:s}),h.config.silent=a,e.strict&&function(e){e._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}(e),r&&(i&&e._withCommit(function(){r._data.$$state=null}),h.nextTick(function(){return r.$destroy()}))}function m(e,t,i,r,n){var s=!i.length,a=e._modules.getNamespace(i);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!s&&!n){var o=g(t,i.slice(0,-1)),l=i[i.length-1];e._withCommit(function(){h.set(o,l,r.state)})}var u=r.context=function(e,t,i){var r=""===t,n={dispatch:r?e.dispatch:function(i,r,n){var s=v(i,r,n),a=s.payload,o=s.options,l=s.type;return o&&o.root||(l=t+l),e.dispatch(l,a)},commit:r?e.commit:function(i,r,n){var s=v(i,r,n),a=s.payload,o=s.options,l=s.type;o&&o.root||(l=t+l),e.commit(l,a,o)}};return Object.defineProperties(n,{getters:{get:r?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var i={},r=t.length;Object.keys(e.getters).forEach(function(n){if(n.slice(0,r)===t){var s=n.slice(r);Object.defineProperty(i,s,{get:function(){return e.getters[n]},enumerable:!0})}}),e._makeLocalGettersCache[t]=i}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return g(e.state,i)}}}),n}(e,a,i);r.forEachMutation(function(t,i){!function(e,t,i,r){(e._mutations[t]||(e._mutations[t]=[])).push(function(t){i.call(e,r.state,t)})}(e,a+i,t,u)}),r.forEachAction(function(t,i){var r=t.root?i:a+i,n=t.handler||t;!function(e,t,i,r){(e._actions[t]||(e._actions[t]=[])).push(function(t){var n,s=i.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return(n=s)&&"function"==typeof n.then||(s=Promise.resolve(s)),e._devtoolHook?s.catch(function(t){throw e._devtoolHook.emit("vuex:error",t),t}):s})}(e,r,n,u)}),r.forEachGetter(function(t,i){!function(e,t,i,r){if(e._wrappedGetters[t])return void 0;e._wrappedGetters[t]=function(e){return i(r.state,r.getters,e.state,e.getters)}}(e,a+i,t,u)}),r.forEachChild(function(r,s){m(e,t,i.concat(s),r,n)})}function g(e,t){return t.reduce(function(e,t){return e[t]},e)}function v(e,t,i){return s(e)&&e.type&&(i=t,t=e,e=e.type),{type:e,payload:t,options:i}}function y(e){h&&e===h||
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function(e){if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:i});else{var t=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[i].concat(e.init):i,t.call(this,e)}}function i(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(h=e)}c.state.get=function(){return this._vm._data.$$state},c.state.set=function(e){0},u.prototype.commit=function(e,t,i){var r=this,n=v(e,t,i),s=n.type,a=n.payload,o=(n.options,{type:s,payload:a}),l=this._mutations[s];l&&(this._withCommit(function(){l.forEach(function(e){e(a)})}),this._subscribers.slice().forEach(function(e){return e(o,r.state)}))},u.prototype.dispatch=function(e,t){var i=this,r=v(e,t),n=r.type,s=r.payload,a={type:n,payload:s},o=this._actions[n];if(o){try{this._actionSubscribers.slice().filter(function(e){return e.before}).forEach(function(e){return e.before(a,i.state)})}catch(e){0}var l=o.length>1?Promise.all(o.map(function(e){return e(s)})):o[0](s);return new Promise(function(e,t){l.then(function(t){try{i._actionSubscribers.filter(function(e){return e.after}).forEach(function(e){return e.after(a,i.state)})}catch(e){0}e(t)},function(e){try{i._actionSubscribers.filter(function(e){return e.error}).forEach(function(t){return t.error(a,i.state,e)})}catch(e){0}t(e)})})}},u.prototype.subscribe=function(e,t){return d(e,this._subscribers,t)},u.prototype.subscribeAction=function(e,t){return d("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},u.prototype.watch=function(e,t,i){var r=this;return this._watcherVM.$watch(function(){return e(r.state,r.getters)},t,i)},u.prototype.replaceState=function(e){var t=this;this._withCommit(function(){t._vm._data.$$state=e})},u.prototype.registerModule=function(e,t,i){void 0===i&&(i={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),m(this,this.state,e,this._modules.get(e),i.preserveState),f(this,this.state)},u.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var i=g(t.state,e.slice(0,-1));h.delete(i,e[e.length-1])}),p(this)},u.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},u.prototype.hotUpdate=function(e){this._modules.update(e),p(this,!0)},u.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(u.prototype,c);var _=w(function(e,t){var i={};return E(t).forEach(function(t){var r=t.key,n=t.val;i[r]=function(){var t=this.$store.state,i=this.$store.getters;if(e){var r=C(this.$store,"mapState",e);if(!r)return;t=r.context.state,i=r.context.getters}return"function"==typeof n?n.call(this,t,i):t[n]},i[r].vuex=!0}),i}),b=w(function(e,t){var i={};return E(t).forEach(function(t){var r=t.key,n=t.val;i[r]=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];var r=this.$store.commit;if(e){var s=C(this.$store,"mapMutations",e);if(!s)return;r=s.context.commit}return"function"==typeof n?n.apply(this,[r].concat(t)):r.apply(this.$store,[n].concat(t))}}),i}),T=w(function(e,t){var i={};return E(t).forEach(function(t){var r=t.key,n=t.val;n=e+n,i[r]=function(){if(!e||C(this.$store,"mapGetters",e))return this.$store.getters[n]},i[r].vuex=!0}),i}),S=w(function(e,t){var i={};return E(t).forEach(function(t){var r=t.key,n=t.val;i[r]=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];var r=this.$store.dispatch;if(e){var s=C(this.$store,"mapActions",e);if(!s)return;r=s.context.dispatch}return"function"==typeof n?n.apply(this,[r].concat(t)):r.apply(this.$store,[n].concat(t))}}),i});function E(e){return function(e){return Array.isArray(e)||s(e)}(e)?Array.isArray(e)?e.map(function(e){return{key:e,val:e}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function w(e){return function(t,i){return"string"!=typeof t?(i=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,i)}}function C(e,t,i){return e._modulesNamespaceMap[i]}function x(e,t,i){var r=i?e.groupCollapsed:e.group;try{r.call(e,t)}catch(i){e.log(t)}}function k(e){try{e.groupEnd()}catch(t){e.log(" log end ")}}function A(){var e=new Date;return" @ "+P(e.getHours(),2)+":"+P(e.getMinutes(),2)+":"+P(e.getSeconds(),2)+"."+P(e.getMilliseconds(),3)}function P(e,t){return i="0",r=t-e.toString().length,new Array(r+1).join(i)+e;var i,r}var I={Store:u,install:y,version:"3.6.2",mapState:_,mapMutations:b,mapGetters:T,mapActions:S,createNamespacedHelpers:function(e){return{mapState:_.bind(null,e),mapGetters:T.bind(null,e),mapMutations:b.bind(null,e),mapActions:S.bind(null,e)}},createLogger:function(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var i=e.filter;void 0===i&&(i=function(e,t,i){return!0});var n=e.transformer;void 0===n&&(n=function(e){return e});var s=e.mutationTransformer;void 0===s&&(s=function(e){return e});var a=e.actionFilter;void 0===a&&(a=function(e,t){return!0});var o=e.actionTransformer;void 0===o&&(o=function(e){return e});var l=e.logMutations;void 0===l&&(l=!0);var h=e.logActions;void 0===h&&(h=!0);var u=e.logger;return void 0===u&&(u=console),function(e){var c=r(e.state);void 0!==u&&(l&&e.subscribe(function(e,a){var o=r(a);if(i(e,c,o)){var l=A(),h=s(e),d="mutation "+e.type+l;x(u,d,t),u.log("%c prev state","color: #9E9E9E; font-weight: bold",n(c)),u.log("%c mutation","color: #03A9F4; font-weight: bold",h),u.log("%c next state","color: #4CAF50; font-weight: bold",n(o)),k(u)}c=o}),h&&e.subscribeAction(function(e,i){if(a(e,i)){var r=A(),n=o(e),s="action "+e.type+r;x(u,s,t),u.log("%c action","color: #03A9F4; font-weight: bold",n),k(u)}}))}}};t.a=I}).call(t,i("DuR2"))},NaD6:function(e,t,i){"use strict";function r(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function n(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach(function(i){void 0===e[i]?e[i]=t[i]:r(t[i])&&r(e[i])&&Object.keys(t[i]).length>0&&n(e[i],t[i])})}Object.defineProperty(t,"__esModule",{value:!0});var s={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){var e="undefined"!=typeof document?document:{};return n(e,s),e}var o={document:s,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function l(){var e="undefined"!=typeof window?window:{};return n(e,o),e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t,i){return(c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,i){var r=[null];r.push.apply(r,t);var n=new(Function.bind.apply(e,r));return i&&u(n,i.prototype),n}).apply(null,arguments)}function d(e){var t="function"==typeof Map?new Map:void 0;return(d=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)})(e)}var p=function(e){var t,i;function r(t){var i,r,n;return i=e.call.apply(e,[this].concat(t))||this,r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i),n=r.__proto__,Object.defineProperty(r,"__proto__",{get:function(){return n},set:function(e){n.__proto__=e}}),i}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,r}(d(Array));function f(e){void 0===e&&(e=[]);var t=[];return e.forEach(function(e){Array.isArray(e)?t.push.apply(t,f(e)):t.push(e)}),t}function m(e,t){return Array.prototype.filter.call(e,t)}function g(e,t){var i=l(),r=a(),n=[];if(!t&&e instanceof p)return e;if(!e)return new p(n);if("string"==typeof e){var s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var o="div";0===s.indexOf("<li")&&(o="ul"),0===s.indexOf("<tr")&&(o="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(o="tr"),0===s.indexOf("<tbody")&&(o="table"),0===s.indexOf("<option")&&(o="select");var h=r.createElement(o);h.innerHTML=s;for(var u=0;u<h.childNodes.length;u+=1)n.push(h.childNodes[u])}else n=function(e,t){if("string"!=typeof e)return[e];for(var i=[],r=t.querySelectorAll(e),n=0;n<r.length;n+=1)i.push(r[n]);return i}(e.trim(),t||r)}else if(e.nodeType||e===i||e===r)n.push(e);else if(Array.isArray(e)){if(e instanceof p)return e;n=e}return new p(function(e){for(var t=[],i=0;i<e.length;i+=1)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(n))}g.fn=p.prototype;var v="resize scroll".split(" ");function y(e){return function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];if(void 0===i[0]){for(var n=0;n<this.length;n+=1)v.indexOf(e)<0&&(e in this[n]?this[n][e]():g(this[n]).trigger(e));return this}return this.on.apply(this,[e].concat(i))}}y("click"),y("blur"),y("focus"),y("focusin"),y("focusout"),y("keyup"),y("keydown"),y("keypress"),y("submit"),y("change"),y("mousedown"),y("mousemove"),y("mouseup"),y("mouseenter"),y("mouseleave"),y("mouseout"),y("mouseover"),y("touchstart"),y("touchend"),y("touchmove"),y("resize"),y("scroll");var _={addClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=f(t.map(function(e){return e.split(" ")}));return this.forEach(function(e){var t;(t=e.classList).add.apply(t,r)}),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=f(t.map(function(e){return e.split(" ")}));return this.forEach(function(e){var t;(t=e.classList).remove.apply(t,r)}),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=f(t.map(function(e){return e.split(" ")}));return m(this,function(e){return r.filter(function(t){return e.classList.contains(t)}).length>0}).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=f(t.map(function(e){return e.split(" ")}));this.forEach(function(e){r.forEach(function(t){e.classList.toggle(t)})})},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var i=0;i<this.length;i+=1)if(2===arguments.length)this[i].setAttribute(e,t);else for(var r in e)this[i][r]=e[r],this[i].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?e+"ms":e;return this},on:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[0],n=t[1],s=t[2],a=t[3];function o(e){var t=e.target;if(t){var i=e.target.dom7EventData||[];if(i.indexOf(e)<0&&i.unshift(e),g(t).is(n))s.apply(t,i);else for(var r=g(t).parents(),a=0;a<r.length;a+=1)g(r[a]).is(n)&&s.apply(r[a],i)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),s.apply(this,t)}"function"==typeof t[1]&&(r=t[0],s=t[1],a=t[2],n=void 0),a||(a=!1);for(var h,u=r.split(" "),c=0;c<this.length;c+=1){var d=this[c];if(n)for(h=0;h<u.length;h+=1){var p=u[h];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[p]||(d.dom7LiveListeners[p]=[]),d.dom7LiveListeners[p].push({listener:s,proxyListener:o}),d.addEventListener(p,o,a)}else for(h=0;h<u.length;h+=1){var f=u[h];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[f]||(d.dom7Listeners[f]=[]),d.dom7Listeners[f].push({listener:s,proxyListener:l}),d.addEventListener(f,l,a)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t[0],n=t[1],s=t[2],a=t[3];"function"==typeof t[1]&&(r=t[0],s=t[1],a=t[2],n=void 0),a||(a=!1);for(var o=r.split(" "),l=0;l<o.length;l+=1)for(var h=o[l],u=0;u<this.length;u+=1){var c=this[u],d=void 0;if(!n&&c.dom7Listeners?d=c.dom7Listeners[h]:n&&c.dom7LiveListeners&&(d=c.dom7LiveListeners[h]),d&&d.length)for(var p=d.length-1;p>=0;p-=1){var f=d[p];s&&f.listener===s?(c.removeEventListener(h,f.proxyListener,a),d.splice(p,1)):s&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===s?(c.removeEventListener(h,f.proxyListener,a),d.splice(p,1)):s||(c.removeEventListener(h,f.proxyListener,a),d.splice(p,1))}}return this},trigger:function(){for(var e=l(),t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];for(var n=i[0].split(" "),s=i[1],a=0;a<n.length;a+=1)for(var o=n[a],h=0;h<this.length;h+=1){var u=this[h];if(e.CustomEvent){var c=new e.CustomEvent(o,{detail:s,bubbles:!0,cancelable:!0});u.dom7EventData=i.filter(function(e,t){return t>0}),u.dispatchEvent(c),u.dom7EventData=[],delete u.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",function i(r){r.target===this&&(e.call(this,r),t.off("transitionend",i))}),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=l();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=l(),t=a(),i=this[0],r=i.getBoundingClientRect(),n=t.body,s=i.clientTop||n.clientTop||0,o=i.clientLeft||n.clientLeft||0,h=i===e?e.scrollY:i.scrollTop,u=i===e?e.scrollX:i.scrollLeft;return{top:r.top+h-s,left:r.left+u-o}}return null},css:function(e,t){var i,r=l();if(1===arguments.length){if("string"!=typeof e){for(i=0;i<this.length;i+=1)for(var n in e)this[i].style[n]=e[n];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(i=0;i<this.length;i+=1)this[i].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(function(t,i){e.apply(t,[t,i])}),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,i,r=l(),n=a(),s=this[0];if(!s||void 0===e)return!1;if("string"==typeof e){if(s.matches)return s.matches(e);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(e);if(s.msMatchesSelector)return s.msMatchesSelector(e);for(t=g(e),i=0;i<t.length;i+=1)if(t[i]===s)return!0;return!1}if(e===n)return s===n;if(e===r)return s===r;if(e.nodeType||e instanceof p){for(t=e.nodeType?[e]:e,i=0;i<t.length;i+=1)if(t[i]===s)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return g([]);if(e<0){var i=t+e;return g(i<0?[]:[this[i]])}return g([this[e]])},append:function(){for(var e,t=a(),i=0;i<arguments.length;i+=1){e=i<0||arguments.length<=i?void 0:arguments[i];for(var r=0;r<this.length;r+=1)if("string"==typeof e){var n=t.createElement("div");for(n.innerHTML=e;n.firstChild;)this[r].appendChild(n.firstChild)}else if(e instanceof p)for(var s=0;s<e.length;s+=1)this[r].appendChild(e[s]);else this[r].appendChild(e)}return this},prepend:function(e){var t,i,r=a();for(t=0;t<this.length;t+=1)if("string"==typeof e){var n=r.createElement("div");for(n.innerHTML=e,i=n.childNodes.length-1;i>=0;i-=1)this[t].insertBefore(n.childNodes[i],this[t].childNodes[0])}else if(e instanceof p)for(i=0;i<e.length;i+=1)this[t].insertBefore(e[i],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&g(this[0].nextElementSibling).is(e)?g([this[0].nextElementSibling]):g([]):this[0].nextElementSibling?g([this[0].nextElementSibling]):g([]):g([])},nextAll:function(e){var t=[],i=this[0];if(!i)return g([]);for(;i.nextElementSibling;){var r=i.nextElementSibling;e?g(r).is(e)&&t.push(r):t.push(r),i=r}return g(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&g(t.previousElementSibling).is(e)?g([t.previousElementSibling]):g([]):t.previousElementSibling?g([t.previousElementSibling]):g([])}return g([])},prevAll:function(e){var t=[],i=this[0];if(!i)return g([]);for(;i.previousElementSibling;){var r=i.previousElementSibling;e?g(r).is(e)&&t.push(r):t.push(r),i=r}return g(t)},parent:function(e){for(var t=[],i=0;i<this.length;i+=1)null!==this[i].parentNode&&(e?g(this[i].parentNode).is(e)&&t.push(this[i].parentNode):t.push(this[i].parentNode));return g(t)},parents:function(e){for(var t=[],i=0;i<this.length;i+=1)for(var r=this[i].parentNode;r;)e?g(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return g(t)},closest:function(e){var t=this;return void 0===e?g([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],i=0;i<this.length;i+=1)for(var r=this[i].querySelectorAll(e),n=0;n<r.length;n+=1)t.push(r[n]);return g(t)},children:function(e){for(var t=[],i=0;i<this.length;i+=1)for(var r=this[i].children,n=0;n<r.length;n+=1)e&&!g(r[n]).is(e)||t.push(r[n]);return g(t)},filter:function(e){return g(m(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(_).forEach(function(e){Object.defineProperty(g.fn,e,{value:_[e],writable:!0})});var b,T,S,E=g;function w(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function C(){return Date.now()}function x(e,t){void 0===t&&(t="x");var i,r,n,s=l(),a=function(e){var t,i=l();return i.getComputedStyle&&(t=i.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return s.WebKitCSSMatrix?((r=a.transform||a.webkitTransform).split(",").length>6&&(r=r.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),n=new s.WebKitCSSMatrix("none"===r?"":r)):i=(n=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=s.WebKitCSSMatrix?n.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(r=s.WebKitCSSMatrix?n.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function k(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function A(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],i=1;i<arguments.length;i+=1){var r=i<0||arguments.length<=i?void 0:arguments[i];if(void 0!==r&&null!==r)for(var n=Object.keys(Object(r)).filter(function(e){return t.indexOf(e)<0}),s=0,a=n.length;s<a;s+=1){var o=n[s],l=Object.getOwnPropertyDescriptor(r,o);void 0!==l&&l.enumerable&&(k(e[o])&&k(r[o])?r[o].__swiper__?e[o]=r[o]:A(e[o],r[o]):!k(e[o])&&k(r[o])?(e[o]={},r[o].__swiper__?e[o]=r[o]:A(e[o],r[o])):e[o]=r[o])}}return e}function P(e,t){Object.keys(t).forEach(function(i){k(t[i])&&Object.keys(t[i]).forEach(function(r){"function"==typeof t[i][r]&&(t[i][r]=t[i][r].bind(e))}),e[i]=t[i]})}function I(e){return void 0===e&&(e=""),"."+e.trim().replace(/([\.:\/])/g,"\\$1").replace(/ /g,".")}function D(){var e,t;return b||(e=l(),t=a(),b={touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,i)}catch(e){}return t}(),gestures:"ongesturestart"in e}),b}function M(e){var t,i,r,n,s,a,o,h,u,c,d,p,f,m,g;return void 0===e&&(e={}),T||(i=(void 0===(t=e)?{}:t).userAgent,r=D(),n=l(),s=n.navigator.platform,a=i||n.navigator.userAgent,o={ios:!1,android:!1},h=n.screen.width,u=n.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/),d=a.match(/(iPad).*OS\s([\d_]+)/),p=a.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m="Win32"===s,g="MacIntel"===s,!d&&g&&r.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(h+"x"+u)>=0&&((d=a.match(/(Version)\/([\d.]+)/))||(d=[0,1,"13_0_0"]),g=!1),c&&!m&&(o.os="android",o.android=!0),(d||f||p)&&(o.os="ios",o.ios=!0),T=o),T}function L(){var e,t;return S||(t=l(),S={isEdge:!!t.navigator.userAgent.match(/Edge/g),isSafari:(e=t.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}),S}var O={name:"resize",create:function(){var e=this;A(e,{resize:{observer:null,createObserver:function(){e&&!e.destroyed&&e.initialized&&(e.resize.observer=new ResizeObserver(function(t){var i=e.width,r=e.height,n=i,s=r;t.forEach(function(t){var i=t.contentBoxSize,r=t.contentRect,a=t.target;a&&a!==e.el||(n=r?r.width:(i[0]||i).inlineSize,s=r?r.height:(i[0]||i).blockSize)}),n===i&&s===r||e.resize.resizeHandler()}),e.resize.observer.observe(e.el))},removeObserver:function(){e.resize.observer&&e.resize.observer.unobserve&&e.el&&(e.resize.observer.unobserve(e.el),e.resize.observer=null)},resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(e){var t=l();e.params.resizeObserver&&void 0!==l().ResizeObserver?e.resize.createObserver():(t.addEventListener("resize",e.resize.resizeHandler),t.addEventListener("orientationchange",e.resize.orientationChangeHandler))},destroy:function(e){var t=l();e.resize.removeObserver(),t.removeEventListener("resize",e.resize.resizeHandler),t.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}};function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var F={attach:function(e,t){void 0===t&&(t={});var i=l(),r=this,n=new(i.MutationObserver||i.WebkitMutationObserver)(function(e){if(1!==e.length){var t=function(){r.emit("observerUpdate",e[0])};i.requestAnimationFrame?i.requestAnimationFrame(t):i.setTimeout(t,0)}else r.emit("observerUpdate",e[0])});n.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),r.observer.observers.push(n)},init:function(){if(this.support.observer&&this.params.observer){if(this.params.observeParents)for(var e=this.$el.parents(),t=0;t<e.length;t+=1)this.observer.attach(e[t]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(e){e.disconnect()}),this.observer.observers=[]}},B={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){P(this,{observer:R({},F,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}};function N(){var e=this.params,t=this.el;if(!t||0!==t.offsetWidth){e.breakpoints&&this.setBreakpoint();var i=this.allowSlideNext,r=this.allowSlidePrev,n=this.snapGrid;this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),this.updateSlidesClasses(),("auto"===e.slidesPerView||e.slidesPerView>1)&&this.isEnd&&!this.isBeginning&&!this.params.centeredSlides?this.slideTo(this.slides.length-1,0,!1,!0):this.slideTo(this.activeIndex,0,!1,!0),this.autoplay&&this.autoplay.running&&this.autoplay.paused&&this.autoplay.run(),this.allowSlidePrev=r,this.allowSlideNext=i,this.params.watchOverflow&&n!==this.snapGrid&&this.checkOverflow()}}var U=!1;function j(){}var V={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function z(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G={modular:{useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach(function(i){var r=t.modules[i];r.params&&A(e,r.params)})},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach(function(i){var r=t.modules[i],n=e[i]||{};r.on&&t.on&&Object.keys(r.on).forEach(function(e){t.on(e,r.on[e])}),r.create&&r.create.bind(t)(n)})}},eventsEmitter:{on:function(e,t,i){var r=this;if("function"!=typeof t)return r;var n=i?"unshift":"push";return e.split(" ").forEach(function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][n](t)}),r},once:function(e,t,i){var r=this;if("function"!=typeof t)return r;function n(){r.off(e,n),n.__emitterProxy&&delete n.__emitterProxy;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];t.apply(r,s)}return n.__emitterProxy=t,r.on(e,n,i)},onAny:function(e,t){if("function"!=typeof e)return this;var i=t?"unshift":"push";return this.eventsAnyListeners.indexOf(e)<0&&this.eventsAnyListeners[i](e),this},offAny:function(e){if(!this.eventsAnyListeners)return this;var t=this.eventsAnyListeners.indexOf(e);return t>=0&&this.eventsAnyListeners.splice(t,1),this},off:function(e,t){var i=this;return i.eventsListeners?(e.split(" ").forEach(function(e){void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach(function(r,n){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&i.eventsListeners[e].splice(n,1)})}),i):i},emit:function(){var e,t,i,r=this;if(!r.eventsListeners)return r;for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return"string"==typeof s[0]||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),i=r):(e=s[0].events,t=s[0].data,i=s[0].context||r),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(function(r){r.apply(i,[e].concat(t))}),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach(function(e){e.apply(i,t)})}),r}},update:{updateSize:function(){var e,t,i=this.$el;e=void 0!==this.params.width&&null!==this.params.width?this.params.width:i[0].clientWidth,t=void 0!==this.params.height&&null!==this.params.height?this.params.height:i[0].clientHeight,0===e&&this.isHorizontal()||0===t&&this.isVertical()||(e=e-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),t=t-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),A(this,{width:e,height:t,size:this.isHorizontal()?e:t}))},updateSlides:function(){var e=this,t=function(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]},i=function(e,i){return parseFloat(e.getPropertyValue(t(i))||0)},r=e.params,n=e.$wrapperEl,s=e.size,a=e.rtlTranslate,o=e.wrongRTL,l=e.virtual&&r.virtual.enabled,h=l?e.virtual.slides.length:e.slides.length,u=n.children("."+e.params.slideClass),c=l?e.virtual.slides.length:u.length,d=[],p=[],f=[],m=r.slidesOffsetBefore;"function"==typeof m&&(m=r.slidesOffsetBefore.call(e));var g=r.slidesOffsetAfter;"function"==typeof g&&(g=r.slidesOffsetAfter.call(e));var v=e.snapGrid.length,y=e.slidesGrid.length,_=r.spaceBetween,b=-m,T=0,S=0;if(void 0!==s){var E,w;"string"==typeof _&&_.indexOf("%")>=0&&(_=parseFloat(_.replace("%",""))/100*s),e.virtualSize=-_,a?u.css({marginLeft:"",marginTop:""}):u.css({marginRight:"",marginBottom:""}),r.slidesPerColumn>1&&(E=Math.floor(c/r.slidesPerColumn)===c/e.params.slidesPerColumn?c:Math.ceil(c/r.slidesPerColumn)*r.slidesPerColumn,"auto"!==r.slidesPerView&&"row"===r.slidesPerColumnFill&&(E=Math.max(E,r.slidesPerView*r.slidesPerColumn)));for(var C,x,k,P=r.slidesPerColumn,I=E/P,D=Math.floor(c/r.slidesPerColumn),M=0;M<c;M+=1){w=0;var L=u.eq(M);if(r.slidesPerColumn>1){var O=void 0,R=void 0,F=void 0;if("row"===r.slidesPerColumnFill&&r.slidesPerGroup>1){var B=Math.floor(M/(r.slidesPerGroup*r.slidesPerColumn)),N=M-r.slidesPerColumn*r.slidesPerGroup*B,U=0===B?r.slidesPerGroup:Math.min(Math.ceil((c-B*P*r.slidesPerGroup)/P),r.slidesPerGroup);O=(R=N-(F=Math.floor(N/U))*U+B*r.slidesPerGroup)+F*E/P,L.css({"-webkit-box-ordinal-group":O,"-moz-box-ordinal-group":O,"-ms-flex-order":O,"-webkit-order":O,order:O})}else"column"===r.slidesPerColumnFill?(F=M-(R=Math.floor(M/P))*P,(R>D||R===D&&F===P-1)&&(F+=1)>=P&&(F=0,R+=1)):R=M-(F=Math.floor(M/I))*I;L.css(t("margin-top"),0!==F&&r.spaceBetween&&r.spaceBetween+"px")}if("none"!==L.css("display")){if("auto"===r.slidesPerView){var j=getComputedStyle(L[0]),V=L[0].style.transform,z=L[0].style.webkitTransform;if(V&&(L[0].style.transform="none"),z&&(L[0].style.webkitTransform="none"),r.roundLengths)w=e.isHorizontal()?L.outerWidth(!0):L.outerHeight(!0);else{var G=i(j,"width"),H=i(j,"padding-left"),$=i(j,"padding-right"),q=i(j,"margin-left"),W=i(j,"margin-right"),X=j.getPropertyValue("box-sizing");if(X&&"border-box"===X)w=G+q+W;else{var Y=L[0],K=Y.clientWidth;w=G+H+$+q+W+(Y.offsetWidth-K)}}V&&(L[0].style.transform=V),z&&(L[0].style.webkitTransform=z),r.roundLengths&&(w=Math.floor(w))}else w=(s-(r.slidesPerView-1)*_)/r.slidesPerView,r.roundLengths&&(w=Math.floor(w)),u[M]&&(u[M].style[t("width")]=w+"px");u[M]&&(u[M].swiperSlideSize=w),f.push(w),r.centeredSlides?(b=b+w/2+T/2+_,0===T&&0!==M&&(b=b-s/2-_),0===M&&(b=b-s/2-_),Math.abs(b)<.001&&(b=0),r.roundLengths&&(b=Math.floor(b)),S%r.slidesPerGroup==0&&d.push(b),p.push(b)):(r.roundLengths&&(b=Math.floor(b)),(S-Math.min(e.params.slidesPerGroupSkip,S))%e.params.slidesPerGroup==0&&d.push(b),p.push(b),b=b+w+_),e.virtualSize+=w+_,T=w,S+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+g,a&&o&&("slide"===r.effect||"coverflow"===r.effect)&&n.css({width:e.virtualSize+r.spaceBetween+"px"}),r.setWrapperSize&&n.css(((x={})[t("width")]=e.virtualSize+r.spaceBetween+"px",x)),r.slidesPerColumn>1&&(e.virtualSize=(w+r.spaceBetween)*E,e.virtualSize=Math.ceil(e.virtualSize/r.slidesPerColumn)-r.spaceBetween,n.css(((k={})[t("width")]=e.virtualSize+r.spaceBetween+"px",k)),r.centeredSlides)){C=[];for(var Q=0;Q<d.length;Q+=1){var J=d[Q];r.roundLengths&&(J=Math.floor(J)),d[Q]<e.virtualSize+d[0]&&C.push(J)}d=C}if(!r.centeredSlides){C=[];for(var Z=0;Z<d.length;Z+=1){var ee=d[Z];r.roundLengths&&(ee=Math.floor(ee)),d[Z]<=e.virtualSize-s&&C.push(ee)}d=C,Math.floor(e.virtualSize-s)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-s)}if(0===d.length&&(d=[0]),0!==r.spaceBetween){var te,ie=e.isHorizontal()&&a?"marginLeft":t("marginRight");u.filter(function(e,t){return!r.cssMode||t!==u.length-1}).css(((te={})[ie]=_+"px",te))}if(r.centeredSlides&&r.centeredSlidesBounds){var re=0;f.forEach(function(e){re+=e+(r.spaceBetween?r.spaceBetween:0)});var ne=(re-=r.spaceBetween)-s;d=d.map(function(e){return e<0?-m:e>ne?ne+g:e})}if(r.centerInsufficientSlides){var se=0;if(f.forEach(function(e){se+=e+(r.spaceBetween?r.spaceBetween:0)}),(se-=r.spaceBetween)<s){var ae=(s-se)/2;d.forEach(function(e,t){d[t]=e-ae}),p.forEach(function(e,t){p[t]=e+ae})}}A(e,{slides:u,snapGrid:d,slidesGrid:p,slidesSizesGrid:f}),c!==h&&e.emit("slidesLengthChange"),d.length!==v&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==y&&e.emit("slidesGridLengthChange"),(r.watchSlidesProgress||r.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,i=[],r=0;if("number"==typeof e?this.setTransition(e):!0===e&&this.setTransition(this.params.speed),"auto"!==this.params.slidesPerView&&this.params.slidesPerView>1)if(this.params.centeredSlides)this.visibleSlides.each(function(e){i.push(e)});else for(t=0;t<Math.ceil(this.params.slidesPerView);t+=1){var n=this.activeIndex+t;if(n>this.slides.length)break;i.push(this.slides.eq(n)[0])}else i.push(this.slides.eq(this.activeIndex)[0]);for(t=0;t<i.length;t+=1)if(void 0!==i[t]){var s=i[t].offsetHeight;r=s>r?s:r}r&&this.$wrapperEl.css("height",r+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this.params,i=this.slides,r=this.rtlTranslate;if(0!==i.length){void 0===i[0].swiperSlideOffset&&this.updateSlidesOffset();var n=-e;r&&(n=e),i.removeClass(t.slideVisibleClass),this.visibleSlidesIndexes=[],this.visibleSlides=[];for(var s=0;s<i.length;s+=1){var a=i[s],o=(n+(t.centeredSlides?this.minTranslate():0)-a.swiperSlideOffset)/(a.swiperSlideSize+t.spaceBetween);if(t.watchSlidesVisibility||t.centeredSlides&&t.autoHeight){var l=-(n-a.swiperSlideOffset),h=l+this.slidesSizesGrid[s];(l>=0&&l<this.size-1||h>1&&h<=this.size||l<=0&&h>=this.size)&&(this.visibleSlides.push(a),this.visibleSlidesIndexes.push(s),i.eq(s).addClass(t.slideVisibleClass))}a.progress=r?-o:o}this.visibleSlides=E(this.visibleSlides)}},updateProgress:function(e){if(void 0===e){var t=this.rtlTranslate?-1:1;e=this&&this.translate&&this.translate*t||0}var i=this.params,r=this.maxTranslate()-this.minTranslate(),n=this.progress,s=this.isBeginning,a=this.isEnd,o=s,l=a;0===r?(n=0,s=!0,a=!0):(s=(n=(e-this.minTranslate())/r)<=0,a=n>=1),A(this,{progress:n,isBeginning:s,isEnd:a}),(i.watchSlidesProgress||i.watchSlidesVisibility||i.centeredSlides&&i.autoHeight)&&this.updateSlidesProgress(e),s&&!o&&this.emit("reachBeginning toEdge"),a&&!l&&this.emit("reachEnd toEdge"),(o&&!s||l&&!a)&&this.emit("fromEdge"),this.emit("progress",n)},updateSlidesClasses:function(){var e,t=this.slides,i=this.params,r=this.$wrapperEl,n=this.activeIndex,s=this.realIndex,a=this.virtual&&i.virtual.enabled;t.removeClass(i.slideActiveClass+" "+i.slideNextClass+" "+i.slidePrevClass+" "+i.slideDuplicateActiveClass+" "+i.slideDuplicateNextClass+" "+i.slideDuplicatePrevClass),(e=a?this.$wrapperEl.find("."+i.slideClass+'[data-swiper-slide-index="'+n+'"]'):t.eq(n)).addClass(i.slideActiveClass),i.loop&&(e.hasClass(i.slideDuplicateClass)?r.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+s+'"]').addClass(i.slideDuplicateActiveClass):r.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+s+'"]').addClass(i.slideDuplicateActiveClass));var o=e.nextAll("."+i.slideClass).eq(0).addClass(i.slideNextClass);i.loop&&0===o.length&&(o=t.eq(0)).addClass(i.slideNextClass);var l=e.prevAll("."+i.slideClass).eq(0).addClass(i.slidePrevClass);i.loop&&0===l.length&&(l=t.eq(-1)).addClass(i.slidePrevClass),i.loop&&(o.hasClass(i.slideDuplicateClass)?r.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+o.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass):r.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+o.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass),l.hasClass(i.slideDuplicateClass)?r.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass):r.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass)),this.emitSlidesClasses()},updateActiveIndex:function(e){var t,i=this.rtlTranslate?this.translate:-this.translate,r=this.slidesGrid,n=this.snapGrid,s=this.params,a=this.activeIndex,o=this.realIndex,l=this.snapIndex,h=e;if(void 0===h){for(var u=0;u<r.length;u+=1)void 0!==r[u+1]?i>=r[u]&&i<r[u+1]-(r[u+1]-r[u])/2?h=u:i>=r[u]&&i<r[u+1]&&(h=u+1):i>=r[u]&&(h=u);s.normalizeSlideIndex&&(h<0||void 0===h)&&(h=0)}if(n.indexOf(i)>=0)t=n.indexOf(i);else{var c=Math.min(s.slidesPerGroupSkip,h);t=c+Math.floor((h-c)/s.slidesPerGroup)}if(t>=n.length&&(t=n.length-1),h!==a){var d=parseInt(this.slides.eq(h).attr("data-swiper-slide-index")||h,10);A(this,{snapIndex:t,realIndex:d,previousIndex:a,activeIndex:h}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),o!==d&&this.emit("realIndexChange"),(this.initialized||this.params.runCallbacksOnInit)&&this.emit("slideChange")}else t!==l&&(this.snapIndex=t,this.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,i=this.params,r=E(e.target).closest("."+i.slideClass)[0],n=!1;if(r)for(var s=0;s<this.slides.length;s+=1)if(this.slides[s]===r){n=!0,t=s;break}if(!r||!n)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=r,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(E(r).attr("data-swiper-slide-index"),10):this.clickedIndex=t,i.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this.params,i=this.rtlTranslate,r=this.translate,n=this.$wrapperEl;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;var s=x(n[0],e);return i&&(s=-s),s||0},setTranslate:function(e,t){var i=this.rtlTranslate,r=this.params,n=this.$wrapperEl,s=this.wrapperEl,a=this.progress,o=0,l=0;this.isHorizontal()?o=i?-e:e:l=e,r.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),r.cssMode?s[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-o:-l:r.virtualTranslate||n.transform("translate3d("+o+"px, "+l+"px, 0px)"),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?o:l;var h=this.maxTranslate()-this.minTranslate();(0===h?0:(e-this.minTranslate())/h)!==a&&this.updateProgress(e),this.emit("setTranslate",this.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,i,r,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),void 0===r&&(r=!0);var s=this,a=s.params,o=s.wrapperEl;if(s.animating&&a.preventInteractionOnTransition)return!1;var l,h=s.minTranslate(),u=s.maxTranslate();if(l=r&&e>h?h:r&&e<u?u:e,s.updateProgress(l),a.cssMode){var c,d=s.isHorizontal();return 0===t?o[d?"scrollLeft":"scrollTop"]=-l:o.scrollTo?o.scrollTo(((c={})[d?"left":"top"]=-l,c.behavior="smooth",c)):o[d?"scrollLeft":"scrollTop"]=-l,!0}return 0===t?(s.setTransition(0),s.setTranslate(l),i&&(s.emit("beforeTransitionStart",t,n),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(l),i&&(s.emit("beforeTransitionStart",t,n),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,i&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){this.params.cssMode||this.$wrapperEl.transition(e),this.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var i=this.activeIndex,r=this.params,n=this.previousIndex;if(!r.cssMode){r.autoHeight&&this.updateAutoHeight();var s=t;if(s||(s=i>n?"next":i<n?"prev":"reset"),this.emit("transitionStart"),e&&i!==n){if("reset"===s)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),"next"===s?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}}},transitionEnd:function(e,t){void 0===e&&(e=!0);var i=this.activeIndex,r=this.previousIndex,n=this.params;if(this.animating=!1,!n.cssMode){this.setTransition(0);var s=t;if(s||(s=i>r?"next":i<r?"prev":"reset"),this.emit("transitionEnd"),e&&i!==r){if("reset"===s)return void this.emit("slideResetTransitionEnd");this.emit("slideChangeTransitionEnd"),"next"===s?this.emit("slideNextTransitionEnd"):this.emit("slidePrevTransitionEnd")}}}},slide:{slideTo:function(e,t,i,r){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof e+"] given.");if("string"==typeof e){var n=parseInt(e,10);if(!isFinite(n))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+e+"] given.");e=n}var s=this,a=e;a<0&&(a=0);var o=s.params,l=s.snapGrid,h=s.slidesGrid,u=s.previousIndex,c=s.activeIndex,d=s.rtlTranslate,p=s.wrapperEl;if(s.animating&&o.preventInteractionOnTransition)return!1;var f=Math.min(s.params.slidesPerGroupSkip,a),m=f+Math.floor((a-f)/s.params.slidesPerGroup);m>=l.length&&(m=l.length-1),(c||o.initialSlide||0)===(u||0)&&i&&s.emit("beforeSlideChangeStart");var g,v=-l[m];if(s.updateProgress(v),o.normalizeSlideIndex)for(var y=0;y<h.length;y+=1){var _=-Math.floor(100*v),b=Math.floor(100*h[y]),T=Math.floor(100*h[y+1]);void 0!==h[y+1]?_>=b&&_<T-(T-b)/2?a=y:_>=b&&_<T&&(a=y+1):_>=b&&(a=y)}if(s.initialized&&a!==c){if(!s.allowSlideNext&&v<s.translate&&v<s.minTranslate())return!1;if(!s.allowSlidePrev&&v>s.translate&&v>s.maxTranslate()&&(c||0)!==a)return!1}if(g=a>c?"next":a<c?"prev":"reset",d&&-v===s.translate||!d&&v===s.translate)return s.updateActiveIndex(a),o.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==o.effect&&s.setTranslate(v),"reset"!==g&&(s.transitionStart(i,g),s.transitionEnd(i,g)),!1;if(o.cssMode){var S,E=s.isHorizontal(),w=-v;return d&&(w=p.scrollWidth-p.offsetWidth-w),0===t?p[E?"scrollLeft":"scrollTop"]=w:p.scrollTo?p.scrollTo(((S={})[E?"left":"top"]=w,S.behavior="smooth",S)):p[E?"scrollLeft":"scrollTop"]=w,!0}return 0===t?(s.setTransition(0),s.setTranslate(v),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,r),s.transitionStart(i,g),s.transitionEnd(i,g)):(s.setTransition(t),s.setTranslate(v),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,r),s.transitionStart(i,g),s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(i,g))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0);var n=e;return this.params.loop&&(n+=this.loopedSlides),this.slideTo(n,t,i,r)},slideNext:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this.params,n=this.animating,s=this.activeIndex<r.slidesPerGroupSkip?1:r.slidesPerGroup;if(r.loop){if(n&&r.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}return this.slideTo(this.activeIndex+s,e,t,i)},slidePrev:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this.params,n=this.animating,s=this.snapGrid,a=this.slidesGrid,o=this.rtlTranslate;if(r.loop){if(n&&r.loopPreventsSlide)return!1;this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft}function l(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var h,u=l(o?this.translate:-this.translate),c=s.map(function(e){return l(e)}),d=(s[c.indexOf(u)],s[c.indexOf(u)-1]);return void 0===d&&r.cssMode&&s.forEach(function(e){!d&&u>=e&&(d=e)}),void 0!==d&&(h=a.indexOf(d))<0&&(h=this.activeIndex-1),this.slideTo(h,e,t,i)},slideReset:function(e,t,i){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,i)},slideToClosest:function(e,t,i,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);var n=this.activeIndex,s=Math.min(this.params.slidesPerGroupSkip,n),a=s+Math.floor((n-s)/this.params.slidesPerGroup),o=this.rtlTranslate?this.translate:-this.translate;if(o>=this.snapGrid[a]){var l=this.snapGrid[a];o-l>(this.snapGrid[a+1]-l)*r&&(n+=this.params.slidesPerGroup)}else{var h=this.snapGrid[a-1];o-h<=(this.snapGrid[a]-h)*r&&(n-=this.params.slidesPerGroup)}return n=Math.max(n,0),n=Math.min(n,this.slidesGrid.length-1),this.slideTo(n,e,t,i)},slideToClickedSlide:function(){var e,t=this,i=t.params,r=t.$wrapperEl,n="auto"===i.slidesPerView?t.slidesPerViewDynamic():i.slidesPerView,s=t.clickedIndex;if(i.loop){if(t.animating)return;e=parseInt(E(t.clickedSlide).attr("data-swiper-slide-index"),10),i.centeredSlides?s<t.loopedSlides-n/2||s>t.slides.length-t.loopedSlides+n/2?(t.loopFix(),s=r.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),w(function(){t.slideTo(s)})):t.slideTo(s):s>t.slides.length-n?(t.loopFix(),s=r.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),w(function(){t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}},loop:{loopCreate:function(){var e=this,t=a(),i=e.params,r=e.$wrapperEl;r.children("."+i.slideClass+"."+i.slideDuplicateClass).remove();var n=r.children("."+i.slideClass);if(i.loopFillGroupWithBlank){var s=i.slidesPerGroup-n.length%i.slidesPerGroup;if(s!==i.slidesPerGroup){for(var o=0;o<s;o+=1){var l=E(t.createElement("div")).addClass(i.slideClass+" "+i.slideBlankClass);r.append(l)}n=r.children("."+i.slideClass)}}"auto"!==i.slidesPerView||i.loopedSlides||(i.loopedSlides=n.length),e.loopedSlides=Math.ceil(parseFloat(i.loopedSlides||i.slidesPerView,10)),e.loopedSlides+=i.loopAdditionalSlides,e.loopedSlides>n.length&&(e.loopedSlides=n.length);var h=[],u=[];n.each(function(t,i){var r=E(t);i<e.loopedSlides&&u.push(t),i<n.length&&i>=n.length-e.loopedSlides&&h.push(t),r.attr("data-swiper-slide-index",i)});for(var c=0;c<u.length;c+=1)r.append(E(u[c].cloneNode(!0)).addClass(i.slideDuplicateClass));for(var d=h.length-1;d>=0;d-=1)r.prepend(E(h[d].cloneNode(!0)).addClass(i.slideDuplicateClass))},loopFix:function(){this.emit("beforeLoopFix");var e,t=this.activeIndex,i=this.slides,r=this.loopedSlides,n=this.allowSlidePrev,s=this.allowSlideNext,a=this.snapGrid,o=this.rtlTranslate;this.allowSlidePrev=!0,this.allowSlideNext=!0;var l=-a[t]-this.getTranslate();t<r?(e=i.length-3*r+t,e+=r,this.slideTo(e,0,!1,!0)&&0!==l&&this.setTranslate((o?-this.translate:this.translate)-l)):t>=i.length-r&&(e=-i.length+t+r,e+=r,this.slideTo(e,0,!1,!0)&&0!==l&&this.setTranslate((o?-this.translate:this.translate)-l));this.allowSlidePrev=n,this.allowSlideNext=s,this.emit("loopFix")},loopDestroy:function(){var e=this.$wrapperEl,t=this.params,i=this.slides;e.children("."+t.slideClass+"."+t.slideDuplicateClass+",."+t.slideClass+"."+t.slideBlankClass).remove(),i.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){if(!(this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)){var t=this.el;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){this.support.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this.el.style.cursor="")}},manipulation:{appendSlide:function(e){var t=this.$wrapperEl,i=this.params;if(i.loop&&this.loopDestroy(),"object"==typeof e&&"length"in e)for(var r=0;r<e.length;r+=1)e[r]&&t.append(e[r]);else t.append(e);i.loop&&this.loopCreate(),i.observer&&this.support.observer||this.update()},prependSlide:function(e){var t=this.params,i=this.$wrapperEl,r=this.activeIndex;t.loop&&this.loopDestroy();var n=r+1;if("object"==typeof e&&"length"in e){for(var s=0;s<e.length;s+=1)e[s]&&i.prepend(e[s]);n=r+e.length}else i.prepend(e);t.loop&&this.loopCreate(),t.observer&&this.support.observer||this.update(),this.slideTo(n,0,!1)},addSlide:function(e,t){var i=this.$wrapperEl,r=this.params,n=this.activeIndex;r.loop&&(n-=this.loopedSlides,this.loopDestroy(),this.slides=i.children("."+r.slideClass));var s=this.slides.length;if(e<=0)this.prependSlide(t);else if(e>=s)this.appendSlide(t);else{for(var a=n>e?n+1:n,o=[],l=s-1;l>=e;l-=1){var h=this.slides.eq(l);h.remove(),o.unshift(h)}if("object"==typeof t&&"length"in t){for(var u=0;u<t.length;u+=1)t[u]&&i.append(t[u]);a=n>e?n+t.length:n}else i.append(t);for(var c=0;c<o.length;c+=1)i.append(o[c]);r.loop&&this.loopCreate(),r.observer&&this.support.observer||this.update(),r.loop?this.slideTo(a+this.loopedSlides,0,!1):this.slideTo(a,0,!1)}},removeSlide:function(e){var t=this.params,i=this.$wrapperEl,r=this.activeIndex;t.loop&&(r-=this.loopedSlides,this.loopDestroy(),this.slides=i.children("."+t.slideClass));var n,s=r;if("object"==typeof e&&"length"in e){for(var a=0;a<e.length;a+=1)n=e[a],this.slides[n]&&this.slides.eq(n).remove(),n<s&&(s-=1);s=Math.max(s,0)}else n=e,this.slides[n]&&this.slides.eq(n).remove(),n<s&&(s-=1),s=Math.max(s,0);t.loop&&this.loopCreate(),t.observer&&this.support.observer||this.update(),t.loop?this.slideTo(s+this.loopedSlides,0,!1):this.slideTo(s,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},events:{attachEvents:function(){var e=a(),t=this.params,i=this.touchEvents,r=this.el,n=this.wrapperEl,s=this.device,o=this.support;this.onTouchStart=function(e){var t=a(),i=l(),r=this.touchEventsData,n=this.params,s=this.touches;if(!this.animating||!n.preventInteractionOnTransition){var o=e;o.originalEvent&&(o=o.originalEvent);var h=E(o.target);if(("wrapper"!==n.touchEventsTarget||h.closest(this.wrapperEl).length)&&(r.isTouchEvent="touchstart"===o.type,(r.isTouchEvent||!("which"in o)||3!==o.which)&&!(!r.isTouchEvent&&"button"in o&&o.button>0||r.isTouched&&r.isMoved)))if(!!n.noSwipingClass&&""!==n.noSwipingClass&&o.target&&o.target.shadowRoot&&e.path&&e.path[0]&&(h=E(e.path[0])),n.noSwiping&&h.closest(n.noSwipingSelector?n.noSwipingSelector:"."+n.noSwipingClass)[0])this.allowClick=!0;else if(!n.swipeHandler||h.closest(n.swipeHandler)[0]){s.currentX="touchstart"===o.type?o.targetTouches[0].pageX:o.pageX,s.currentY="touchstart"===o.type?o.targetTouches[0].pageY:o.pageY;var u=s.currentX,c=s.currentY,d=n.edgeSwipeDetection||n.iOSEdgeSwipeDetection,p=n.edgeSwipeThreshold||n.iOSEdgeSwipeThreshold;if(d&&(u<=p||u>=i.innerWidth-p)){if("prevent"!==d)return;e.preventDefault()}if(A(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=u,s.startY=c,r.touchStartTime=C(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,n.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==o.type){var f=!0;h.is(r.formElements)&&(f=!1),t.activeElement&&E(t.activeElement).is(r.formElements)&&t.activeElement!==h[0]&&t.activeElement.blur();var m=f&&this.allowTouchMove&&n.touchStartPreventDefault;!n.touchStartForcePreventDefault&&!m||h[0].isContentEditable||o.preventDefault()}this.emit("touchStart",o)}}}.bind(this),this.onTouchMove=function(e){var t=a(),i=this.touchEventsData,r=this.params,n=this.touches,s=this.rtlTranslate,o=e;if(o.originalEvent&&(o=o.originalEvent),i.isTouched){if(!i.isTouchEvent||"touchmove"===o.type){var l="touchmove"===o.type&&o.targetTouches&&(o.targetTouches[0]||o.changedTouches[0]),h="touchmove"===o.type?l.pageX:o.pageX,u="touchmove"===o.type?l.pageY:o.pageY;if(o.preventedByNestedSwiper)return n.startX=h,void(n.startY=u);if(!this.allowTouchMove)return this.allowClick=!1,void(i.isTouched&&(A(n,{startX:h,startY:u,currentX:h,currentY:u}),i.touchStartTime=C()));if(i.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(this.isVertical()){if(u<n.startY&&this.translate<=this.maxTranslate()||u>n.startY&&this.translate>=this.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(h<n.startX&&this.translate<=this.maxTranslate()||h>n.startX&&this.translate>=this.minTranslate())return;if(i.isTouchEvent&&t.activeElement&&o.target===t.activeElement&&E(o.target).is(i.formElements))return i.isMoved=!0,void(this.allowClick=!1);if(i.allowTouchCallbacks&&this.emit("touchMove",o),!(o.targetTouches&&o.targetTouches.length>1)){n.currentX=h,n.currentY=u;var c,d=n.currentX-n.startX,p=n.currentY-n.startY;if(!(this.params.threshold&&Math.sqrt(Math.pow(d,2)+Math.pow(p,2))<this.params.threshold))if(void 0===i.isScrolling&&(this.isHorizontal()&&n.currentY===n.startY||this.isVertical()&&n.currentX===n.startX?i.isScrolling=!1:d*d+p*p>=25&&(c=180*Math.atan2(Math.abs(p),Math.abs(d))/Math.PI,i.isScrolling=this.isHorizontal()?c>r.touchAngle:90-c>r.touchAngle)),i.isScrolling&&this.emit("touchMoveOpposite",o),void 0===i.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(i.startMoving=!0)),i.isScrolling)i.isTouched=!1;else if(i.startMoving){this.allowClick=!1,!r.cssMode&&o.cancelable&&o.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&o.stopPropagation(),i.isMoved||(r.loop&&this.loopFix(),i.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,!r.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",o)),this.emit("sliderMove",o),i.isMoved=!0;var f=this.isHorizontal()?d:p;n.diff=f,f*=r.touchRatio,s&&(f=-f),this.swipeDirection=f>0?"prev":"next",i.currentTranslate=f+i.startTranslate;var m=!0,g=r.resistanceRatio;if(r.touchReleaseOnEdges&&(g=0),f>0&&i.currentTranslate>this.minTranslate()?(m=!1,r.resistance&&(i.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+i.startTranslate+f,g))):f<0&&i.currentTranslate<this.maxTranslate()&&(m=!1,r.resistance&&(i.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-i.startTranslate-f,g))),m&&(o.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),this.allowSlidePrev||this.allowSlideNext||(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(f)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,void(n.diff=this.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}r.followFinger&&!r.cssMode&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(this.updateActiveIndex(),this.updateSlidesClasses()),r.freeMode&&(0===i.velocities.length&&i.velocities.push({position:n[this.isHorizontal()?"startX":"startY"],time:i.touchStartTime}),i.velocities.push({position:n[this.isHorizontal()?"currentX":"currentY"],time:C()})),this.updateProgress(i.currentTranslate),this.setTranslate(i.currentTranslate))}}}}else i.startMoving&&i.isScrolling&&this.emit("touchMoveOpposite",o)}.bind(this),this.onTouchEnd=function(e){var t=this,i=t.touchEventsData,r=t.params,n=t.touches,s=t.rtlTranslate,a=t.$wrapperEl,o=t.slidesGrid,l=t.snapGrid,h=e;if(h.originalEvent&&(h=h.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",h),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&r.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);r.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,c=C(),d=c-i.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(h),t.emit("tap click",h),d<300&&c-i.lastClickTime<300&&t.emit("doubleTap doubleClick",h)),i.lastClickTime=C(),w(function(){t.destroyed||(t.allowClick=!0)}),!i.isTouched||!i.isMoved||!t.swipeDirection||0===n.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,u=r.followFinger?s?t.translate:-t.translate:-i.currentTranslate,!r.cssMode)if(r.freeMode){if(u<-t.minTranslate())return void t.slideTo(t.activeIndex);if(u>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(r.freeModeMomentum){if(i.velocities.length>1){var p=i.velocities.pop(),f=i.velocities.pop(),m=p.position-f.position,g=p.time-f.time;t.velocity=m/g,t.velocity/=2,Math.abs(t.velocity)<r.freeModeMinimumVelocity&&(t.velocity=0),(g>150||C()-p.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=r.freeModeMomentumVelocityRatio,i.velocities.length=0;var v=1e3*r.freeModeMomentumRatio,y=t.velocity*v,_=t.translate+y;s&&(_=-_);var b,T,S=!1,E=20*Math.abs(t.velocity)*r.freeModeMomentumBounceRatio;if(_<t.maxTranslate())r.freeModeMomentumBounce?(_+t.maxTranslate()<-E&&(_=t.maxTranslate()-E),b=t.maxTranslate(),S=!0,i.allowMomentumBounce=!0):_=t.maxTranslate(),r.loop&&r.centeredSlides&&(T=!0);else if(_>t.minTranslate())r.freeModeMomentumBounce?(_-t.minTranslate()>E&&(_=t.minTranslate()+E),b=t.minTranslate(),S=!0,i.allowMomentumBounce=!0):_=t.minTranslate(),r.loop&&r.centeredSlides&&(T=!0);else if(r.freeModeSticky){for(var x,k=0;k<l.length;k+=1)if(l[k]>-_){x=k;break}_=-(_=Math.abs(l[x]-_)<Math.abs(l[x-1]-_)||"next"===t.swipeDirection?l[x]:l[x-1])}if(T&&t.once("transitionEnd",function(){t.loopFix()}),0!==t.velocity){if(v=s?Math.abs((-_-t.translate)/t.velocity):Math.abs((_-t.translate)/t.velocity),r.freeModeSticky){var A=Math.abs((s?-_:_)-t.translate),P=t.slidesSizesGrid[t.activeIndex];v=A<P?r.speed:A<2*P?1.5*r.speed:2.5*r.speed}}else if(r.freeModeSticky)return void t.slideToClosest();r.freeModeMomentumBounce&&S?(t.updateProgress(b),t.setTransition(v),t.setTranslate(_),t.transitionStart(!0,t.swipeDirection),t.animating=!0,a.transitionEnd(function(){t&&!t.destroyed&&i.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(r.speed),setTimeout(function(){t.setTranslate(b),a.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()})},0))})):t.velocity?(t.updateProgress(_),t.setTransition(v),t.setTranslate(_),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,a.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))):(t.emit("_freeModeNoMomentumRelease"),t.updateProgress(_)),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(r.freeModeSticky)return void t.slideToClosest();r.freeMode&&t.emit("_freeModeNoMomentumRelease")}(!r.freeModeMomentum||d>=r.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var I=0,D=t.slidesSizesGrid[0],M=0;M<o.length;M+=M<r.slidesPerGroupSkip?1:r.slidesPerGroup){var L=M<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==o[M+L]?u>=o[M]&&u<o[M+L]&&(I=M,D=o[M+L]-o[M]):u>=o[M]&&(I=M,D=o[o.length-1]-o[o.length-2])}var O=(u-o[I])/D,R=I<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(O>=r.longSwipesRatio?t.slideTo(I+R):t.slideTo(I)),"prev"===t.swipeDirection&&(O>1-r.longSwipesRatio?t.slideTo(I+R):t.slideTo(I))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||h.target!==t.navigation.nextEl&&h.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(I+R),"prev"===t.swipeDirection&&t.slideTo(I)):h.target===t.navigation.nextEl?t.slideTo(I+R):t.slideTo(I)}}}.bind(this),t.cssMode&&(this.onScroll=function(){var e=this.wrapperEl,t=this.rtlTranslate;this.previousTranslate=this.translate,this.isHorizontal()?this.translate=t?e.scrollWidth-e.offsetWidth-e.scrollLeft:-e.scrollLeft:this.translate=-e.scrollTop,-0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();var i=this.maxTranslate()-this.minTranslate();(0===i?0:(this.translate-this.minTranslate())/i)!==this.progress&&this.updateProgress(t?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}.bind(this)),this.onClick=function(e){this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}.bind(this);var h=!!t.nested;if(!o.touch&&o.pointerEvents)r.addEventListener(i.start,this.onTouchStart,!1),e.addEventListener(i.move,this.onTouchMove,h),e.addEventListener(i.end,this.onTouchEnd,!1);else{if(o.touch){var u=!("touchstart"!==i.start||!o.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};r.addEventListener(i.start,this.onTouchStart,u),r.addEventListener(i.move,this.onTouchMove,o.passiveListener?{passive:!1,capture:h}:h),r.addEventListener(i.end,this.onTouchEnd,u),i.cancel&&r.addEventListener(i.cancel,this.onTouchEnd,u),U||(e.addEventListener("touchstart",j),U=!0)}(t.simulateTouch&&!s.ios&&!s.android||t.simulateTouch&&!o.touch&&s.ios)&&(r.addEventListener("mousedown",this.onTouchStart,!1),e.addEventListener("mousemove",this.onTouchMove,h),e.addEventListener("mouseup",this.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&r.addEventListener("click",this.onClick,!0),t.cssMode&&n.addEventListener("scroll",this.onScroll),t.updateOnWindowResize?this.on(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",N,!0):this.on("observerUpdate",N,!0)},detachEvents:function(){var e=a(),t=this.params,i=this.touchEvents,r=this.el,n=this.wrapperEl,s=this.device,o=this.support,l=!!t.nested;if(!o.touch&&o.pointerEvents)r.removeEventListener(i.start,this.onTouchStart,!1),e.removeEventListener(i.move,this.onTouchMove,l),e.removeEventListener(i.end,this.onTouchEnd,!1);else{if(o.touch){var h=!("onTouchStart"!==i.start||!o.passiveListener||!t.passiveListeners)&&{passive:!0,capture:!1};r.removeEventListener(i.start,this.onTouchStart,h),r.removeEventListener(i.move,this.onTouchMove,l),r.removeEventListener(i.end,this.onTouchEnd,h),i.cancel&&r.removeEventListener(i.cancel,this.onTouchEnd,h)}(t.simulateTouch&&!s.ios&&!s.android||t.simulateTouch&&!o.touch&&s.ios)&&(r.removeEventListener("mousedown",this.onTouchStart,!1),e.removeEventListener("mousemove",this.onTouchMove,l),e.removeEventListener("mouseup",this.onTouchEnd,!1))}(t.preventClicks||t.preventClicksPropagation)&&r.removeEventListener("click",this.onClick,!0),t.cssMode&&n.removeEventListener("scroll",this.onScroll),this.off(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",N)}},breakpoints:{setBreakpoint:function(){var e=this.activeIndex,t=this.initialized,i=this.loopedSlides,r=void 0===i?0:i,n=this.params,s=this.$el,a=n.breakpoints;if(a&&(!a||0!==Object.keys(a).length)){var o=this.getBreakpoint(a,this.params.breakpointsBase,this.el);if(o&&this.currentBreakpoint!==o){var l=o in a?a[o]:void 0;l&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach(function(e){var t=l[e];void 0!==t&&(l[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")});var h=l||this.originalParams,u=n.slidesPerColumn>1,c=h.slidesPerColumn>1;u&&!c?(s.removeClass(n.containerModifierClass+"multirow "+n.containerModifierClass+"multirow-column"),this.emitContainerClasses()):!u&&c&&(s.addClass(n.containerModifierClass+"multirow"),"column"===h.slidesPerColumnFill&&s.addClass(n.containerModifierClass+"multirow-column"),this.emitContainerClasses());var d=h.direction&&h.direction!==n.direction,p=n.loop&&(h.slidesPerView!==n.slidesPerView||d);d&&t&&this.changeDirection(),A(this.params,h),A(this,{allowTouchMove:this.params.allowTouchMove,allowSlideNext:this.params.allowSlideNext,allowSlidePrev:this.params.allowSlidePrev}),this.currentBreakpoint=o,this.emit("_beforeBreakpoint",h),p&&t&&(this.loopDestroy(),this.loopCreate(),this.updateSlides(),this.slideTo(e-r+this.loopedSlides,0,!1)),this.emit("breakpoint",h)}}},getBreakpoint:function(e,t,i){if(void 0===t&&(t="window"),e&&("container"!==t||i)){var r=!1,n=l(),s="window"===t?n.innerWidth:i.clientWidth,a="window"===t?n.innerHeight:i.clientHeight,o=Object.keys(e).map(function(e){if("string"==typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:a*t,point:e}}return{value:e,point:e}});o.sort(function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)});for(var h=0;h<o.length;h+=1){var u=o[h],c=u.point;u.value<=s&&(r=c)}return r||"max"}}},checkOverflow:{checkOverflow:function(){var e=this.params,t=this.isLocked,i=this.slides.length>0&&e.slidesOffsetBefore+e.spaceBetween*(this.slides.length-1)+this.slides[0].offsetWidth*this.slides.length;e.slidesOffsetBefore&&e.slidesOffsetAfter&&i?this.isLocked=i<=this.size:this.isLocked=1===this.snapGrid.length,this.allowSlideNext=!this.isLocked,this.allowSlidePrev=!this.isLocked,t!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock"),t&&t!==this.isLocked&&(this.isEnd=!1,this.navigation&&this.navigation.update())}},classes:{addClasses:function(){var e,t,i,r=this.classNames,n=this.params,s=this.rtl,a=this.$el,o=this.device,l=this.support,h=(e=["initialized",n.direction,{"pointer-events":l.pointerEvents&&!l.touch},{"free-mode":n.freeMode},{autoheight:n.autoHeight},{rtl:s},{multirow:n.slidesPerColumn>1},{"multirow-column":n.slidesPerColumn>1&&"column"===n.slidesPerColumnFill},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode}],t=n.containerModifierClass,i=[],e.forEach(function(e){"object"==typeof e?Object.keys(e).forEach(function(r){e[r]&&i.push(t+r)}):"string"==typeof e&&i.push(t+e)}),i);r.push.apply(r,h),a.addClass([].concat(r).join(" ")),this.emitContainerClasses()},removeClasses:function(){var e=this.$el,t=this.classNames;e.removeClass(t.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(e,t,i,r,n,s){var a,o=l();function h(){s&&s()}E(e).parent("picture")[0]||e.complete&&n?h():t?((a=new o.Image).onload=h,a.onerror=h,r&&(a.sizes=r),i&&(a.srcset=i),t&&(a.src=t)):h()},preloadImages:function(){var e=this;function t(){void 0!==e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var i=0;i<e.imagesToLoad.length;i+=1){var r=e.imagesToLoad[i];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}}},H={},$=function(){function e(){for(var t,i,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];if(1===n.length&&n[0].constructor&&"Object"===Object.prototype.toString.call(n[0]).slice(8,-1)?i=n[0]:(t=n[0],i=n[1]),i||(i={}),i=A({},i),t&&!i.el&&(i.el=t),i.el&&E(i.el).length>1){var a=[];return E(i.el).each(function(t){var r=A({},i,{el:t});a.push(new e(r))}),a}var o=this;o.__swiper__=!0,o.support=D(),o.device=M({userAgent:i.userAgent}),o.browser=L(),o.eventsListeners={},o.eventsAnyListeners=[],void 0===o.modules&&(o.modules={}),Object.keys(o.modules).forEach(function(e){var t=o.modules[e];if(t.params){var r=Object.keys(t.params)[0],n=t.params[r];if("object"!=typeof n||null===n)return;if(!(r in i&&"enabled"in n))return;!0===i[r]&&(i[r]={enabled:!0}),"object"!=typeof i[r]||"enabled"in i[r]||(i[r].enabled=!0),i[r]||(i[r]={enabled:!1})}});var l,h,u=A({},V);return o.useParams(u),o.params=A({},u,H,i),o.originalParams=A({},o.params),o.passedParams=A({},i),o.params&&o.params.on&&Object.keys(o.params.on).forEach(function(e){o.on(e,o.params.on[e])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),o.$=E,A(o,{el:t,classNames:[],slides:E(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===o.params.direction},isVertical:function(){return"vertical"===o.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEvents:(l=["touchstart","touchmove","touchend","touchcancel"],h=["mousedown","mousemove","mouseup"],o.support.pointerEvents&&(h=["pointerdown","pointermove","pointerup"]),o.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},o.touchEventsDesktop={start:h[0],move:h[1],end:h[2]},o.support.touch||!o.params.simulateTouch?o.touchEventsTouch:o.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:C(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.useModules(),o.emit("_swiper"),o.params.init&&o.init(),o}var t,i,r,n=e.prototype;return n.setProgress=function(e,t){e=Math.min(Math.max(e,0),1);var i=this.minTranslate(),r=(this.maxTranslate()-i)*e+i;this.translateTo(r,void 0===t?0:t),this.updateActiveIndex(),this.updateSlidesClasses()},n.emitContainerClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter(function(t){return 0===t.indexOf("swiper-container")||0===t.indexOf(e.params.containerModifierClass)});e.emit("_containerClasses",t.join(" "))}},n.getSlideClasses=function(e){var t=this;return e.className.split(" ").filter(function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)}).join(" ")},n.emitSlidesClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each(function(i){var r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",t)}},n.slidesPerViewDynamic=function(){var e=this.params,t=this.slides,i=this.slidesGrid,r=this.size,n=this.activeIndex,s=1;if(e.centeredSlides){for(var a,o=t[n].swiperSlideSize,l=n+1;l<t.length;l+=1)t[l]&&!a&&(s+=1,(o+=t[l].swiperSlideSize)>r&&(a=!0));for(var h=n-1;h>=0;h-=1)t[h]&&!a&&(s+=1,(o+=t[h].swiperSlideSize)>r&&(a=!0))}else for(var u=n+1;u<t.length;u+=1)i[u]-i[n]<r&&(s+=1);return s},n.update=function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,i=e.params;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,i=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}},n.changeDirection=function(e,t){void 0===t&&(t=!0);var i=this.params.direction;return e||(e="horizontal"===i?"vertical":"horizontal"),e===i||"horizontal"!==e&&"vertical"!==e?this:(this.$el.removeClass(""+this.params.containerModifierClass+i).addClass(""+this.params.containerModifierClass+e),this.emitContainerClasses(),this.params.direction=e,this.slides.each(function(t){"vertical"===e?t.style.width="":t.style.height=""}),this.emit("changeDirection"),t&&this.update(),this)},n.mount=function(e){if(this.mounted)return!0;var t,i=E(e||this.params.el);return!!(e=i[0])&&(e.swiper=this,e&&e.shadowRoot&&e.shadowRoot.querySelector?(t=E(e.shadowRoot.querySelector("."+this.params.wrapperClass))).children=function(e){return i.children(e)}:t=i.children("."+this.params.wrapperClass),A(this,{$el:i,el:e,$wrapperEl:t,wrapperEl:t[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===this.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===t.css("display")}),!0)},n.init=function(e){return this.initialized?this:!1===this.mount(e)?this:(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.params.loop?this.slideTo(this.params.initialSlide+this.loopedSlides,0,this.params.runCallbacksOnInit):this.slideTo(this.params.initialSlide,0,this.params.runCallbacksOnInit),this.attachEvents(),this.initialized=!0,this.emit("init"),this.emit("afterInit"),this)},n.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var i,r=this,n=r.params,s=r.$el,a=r.$wrapperEl,o=r.slides;return void 0===r.params||r.destroyed?null:(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),n.loop&&r.loopDestroy(),t&&(r.removeClasses(),s.removeAttr("style"),a.removeAttr("style"),o&&o.length&&o.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(function(e){r.off(e)}),!1!==e&&(r.$el[0].swiper=null,i=r,Object.keys(i).forEach(function(e){try{i[e]=null}catch(e){}try{delete i[e]}catch(e){}})),r.destroyed=!0,null)},e.extendDefaults=function(e){A(H,e)},e.installModule=function(t){e.prototype.modules||(e.prototype.modules={});var i=t.name||Object.keys(e.prototype.modules).length+"_"+C();e.prototype.modules[i]=t},e.use=function(t){return Array.isArray(t)?(t.forEach(function(t){return e.installModule(t)}),e):(e.installModule(t),e)},t=e,r=[{key:"extendedDefaults",get:function(){return H}},{key:"defaults",get:function(){return V}}],(i=null)&&z(t.prototype,i),r&&z(t,r),e}();Object.keys(G).forEach(function(e){Object.keys(G[e]).forEach(function(t){$.prototype[t]=G[e][t]})}),$.use([O,B]);var q=$;function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var X={update:function(e){var t=this,i=t.params,r=i.slidesPerView,n=i.slidesPerGroup,s=i.centeredSlides,a=t.params.virtual,o=a.addSlidesBefore,l=a.addSlidesAfter,h=t.virtual,u=h.from,c=h.to,d=h.slides,p=h.slidesGrid,f=h.renderSlide,m=h.offset;t.updateActiveIndex();var g,v,y,_=t.activeIndex||0;g=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",s?(v=Math.floor(r/2)+n+l,y=Math.floor(r/2)+n+o):(v=r+(n-1)+l,y=n+o);var b=Math.max((_||0)-y,0),T=Math.min((_||0)+v,d.length-1),S=(t.slidesGrid[b]||0)-(t.slidesGrid[0]||0);function E(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(A(t.virtual,{from:b,to:T,offset:S,slidesGrid:t.slidesGrid}),u===b&&c===T&&!e)return t.slidesGrid!==p&&S!==m&&t.slides.css(g,S+"px"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:S,from:b,to:T,slides:function(){for(var e=[],t=b;t<=T;t+=1)e.push(d[t]);return e}()}),void(t.params.virtual.renderExternalUpdate&&E());var w=[],C=[];if(e)t.$wrapperEl.find("."+t.params.slideClass).remove();else for(var x=u;x<=c;x+=1)(x<b||x>T)&&t.$wrapperEl.find("."+t.params.slideClass+'[data-swiper-slide-index="'+x+'"]').remove();for(var k=0;k<d.length;k+=1)k>=b&&k<=T&&(void 0===c||e?C.push(k):(k>c&&C.push(k),k<u&&w.push(k)));C.forEach(function(e){t.$wrapperEl.append(f(d[e],e))}),w.sort(function(e,t){return t-e}).forEach(function(e){t.$wrapperEl.prepend(f(d[e],e))}),t.$wrapperEl.children(".swiper-slide").css(g,S+"px"),E()},renderSlide:function(e,t){var i=this.params.virtual;if(i.cache&&this.virtual.cache[t])return this.virtual.cache[t];var r=i.renderSlide?E(i.renderSlide.call(this,e,t)):E('<div class="'+this.params.slideClass+'" data-swiper-slide-index="'+t+'">'+e+"</div>");return r.attr("data-swiper-slide-index")||r.attr("data-swiper-slide-index",t),i.cache&&(this.virtual.cache[t]=r),r},appendSlide:function(e){if("object"==typeof e&&"length"in e)for(var t=0;t<e.length;t+=1)e[t]&&this.virtual.slides.push(e[t]);else this.virtual.slides.push(e);this.virtual.update(!0)},prependSlide:function(e){var t=this.activeIndex,i=t+1,r=1;if(Array.isArray(e)){for(var n=0;n<e.length;n+=1)e[n]&&this.virtual.slides.unshift(e[n]);i=t+e.length,r=e.length}else this.virtual.slides.unshift(e);if(this.params.virtual.cache){var s=this.virtual.cache,a={};Object.keys(s).forEach(function(e){var t=s[e],i=t.attr("data-swiper-slide-index");i&&t.attr("data-swiper-slide-index",parseInt(i,10)+1),a[parseInt(e,10)+r]=t}),this.virtual.cache=a}this.virtual.update(!0),this.slideTo(i,0)},removeSlide:function(e){if(void 0!==e&&null!==e){var t=this.activeIndex;if(Array.isArray(e))for(var i=e.length-1;i>=0;i-=1)this.virtual.slides.splice(e[i],1),this.params.virtual.cache&&delete this.virtual.cache[e[i]],e[i]<t&&(t-=1),t=Math.max(t,0);else this.virtual.slides.splice(e,1),this.params.virtual.cache&&delete this.virtual.cache[e],e<t&&(t-=1),t=Math.max(t,0);this.virtual.update(!0),this.slideTo(t,0)}},removeAllSlides:function(){this.virtual.slides=[],this.params.virtual.cache&&(this.virtual.cache={}),this.virtual.update(!0),this.slideTo(0,0)}},Y={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}},create:function(){P(this,{virtual:W({},X,{slides:this.params.virtual.slides,cache:{}})})},on:{beforeInit:function(e){if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};A(e.params,t),A(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},setTranslate:function(e){e.params.virtual.enabled&&e.virtual.update()}}};function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var Q={handle:function(e){var t=l(),i=a(),r=this.rtlTranslate,n=e;n.originalEvent&&(n=n.originalEvent);var s=n.keyCode||n.charCode,o=this.params.keyboard.pageUpDown,h=o&&33===s,u=o&&34===s,c=37===s,d=39===s,p=38===s,f=40===s;if(!this.allowSlideNext&&(this.isHorizontal()&&d||this.isVertical()&&f||u))return!1;if(!this.allowSlidePrev&&(this.isHorizontal()&&c||this.isVertical()&&p||h))return!1;if(!(n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||i.activeElement&&i.activeElement.nodeName&&("input"===i.activeElement.nodeName.toLowerCase()||"textarea"===i.activeElement.nodeName.toLowerCase()))){if(this.params.keyboard.onlyInViewport&&(h||u||c||d||p||f)){var m=!1;if(this.$el.parents("."+this.params.slideClass).length>0&&0===this.$el.parents("."+this.params.slideActiveClass).length)return;var g=this.$el,v=g[0].clientWidth,y=g[0].clientHeight,_=t.innerWidth,b=t.innerHeight,T=this.$el.offset();r&&(T.left-=this.$el[0].scrollLeft);for(var S=[[T.left,T.top],[T.left+v,T.top],[T.left,T.top+y],[T.left+v,T.top+y]],E=0;E<S.length;E+=1){var w=S[E];if(w[0]>=0&&w[0]<=_&&w[1]>=0&&w[1]<=b){if(0===w[0]&&0===w[1])continue;m=!0}}if(!m)return}this.isHorizontal()?((h||u||c||d)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),((u||d)&&!r||(h||c)&&r)&&this.slideNext(),((h||c)&&!r||(u||d)&&r)&&this.slidePrev()):((h||u||p||f)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),(u||f)&&this.slideNext(),(h||p)&&this.slidePrev()),this.emit("keyPress",s)}},enable:function(){var e=a();this.keyboard.enabled||(E(e).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){var e=a();this.keyboard.enabled&&(E(e).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},J={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){P(this,{keyboard:K({enabled:!1},Q)})},on:{init:function(e){e.params.keyboard.enabled&&e.keyboard.enable()},destroy:function(e){e.keyboard.enabled&&e.keyboard.disable()}}};var Z={lastScrollTime:C(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return l().navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e=a(),t="onwheel"in e;if(!t){var i=e.createElement("div");i.setAttribute("onwheel","return;"),t="function"==typeof i.onwheel}return!t&&e.implementation&&e.implementation.hasFeature&&!0!==e.implementation.hasFeature("","")&&(t=e.implementation.hasFeature("Events.wheel","3.0")),t}()?"wheel":"mousewheel"},normalize:function(e){var t=0,i=0,r=0,n=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),r=10*t,n=10*i,"deltaY"in e&&(n=e.deltaY),"deltaX"in e&&(r=e.deltaX),e.shiftKey&&!r&&(r=n,n=0),(r||n)&&e.deltaMode&&(1===e.deltaMode?(r*=40,n*=40):(r*=800,n*=800)),r&&!t&&(t=r<1?-1:1),n&&!i&&(i=n<1?-1:1),{spinX:t,spinY:i,pixelX:r,pixelY:n}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(e){var t=e,i=this,r=i.params.mousewheel;i.params.cssMode&&t.preventDefault();var n=i.$el;if("container"!==i.params.mousewheel.eventsTarget&&(n=E(i.params.mousewheel.eventsTarget)),!i.mouseEntered&&!n[0].contains(t.target)&&!r.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var s=0,a=i.rtlTranslate?-1:1,o=Z.normalize(t);if(r.forceToAxis)if(i.isHorizontal()){if(!(Math.abs(o.pixelX)>Math.abs(o.pixelY)))return!0;s=-o.pixelX*a}else{if(!(Math.abs(o.pixelY)>Math.abs(o.pixelX)))return!0;s=-o.pixelY}else s=Math.abs(o.pixelX)>Math.abs(o.pixelY)?-o.pixelX*a:-o.pixelY;if(0===s)return!0;r.invert&&(s=-s);var l=i.getTranslate()+s*r.sensitivity;if(l>=i.minTranslate()&&(l=i.minTranslate()),l<=i.maxTranslate()&&(l=i.maxTranslate()),(!!i.params.loop||!(l===i.minTranslate()||l===i.maxTranslate()))&&i.params.nested&&t.stopPropagation(),i.params.freeMode){var h={time:C(),delta:Math.abs(s),direction:Math.sign(s)},u=i.mousewheel.lastEventBeforeSnap,c=u&&h.time<u.time+500&&h.delta<=u.delta&&h.direction===u.direction;if(!c){i.mousewheel.lastEventBeforeSnap=void 0,i.params.loop&&i.loopFix();var d=i.getTranslate()+s*r.sensitivity,p=i.isBeginning,f=i.isEnd;if(d>=i.minTranslate()&&(d=i.minTranslate()),d<=i.maxTranslate()&&(d=i.maxTranslate()),i.setTransition(0),i.setTranslate(d),i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses(),(!p&&i.isBeginning||!f&&i.isEnd)&&i.updateSlidesClasses(),i.params.freeModeSticky){clearTimeout(i.mousewheel.timeout),i.mousewheel.timeout=void 0;var m=i.mousewheel.recentWheelEvents;m.length>=15&&m.shift();var g=m.length?m[m.length-1]:void 0,v=m[0];if(m.push(h),g&&(h.delta>g.delta||h.direction!==g.direction))m.splice(0);else if(m.length>=15&&h.time-v.time<500&&v.delta-h.delta>=1&&h.delta<=6){var y=s>0?.8:.2;i.mousewheel.lastEventBeforeSnap=h,m.splice(0),i.mousewheel.timeout=w(function(){i.slideToClosest(i.params.speed,!0,void 0,y)},0)}i.mousewheel.timeout||(i.mousewheel.timeout=w(function(){i.mousewheel.lastEventBeforeSnap=h,m.splice(0),i.slideToClosest(i.params.speed,!0,void 0,.5)},500))}if(c||i.emit("scroll",t),i.params.autoplay&&i.params.autoplayDisableOnInteraction&&i.autoplay.stop(),d===i.minTranslate()||d===i.maxTranslate())return!0}}else{var _={time:C(),delta:Math.abs(s),direction:Math.sign(s),raw:e},b=i.mousewheel.recentWheelEvents;b.length>=2&&b.shift();var T=b.length?b[b.length-1]:void 0;if(b.push(_),T?(_.direction!==T.direction||_.delta>T.delta||_.time>T.time+150)&&i.mousewheel.animateSlider(_):i.mousewheel.animateSlider(_),i.mousewheel.releaseScroll(_))return!0}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},animateSlider:function(e){var t=l();return!(this.params.mousewheel.thresholdDelta&&e.delta<this.params.mousewheel.thresholdDelta)&&(!(this.params.mousewheel.thresholdTime&&C()-this.mousewheel.lastScrollTime<this.params.mousewheel.thresholdTime)&&(e.delta>=6&&C()-this.mousewheel.lastScrollTime<60||(e.direction<0?this.isEnd&&!this.params.loop||this.animating||(this.slideNext(),this.emit("scroll",e.raw)):this.isBeginning&&!this.params.loop||this.animating||(this.slidePrev(),this.emit("scroll",e.raw)),this.mousewheel.lastScrollTime=(new t.Date).getTime(),!1)))},releaseScroll:function(e){var t=this.params.mousewheel;if(e.direction<0){if(this.isEnd&&!this.params.loop&&t.releaseOnEdges)return!0}else if(this.isBeginning&&!this.params.loop&&t.releaseOnEdges)return!0;return!1},enable:function(){var e=Z.event();if(this.params.cssMode)return this.wrapperEl.removeEventListener(e,this.mousewheel.handle),!0;if(!e)return!1;if(this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarget&&(t=E(this.params.mousewheel.eventsTarget)),t.on("mouseenter",this.mousewheel.handleMouseEnter),t.on("mouseleave",this.mousewheel.handleMouseLeave),t.on(e,this.mousewheel.handle),this.mousewheel.enabled=!0,!0},disable:function(){var e=Z.event();if(this.params.cssMode)return this.wrapperEl.addEventListener(e,this.mousewheel.handle),!0;if(!e)return!1;if(!this.mousewheel.enabled)return!1;var t=this.$el;return"container"!==this.params.mousewheel.eventsTarget&&(t=E(this.params.mousewheel.eventsTarget)),t.off(e,this.mousewheel.handle),this.mousewheel.enabled=!1,!0}},ee={name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}},create:function(){P(this,{mousewheel:{enabled:!1,lastScrollTime:C(),lastEventBeforeSnap:void 0,recentWheelEvents:[],enable:Z.enable,disable:Z.disable,handle:Z.handle,handleMouseEnter:Z.handleMouseEnter,handleMouseLeave:Z.handleMouseLeave,animateSlider:Z.animateSlider,releaseScroll:Z.releaseScroll}})},on:{init:function(e){!e.params.mousewheel.enabled&&e.params.cssMode&&e.mousewheel.disable(),e.params.mousewheel.enabled&&e.mousewheel.enable()},destroy:function(e){e.params.cssMode&&e.mousewheel.enable(),e.mousewheel.enabled&&e.mousewheel.disable()}}};function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var ie={toggleEl:function(e,t){e[t?"addClass":"removeClass"](this.params.navigation.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=t)},update:function(){var e=this.params.navigation,t=this.navigation.toggleEl;if(!this.params.loop){var i=this.navigation,r=i.$nextEl,n=i.$prevEl;n&&n.length>0&&(this.isBeginning?t(n,!0):t(n,!1),n[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass)),r&&r.length>0&&(this.isEnd?t(r,!0):t(r,!1),r[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass))}},onPrevClick:function(e){e.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(e){e.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var e,t,i=this.params.navigation;(i.nextEl||i.prevEl)&&(i.nextEl&&(e=E(i.nextEl),this.params.uniqueNavElements&&"string"==typeof i.nextEl&&e.length>1&&1===this.$el.find(i.nextEl).length&&(e=this.$el.find(i.nextEl))),i.prevEl&&(t=E(i.prevEl),this.params.uniqueNavElements&&"string"==typeof i.prevEl&&t.length>1&&1===this.$el.find(i.prevEl).length&&(t=this.$el.find(i.prevEl))),e&&e.length>0&&e.on("click",this.navigation.onNextClick),t&&t.length>0&&t.on("click",this.navigation.onPrevClick),A(this.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}))},destroy:function(){var e=this.navigation,t=e.$nextEl,i=e.$prevEl;t&&t.length&&(t.off("click",this.navigation.onNextClick),t.removeClass(this.params.navigation.disabledClass)),i&&i.length&&(i.off("click",this.navigation.onPrevClick),i.removeClass(this.params.navigation.disabledClass))}},re={name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){P(this,{navigation:te({},ie)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},click:function(e,t){var i=e.navigation,r=i.$nextEl,n=i.$prevEl,s=t.target;if(e.params.navigation.hideOnClick&&!E(s).is(n)&&!E(s).is(r)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===s||e.pagination.el.contains(s)))return;var a;r?a=r.hasClass(e.params.navigation.hiddenClass):n&&(a=n.hasClass(e.params.navigation.hiddenClass)),!0===a?e.emit("navigationShow"):e.emit("navigationHide"),r&&r.toggleClass(e.params.navigation.hiddenClass),n&&n.toggleClass(e.params.navigation.hiddenClass)}}}};function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var se={update:function(){var e=this.rtl,t=this.params.pagination;if(t.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var i,r=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,n=this.pagination.$el,s=this.params.loop?Math.ceil((r-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;if(this.params.loop?((i=Math.ceil((this.activeIndex-this.loopedSlides)/this.params.slidesPerGroup))>r-1-2*this.loopedSlides&&(i-=r-2*this.loopedSlides),i>s-1&&(i-=s),i<0&&"bullets"!==this.params.paginationType&&(i=s+i)):i=void 0!==this.snapIndex?this.snapIndex:this.activeIndex||0,"bullets"===t.type&&this.pagination.bullets&&this.pagination.bullets.length>0){var a,o,l,h=this.pagination.bullets;if(t.dynamicBullets&&(this.pagination.bulletSize=h.eq(0)[this.isHorizontal()?"outerWidth":"outerHeight"](!0),n.css(this.isHorizontal()?"width":"height",this.pagination.bulletSize*(t.dynamicMainBullets+4)+"px"),t.dynamicMainBullets>1&&void 0!==this.previousIndex&&(this.pagination.dynamicBulletIndex+=i-this.previousIndex,this.pagination.dynamicBulletIndex>t.dynamicMainBullets-1?this.pagination.dynamicBulletIndex=t.dynamicMainBullets-1:this.pagination.dynamicBulletIndex<0&&(this.pagination.dynamicBulletIndex=0)),a=i-this.pagination.dynamicBulletIndex,l=((o=a+(Math.min(h.length,t.dynamicMainBullets)-1))+a)/2),h.removeClass(t.bulletActiveClass+" "+t.bulletActiveClass+"-next "+t.bulletActiveClass+"-next-next "+t.bulletActiveClass+"-prev "+t.bulletActiveClass+"-prev-prev "+t.bulletActiveClass+"-main"),n.length>1)h.each(function(e){var r=E(e),n=r.index();n===i&&r.addClass(t.bulletActiveClass),t.dynamicBullets&&(n>=a&&n<=o&&r.addClass(t.bulletActiveClass+"-main"),n===a&&r.prev().addClass(t.bulletActiveClass+"-prev").prev().addClass(t.bulletActiveClass+"-prev-prev"),n===o&&r.next().addClass(t.bulletActiveClass+"-next").next().addClass(t.bulletActiveClass+"-next-next"))});else{var u=h.eq(i),c=u.index();if(u.addClass(t.bulletActiveClass),t.dynamicBullets){for(var d=h.eq(a),p=h.eq(o),f=a;f<=o;f+=1)h.eq(f).addClass(t.bulletActiveClass+"-main");if(this.params.loop)if(c>=h.length-t.dynamicMainBullets){for(var m=t.dynamicMainBullets;m>=0;m-=1)h.eq(h.length-m).addClass(t.bulletActiveClass+"-main");h.eq(h.length-t.dynamicMainBullets-1).addClass(t.bulletActiveClass+"-prev")}else d.prev().addClass(t.bulletActiveClass+"-prev").prev().addClass(t.bulletActiveClass+"-prev-prev"),p.next().addClass(t.bulletActiveClass+"-next").next().addClass(t.bulletActiveClass+"-next-next");else d.prev().addClass(t.bulletActiveClass+"-prev").prev().addClass(t.bulletActiveClass+"-prev-prev"),p.next().addClass(t.bulletActiveClass+"-next").next().addClass(t.bulletActiveClass+"-next-next")}}if(t.dynamicBullets){var g=Math.min(h.length,t.dynamicMainBullets+4),v=(this.pagination.bulletSize*g-this.pagination.bulletSize)/2-l*this.pagination.bulletSize,y=e?"right":"left";h.css(this.isHorizontal()?y:"top",v+"px")}}if("fraction"===t.type&&(n.find(I(t.currentClass)).text(t.formatFractionCurrent(i+1)),n.find(I(t.totalClass)).text(t.formatFractionTotal(s))),"progressbar"===t.type){var _;_=t.progressbarOpposite?this.isHorizontal()?"vertical":"horizontal":this.isHorizontal()?"horizontal":"vertical";var b=(i+1)/s,T=1,S=1;"horizontal"===_?T=b:S=b,n.find(I(t.progressbarFillClass)).transform("translate3d(0,0,0) scaleX("+T+") scaleY("+S+")").transition(this.params.speed)}"custom"===t.type&&t.renderCustom?(n.html(t.renderCustom(this,i+1,s)),this.emit("paginationRender",n[0])):this.emit("paginationUpdate",n[0]),n[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](t.lockClass)}},render:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.virtual&&this.params.virtual.enabled?this.virtual.slides.length:this.slides.length,i=this.pagination.$el,r="";if("bullets"===e.type){var n=this.params.loop?Math.ceil((t-2*this.loopedSlides)/this.params.slidesPerGroup):this.snapGrid.length;this.params.freeMode&&!this.params.loop&&n>t&&(n=t);for(var s=0;s<n;s+=1)e.renderBullet?r+=e.renderBullet.call(this,s,e.bulletClass):r+="<"+e.bulletElement+' class="'+e.bulletClass+'"></'+e.bulletElement+">";i.html(r),this.pagination.bullets=i.find(I(e.bulletClass))}"fraction"===e.type&&(r=e.renderFraction?e.renderFraction.call(this,e.currentClass,e.totalClass):'<span class="'+e.currentClass+'"></span> / <span class="'+e.totalClass+'"></span>',i.html(r)),"progressbar"===e.type&&(r=e.renderProgressbar?e.renderProgressbar.call(this,e.progressbarFillClass):'<span class="'+e.progressbarFillClass+'"></span>',i.html(r)),"custom"!==e.type&&this.emit("paginationRender",this.pagination.$el[0])}},init:function(){var e=this,t=e.params.pagination;if(t.el){var i=E(t.el);0!==i.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&i.length>1&&(i=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&i.addClass(t.clickableClass),i.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(i.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&i.addClass(t.progressbarOppositeClass),t.clickable&&i.on("click",I(t.bulletClass),function(t){t.preventDefault();var i=E(this).index()*e.params.slidesPerGroup;e.params.loop&&(i+=e.loopedSlides),e.slideTo(i)}),A(e.pagination,{$el:i,el:i[0]}))}},destroy:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var t=this.pagination.$el;t.removeClass(e.hiddenClass),t.removeClass(e.modifierClass+e.type),this.pagination.bullets&&this.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&t.off("click",I(e.bulletClass))}}},ae={name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){P(this,{pagination:ne({dynamicBulletIndex:0},se)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){e.params.loop?e.pagination.update():void 0===e.snapIndex&&e.pagination.update()},snapIndexChange:function(e){e.params.loop||e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){e.params.loop||(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},click:function(e,t){var i=t.target;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!E(i).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&i===e.navigation.nextEl||e.navigation.prevEl&&i===e.navigation.prevEl))return;!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit("paginationShow"):e.emit("paginationHide"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}};function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var le={setTranslate:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=this.rtlTranslate,i=this.progress,r=e.dragSize,n=e.trackSize,s=e.$dragEl,a=e.$el,o=this.params.scrollbar,l=r,h=(n-r)*i;t?(h=-h)>0?(l=r-h,h=0):-h+r>n&&(l=n+h):h<0?(l=r+h,h=0):h+r>n&&(l=n-h),this.isHorizontal()?(s.transform("translate3d("+h+"px, 0, 0)"),s[0].style.width=l+"px"):(s.transform("translate3d(0px, "+h+"px, 0)"),s[0].style.height=l+"px"),o.hide&&(clearTimeout(this.scrollbar.timeout),a[0].style.opacity=1,this.scrollbar.timeout=setTimeout(function(){a[0].style.opacity=0,a.transition(400)},1e3))}},setTransition:function(e){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(e)},updateSize:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,t=e.$dragEl,i=e.$el;t[0].style.width="",t[0].style.height="";var r,n=this.isHorizontal()?i[0].offsetWidth:i[0].offsetHeight,s=this.size/this.virtualSize,a=s*(n/this.size);r="auto"===this.params.scrollbar.dragSize?n*s:parseInt(this.params.scrollbar.dragSize,10),this.isHorizontal()?t[0].style.width=r+"px":t[0].style.height=r+"px",i[0].style.display=s>=1?"none":"",this.params.scrollbar.hide&&(i[0].style.opacity=0),A(e,{trackSize:n,divider:s,moveDivider:a,dragSize:r}),e.$el[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var t,i=this.scrollbar,r=this.rtlTranslate,n=i.$el,s=i.dragSize,a=i.trackSize,o=i.dragStartPos;t=(i.getPointerPosition(e)-n.offset()[this.isHorizontal()?"left":"top"]-(null!==o?o:s/2))/(a-s),t=Math.max(Math.min(t,1),0),r&&(t=1-t);var l=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*t;this.updateProgress(l),this.setTranslate(l),this.updateActiveIndex(),this.updateSlidesClasses()},onDragStart:function(e){var t=this.params.scrollbar,i=this.scrollbar,r=this.$wrapperEl,n=i.$el,s=i.$dragEl;this.scrollbar.isTouched=!0,this.scrollbar.dragStartPos=e.target===s[0]||e.target===s?i.getPointerPosition(e)-e.target.getBoundingClientRect()[this.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),r.transition(100),s.transition(100),i.setDragPosition(e),clearTimeout(this.scrollbar.dragTimeout),n.transition(0),t.hide&&n.css("opacity",1),this.params.cssMode&&this.$wrapperEl.css("scroll-snap-type","none"),this.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this.scrollbar,i=this.$wrapperEl,r=t.$el,n=t.$dragEl;this.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),i.transition(0),r.transition(0),n.transition(0),this.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this.params.scrollbar,i=this.scrollbar,r=this.$wrapperEl,n=i.$el;this.scrollbar.isTouched&&(this.scrollbar.isTouched=!1,this.params.cssMode&&(this.$wrapperEl.css("scroll-snap-type",""),r.transition("")),t.hide&&(clearTimeout(this.scrollbar.dragTimeout),this.scrollbar.dragTimeout=w(function(){n.css("opacity",0),n.transition(400)},1e3)),this.emit("scrollbarDragEnd",e),t.snapOnRelease&&this.slideToClosest())},enableDraggable:function(){if(this.params.scrollbar.el){var e=a(),t=this.scrollbar,i=this.touchEventsTouch,r=this.touchEventsDesktop,n=this.params,s=this.support,o=t.$el[0],l=!(!s.passiveListener||!n.passiveListeners)&&{passive:!1,capture:!1},h=!(!s.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};o&&(s.touch?(o.addEventListener(i.start,this.scrollbar.onDragStart,l),o.addEventListener(i.move,this.scrollbar.onDragMove,l),o.addEventListener(i.end,this.scrollbar.onDragEnd,h)):(o.addEventListener(r.start,this.scrollbar.onDragStart,l),e.addEventListener(r.move,this.scrollbar.onDragMove,l),e.addEventListener(r.end,this.scrollbar.onDragEnd,h)))}},disableDraggable:function(){if(this.params.scrollbar.el){var e=a(),t=this.scrollbar,i=this.touchEventsTouch,r=this.touchEventsDesktop,n=this.params,s=this.support,o=t.$el[0],l=!(!s.passiveListener||!n.passiveListeners)&&{passive:!1,capture:!1},h=!(!s.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};o&&(s.touch?(o.removeEventListener(i.start,this.scrollbar.onDragStart,l),o.removeEventListener(i.move,this.scrollbar.onDragMove,l),o.removeEventListener(i.end,this.scrollbar.onDragEnd,h)):(o.removeEventListener(r.start,this.scrollbar.onDragStart,l),e.removeEventListener(r.move,this.scrollbar.onDragMove,l),e.removeEventListener(r.end,this.scrollbar.onDragEnd,h)))}},init:function(){if(this.params.scrollbar.el){var e=this.scrollbar,t=this.$el,i=this.params.scrollbar,r=E(i.el);this.params.uniqueNavElements&&"string"==typeof i.el&&r.length>1&&1===t.find(i.el).length&&(r=t.find(i.el));var n=r.find("."+this.params.scrollbar.dragClass);0===n.length&&(n=E('<div class="'+this.params.scrollbar.dragClass+'"></div>'),r.append(n)),A(e,{$el:r,el:r[0],$dragEl:n,dragEl:n[0]}),i.draggable&&e.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},he={name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){P(this,{scrollbar:oe({isTouched:!1,timeout:null,dragTimeout:null},le)})},on:{init:function(e){e.scrollbar.init(),e.scrollbar.updateSize(),e.scrollbar.setTranslate()},update:function(e){e.scrollbar.updateSize()},resize:function(e){e.scrollbar.updateSize()},observerUpdate:function(e){e.scrollbar.updateSize()},setTranslate:function(e){e.scrollbar.setTranslate()},setTransition:function(e,t){e.scrollbar.setTransition(t)},destroy:function(e){e.scrollbar.destroy()}}};function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var ce={setTransform:function(e,t){var i=this.rtl,r=E(e),n=i?-1:1,s=r.attr("data-swiper-parallax")||"0",a=r.attr("data-swiper-parallax-x"),o=r.attr("data-swiper-parallax-y"),l=r.attr("data-swiper-parallax-scale"),h=r.attr("data-swiper-parallax-opacity");if(a||o?(a=a||"0",o=o||"0"):this.isHorizontal()?(a=s,o="0"):(o=s,a="0"),a=a.indexOf("%")>=0?parseInt(a,10)*t*n+"%":a*t*n+"px",o=o.indexOf("%")>=0?parseInt(o,10)*t+"%":o*t+"px",void 0!==h&&null!==h){var u=h-(h-1)*(1-Math.abs(t));r[0].style.opacity=u}if(void 0===l||null===l)r.transform("translate3d("+a+", "+o+", 0px)");else{var c=l-(l-1)*(1-Math.abs(t));r.transform("translate3d("+a+", "+o+", 0px) scale("+c+")")}},setTranslate:function(){var e=this,t=e.$el,i=e.slides,r=e.progress,n=e.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t){e.parallax.setTransform(t,r)}),i.each(function(t,i){var s=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(s+=Math.ceil(i/2)-r*(n.length-1)),s=Math.min(Math.max(s,-1),1),E(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t){e.parallax.setTransform(t,s)})})},setTransition:function(e){void 0===e&&(e=this.params.speed);this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t){var i=E(t),r=parseInt(i.attr("data-swiper-parallax-duration"),10)||e;0===e&&(r=0),i.transition(r)})}},de={name:"parallax",params:{parallax:{enabled:!1}},create:function(){P(this,{parallax:ue({},ce)})},on:{beforeInit:function(e){e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},init:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTranslate:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTransition:function(e,t){e.params.parallax.enabled&&e.parallax.setTransition(t)}}};function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var fe={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY,r=e.targetTouches[1].pageX,n=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(r-t,2)+Math.pow(n-i,2))},onGestureStart:function(e){var t=this.support,i=this.params.zoom,r=this.zoom,n=r.gesture;if(r.fakeGestureTouched=!1,r.fakeGestureMoved=!1,!t.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;r.fakeGestureTouched=!0,n.scaleStart=fe.getDistanceBetweenTouches(e)}n.$slideEl&&n.$slideEl.length||(n.$slideEl=E(e.target).closest("."+this.params.slideClass),0===n.$slideEl.length&&(n.$slideEl=this.slides.eq(this.activeIndex)),n.$imageEl=n.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),n.$imageWrapEl=n.$imageEl.parent("."+i.containerClass),n.maxRatio=n.$imageWrapEl.attr("data-swiper-zoom")||i.maxRatio,0!==n.$imageWrapEl.length)?(n.$imageEl&&n.$imageEl.transition(0),this.zoom.isScaling=!0):n.$imageEl=void 0},onGestureChange:function(e){var t=this.support,i=this.params.zoom,r=this.zoom,n=r.gesture;if(!t.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;r.fakeGestureMoved=!0,n.scaleMove=fe.getDistanceBetweenTouches(e)}n.$imageEl&&0!==n.$imageEl.length?(t.gestures?r.scale=e.scale*r.currentScale:r.scale=n.scaleMove/n.scaleStart*r.currentScale,r.scale>n.maxRatio&&(r.scale=n.maxRatio-1+Math.pow(r.scale-n.maxRatio+1,.5)),r.scale<i.minRatio&&(r.scale=i.minRatio+1-Math.pow(i.minRatio-r.scale+1,.5)),n.$imageEl.transform("translate3d(0,0,0) scale("+r.scale+")")):"gesturechange"===e.type&&r.onGestureStart(e)},onGestureEnd:function(e){var t=this.device,i=this.support,r=this.params.zoom,n=this.zoom,s=n.gesture;if(!i.gestures){if(!n.fakeGestureTouched||!n.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!t.android)return;n.fakeGestureTouched=!1,n.fakeGestureMoved=!1}s.$imageEl&&0!==s.$imageEl.length&&(n.scale=Math.max(Math.min(n.scale,s.maxRatio),r.minRatio),s.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+n.scale+")"),n.currentScale=n.scale,n.isScaling=!1,1===n.scale&&(s.$slideEl=void 0))},onTouchStart:function(e){var t=this.device,i=this.zoom,r=i.gesture,n=i.image;r.$imageEl&&0!==r.$imageEl.length&&(n.isTouched||(t.android&&e.cancelable&&e.preventDefault(),n.isTouched=!0,n.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,n.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this.zoom,i=t.gesture,r=t.image,n=t.velocity;if(i.$imageEl&&0!==i.$imageEl.length&&(this.allowClick=!1,r.isTouched&&i.$slideEl)){r.isMoved||(r.width=i.$imageEl[0].offsetWidth,r.height=i.$imageEl[0].offsetHeight,r.startX=x(i.$imageWrapEl[0],"x")||0,r.startY=x(i.$imageWrapEl[0],"y")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0),this.rtl&&(r.startX=-r.startX,r.startY=-r.startY));var s=r.width*t.scale,a=r.height*t.scale;if(!(s<i.slideWidth&&a<i.slideHeight)){if(r.minX=Math.min(i.slideWidth/2-s/2,0),r.maxX=-r.minX,r.minY=Math.min(i.slideHeight/2-a/2,0),r.maxY=-r.minY,r.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,r.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!r.isMoved&&!t.isScaling){if(this.isHorizontal()&&(Math.floor(r.minX)===Math.floor(r.startX)&&r.touchesCurrent.x<r.touchesStart.x||Math.floor(r.maxX)===Math.floor(r.startX)&&r.touchesCurrent.x>r.touchesStart.x))return void(r.isTouched=!1);if(!this.isHorizontal()&&(Math.floor(r.minY)===Math.floor(r.startY)&&r.touchesCurrent.y<r.touchesStart.y||Math.floor(r.maxY)===Math.floor(r.startY)&&r.touchesCurrent.y>r.touchesStart.y))return void(r.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),r.isMoved=!0,r.currentX=r.touchesCurrent.x-r.touchesStart.x+r.startX,r.currentY=r.touchesCurrent.y-r.touchesStart.y+r.startY,r.currentX<r.minX&&(r.currentX=r.minX+1-Math.pow(r.minX-r.currentX+1,.8)),r.currentX>r.maxX&&(r.currentX=r.maxX-1+Math.pow(r.currentX-r.maxX+1,.8)),r.currentY<r.minY&&(r.currentY=r.minY+1-Math.pow(r.minY-r.currentY+1,.8)),r.currentY>r.maxY&&(r.currentY=r.maxY-1+Math.pow(r.currentY-r.maxY+1,.8)),n.prevPositionX||(n.prevPositionX=r.touchesCurrent.x),n.prevPositionY||(n.prevPositionY=r.touchesCurrent.y),n.prevTime||(n.prevTime=Date.now()),n.x=(r.touchesCurrent.x-n.prevPositionX)/(Date.now()-n.prevTime)/2,n.y=(r.touchesCurrent.y-n.prevPositionY)/(Date.now()-n.prevTime)/2,Math.abs(r.touchesCurrent.x-n.prevPositionX)<2&&(n.x=0),Math.abs(r.touchesCurrent.y-n.prevPositionY)<2&&(n.y=0),n.prevPositionX=r.touchesCurrent.x,n.prevPositionY=r.touchesCurrent.y,n.prevTime=Date.now(),i.$imageWrapEl.transform("translate3d("+r.currentX+"px, "+r.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,i=e.image,r=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!i.isTouched||!i.isMoved)return i.isTouched=!1,void(i.isMoved=!1);i.isTouched=!1,i.isMoved=!1;var n=300,s=300,a=r.x*n,o=i.currentX+a,l=r.y*s,h=i.currentY+l;0!==r.x&&(n=Math.abs((o-i.currentX)/r.x)),0!==r.y&&(s=Math.abs((h-i.currentY)/r.y));var u=Math.max(n,s);i.currentX=o,i.currentY=h;var c=i.width*e.scale,d=i.height*e.scale;i.minX=Math.min(t.slideWidth/2-c/2,0),i.maxX=-i.minX,i.minY=Math.min(t.slideHeight/2-d/2,0),i.maxY=-i.minY,i.currentX=Math.max(Math.min(i.currentX,i.maxX),i.minX),i.currentY=Math.max(Math.min(i.currentY,i.maxY),i.minY),t.$imageWrapEl.transition(u).transform("translate3d("+i.currentX+"px, "+i.currentY+"px,0)")}},onTransitionEnd:function(){var e=this.zoom,t=e.gesture;t.$slideEl&&this.previousIndex!==this.activeIndex&&(t.$imageEl&&t.$imageEl.transform("translate3d(0,0,0) scale(1)"),t.$imageWrapEl&&t.$imageWrapEl.transform("translate3d(0,0,0)"),e.scale=1,e.currentScale=1,t.$slideEl=void 0,t.$imageEl=void 0,t.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(e){var t,i,r,n,s,a,o,h,u,c,d,p,f,m,g,v,y=l(),_=this.zoom,b=this.params.zoom,T=_.gesture,S=_.image;(T.$slideEl||(this.params.virtual&&this.params.virtual.enabled&&this.virtual?T.$slideEl=this.$wrapperEl.children("."+this.params.slideActiveClass):T.$slideEl=this.slides.eq(this.activeIndex),T.$imageEl=T.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),T.$imageWrapEl=T.$imageEl.parent("."+b.containerClass)),T.$imageEl&&0!==T.$imageEl.length)&&(T.$slideEl.addClass(""+b.zoomedSlideClass),void 0===S.touchesStart.x&&e?(t="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,i="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(t=S.touchesStart.x,i=S.touchesStart.y),_.scale=T.$imageWrapEl.attr("data-swiper-zoom")||b.maxRatio,_.currentScale=T.$imageWrapEl.attr("data-swiper-zoom")||b.maxRatio,e?(g=T.$slideEl[0].offsetWidth,v=T.$slideEl[0].offsetHeight,r=T.$slideEl.offset().left+y.scrollX+g/2-t,n=T.$slideEl.offset().top+y.scrollY+v/2-i,o=T.$imageEl[0].offsetWidth,h=T.$imageEl[0].offsetHeight,u=o*_.scale,c=h*_.scale,f=-(d=Math.min(g/2-u/2,0)),m=-(p=Math.min(v/2-c/2,0)),s=r*_.scale,a=n*_.scale,s<d&&(s=d),s>f&&(s=f),a<p&&(a=p),a>m&&(a=m)):(s=0,a=0),T.$imageWrapEl.transition(300).transform("translate3d("+s+"px, "+a+"px,0)"),T.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+_.scale+")"))},out:function(){var e=this.zoom,t=this.params.zoom,i=e.gesture;i.$slideEl||(this.params.virtual&&this.params.virtual.enabled&&this.virtual?i.$slideEl=this.$wrapperEl.children("."+this.params.slideActiveClass):i.$slideEl=this.slides.eq(this.activeIndex),i.$imageEl=i.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),i.$imageWrapEl=i.$imageEl.parent("."+t.containerClass)),i.$imageEl&&0!==i.$imageEl.length&&(e.scale=1,e.currentScale=1,i.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),i.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),i.$slideEl.removeClass(""+t.zoomedSlideClass),i.$slideEl=void 0)},toggleGestures:function(e){var t=this.zoom,i=t.slideSelector,r=t.passiveListener;this.$wrapperEl[e]("gesturestart",i,t.onGestureStart,r),this.$wrapperEl[e]("gesturechange",i,t.onGestureChange,r),this.$wrapperEl[e]("gestureend",i,t.onGestureEnd,r)},enableGestures:function(){this.zoom.gesturesEnabled||(this.zoom.gesturesEnabled=!0,this.zoom.toggleGestures("on"))},disableGestures:function(){this.zoom.gesturesEnabled&&(this.zoom.gesturesEnabled=!1,this.zoom.toggleGestures("off"))},enable:function(){var e=this.support,t=this.zoom;if(!t.enabled){t.enabled=!0;var i=!("touchstart"!==this.touchEvents.start||!e.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},r=!e.passiveListener||{passive:!1,capture:!0},n="."+this.params.slideClass;this.zoom.passiveListener=i,this.zoom.slideSelector=n,e.gestures?(this.$wrapperEl.on(this.touchEvents.start,this.zoom.enableGestures,i),this.$wrapperEl.on(this.touchEvents.end,this.zoom.disableGestures,i)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.on(this.touchEvents.start,n,t.onGestureStart,i),this.$wrapperEl.on(this.touchEvents.move,n,t.onGestureChange,r),this.$wrapperEl.on(this.touchEvents.end,n,t.onGestureEnd,i),this.touchEvents.cancel&&this.$wrapperEl.on(this.touchEvents.cancel,n,t.onGestureEnd,i)),this.$wrapperEl.on(this.touchEvents.move,"."+this.params.zoom.containerClass,t.onTouchMove,r)}},disable:function(){var e=this.zoom;if(e.enabled){var t=this.support;this.zoom.enabled=!1;var i=!("touchstart"!==this.touchEvents.start||!t.passiveListener||!this.params.passiveListeners)&&{passive:!0,capture:!1},r=!t.passiveListener||{passive:!1,capture:!0},n="."+this.params.slideClass;t.gestures?(this.$wrapperEl.off(this.touchEvents.start,this.zoom.enableGestures,i),this.$wrapperEl.off(this.touchEvents.end,this.zoom.disableGestures,i)):"touchstart"===this.touchEvents.start&&(this.$wrapperEl.off(this.touchEvents.start,n,e.onGestureStart,i),this.$wrapperEl.off(this.touchEvents.move,n,e.onGestureChange,r),this.$wrapperEl.off(this.touchEvents.end,n,e.onGestureEnd,i),this.touchEvents.cancel&&this.$wrapperEl.off(this.touchEvents.cancel,n,e.onGestureEnd,i)),this.$wrapperEl.off(this.touchEvents.move,"."+this.params.zoom.containerClass,e.onTouchMove,r)}}},me={name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this;P(e,{zoom:pe({enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},fe)});var t=1;Object.defineProperty(e.zoom,"scale",{get:function(){return t},set:function(i){if(t!==i){var r=e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,n=e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0;e.emit("zoomChange",i,r,n)}t=i}})},on:{init:function(e){e.params.zoom.enabled&&e.zoom.enable()},destroy:function(e){e.zoom.disable()},touchStart:function(e,t){e.zoom.enabled&&e.zoom.onTouchStart(t)},touchEnd:function(e,t){e.zoom.enabled&&e.zoom.onTouchEnd(t)},doubleTap:function(e,t){!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&e.zoom.toggle(t)},transitionEnd:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.zoom.onTransitionEnd()},slideChange:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&e.zoom.onTransitionEnd()}}};function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var ve={loadInSlide:function(e,t){void 0===t&&(t=!0);var i=this,r=i.params.lazy;if(void 0!==e&&0!==i.slides.length){var n=i.virtual&&i.params.virtual.enabled?i.$wrapperEl.children("."+i.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):i.slides.eq(e),s=n.find("."+r.elementClass+":not(."+r.loadedClass+"):not(."+r.loadingClass+")");!n.hasClass(r.elementClass)||n.hasClass(r.loadedClass)||n.hasClass(r.loadingClass)||s.push(n[0]),0!==s.length&&s.each(function(e){var s=E(e);s.addClass(r.loadingClass);var a=s.attr("data-background"),o=s.attr("data-src"),l=s.attr("data-srcset"),h=s.attr("data-sizes"),u=s.parent("picture");i.loadImage(s[0],o||a,l,h,!1,function(){if(void 0!==i&&null!==i&&i&&(!i||i.params)&&!i.destroyed){if(a?(s.css("background-image",'url("'+a+'")'),s.removeAttr("data-background")):(l&&(s.attr("srcset",l),s.removeAttr("data-srcset")),h&&(s.attr("sizes",h),s.removeAttr("data-sizes")),u.length&&u.children("source").each(function(e){var t=E(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"))}),o&&(s.attr("src",o),s.removeAttr("data-src"))),s.addClass(r.loadedClass).removeClass(r.loadingClass),n.find("."+r.preloaderClass).remove(),i.params.loop&&t){var e=n.attr("data-swiper-slide-index");if(n.hasClass(i.params.slideDuplicateClass)){var c=i.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+i.params.slideDuplicateClass+")");i.lazy.loadInSlide(c.index(),!1)}else{var d=i.$wrapperEl.children("."+i.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');i.lazy.loadInSlide(d.index(),!1)}}i.emit("lazyImageReady",n[0],s[0]),i.params.autoHeight&&i.updateAutoHeight()}}),i.emit("lazyImageLoad",n[0],s[0])})}},load:function(){var e=this,t=e.$wrapperEl,i=e.params,r=e.slides,n=e.activeIndex,s=e.virtual&&i.virtual.enabled,a=i.lazy,o=i.slidesPerView;function l(e){if(s){if(t.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(r[e])return!0;return!1}function h(e){return s?E(e).attr("data-swiper-slide-index"):E(e).index()}if("auto"===o&&(o=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children("."+i.slideVisibleClass).each(function(t){var i=s?E(t).attr("data-swiper-slide-index"):E(t).index();e.lazy.loadInSlide(i)});else if(o>1)for(var u=n;u<n+o;u+=1)l(u)&&e.lazy.loadInSlide(u);else e.lazy.loadInSlide(n);if(a.loadPrevNext)if(o>1||a.loadPrevNextAmount&&a.loadPrevNextAmount>1){for(var c=a.loadPrevNextAmount,d=o,p=Math.min(n+d+Math.max(c,d),r.length),f=Math.max(n-Math.max(d,c),0),m=n+o;m<p;m+=1)l(m)&&e.lazy.loadInSlide(m);for(var g=f;g<n;g+=1)l(g)&&e.lazy.loadInSlide(g)}else{var v=t.children("."+i.slideNextClass);v.length>0&&e.lazy.loadInSlide(h(v));var y=t.children("."+i.slidePrevClass);y.length>0&&e.lazy.loadInSlide(h(y))}},checkInViewOnLoad:function(){var e=l();if(this&&!this.destroyed){var t=this.params.lazy.scrollingElement?E(this.params.lazy.scrollingElement):E(e),i=t[0]===e,r=i?e.innerWidth:t[0].offsetWidth,n=i?e.innerHeight:t[0].offsetHeight,s=this.$el.offset(),a=!1;this.rtlTranslate&&(s.left-=this.$el[0].scrollLeft);for(var o=[[s.left,s.top],[s.left+this.width,s.top],[s.left,s.top+this.height],[s.left+this.width,s.top+this.height]],h=0;h<o.length;h+=1){var u=o[h];if(u[0]>=0&&u[0]<=r&&u[1]>=0&&u[1]<=n){if(0===u[0]&&0===u[1])continue;a=!0}}a?(this.lazy.load(),t.off("scroll",this.lazy.checkInViewOnLoad)):this.lazy.scrollHandlerAttached||(this.lazy.scrollHandlerAttached=!0,t.on("scroll",this.lazy.checkInViewOnLoad))}}},ye={name:"lazy",params:{lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){P(this,{lazy:ge({initialImageLoaded:!1},ve)})},on:{beforeInit:function(e){e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)},init:function(e){e.params.lazy.enabled&&!e.params.loop&&0===e.params.initialSlide&&(e.params.lazy.checkInView?e.lazy.checkInViewOnLoad():e.lazy.load())},scroll:function(e){e.params.freeMode&&!e.params.freeModeSticky&&e.lazy.load()},"scrollbarDragMove resize _freeModeNoMomentumRelease":function(e){e.params.lazy.enabled&&e.lazy.load()},transitionStart:function(e){e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd:function(e){e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&e.lazy.load()},slideChange:function(e){e.params.lazy.enabled&&e.params.cssMode&&e.lazy.load()}}};function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var be={LinearSpline:function(e,t){var i,r,n,s,a,o=function(e,t){for(r=-1,i=e.length;i-r>1;)e[n=i+r>>1]<=t?r=n:i=n;return i};return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(a=o(this.x,e),s=a-1,(e-this.x[s])*(this.y[a]-this.y[s])/(this.x[a]-this.x[s])+this.y[s]):0},this},getInterpolateFunction:function(e){this.controller.spline||(this.controller.spline=this.params.loop?new be.LinearSpline(this.slidesGrid,e.slidesGrid):new be.LinearSpline(this.snapGrid,e.snapGrid))},setTranslate:function(e,t){var i,r,n=this,s=n.controller.control,a=n.constructor;function o(e){var t=n.rtlTranslate?-n.translate:n.translate;"slide"===n.params.controller.by&&(n.controller.getInterpolateFunction(e),r=-n.controller.spline.interpolate(-t)),r&&"container"!==n.params.controller.by||(i=(e.maxTranslate()-e.minTranslate())/(n.maxTranslate()-n.minTranslate()),r=(t-n.minTranslate())*i+e.minTranslate()),n.params.controller.inverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setTranslate(r,n),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(s))for(var l=0;l<s.length;l+=1)s[l]!==t&&s[l]instanceof a&&o(s[l]);else s instanceof a&&t!==s&&o(s)},setTransition:function(e,t){var i,r=this,n=r.constructor,s=r.controller.control;function a(t){t.setTransition(e,r),0!==e&&(t.transitionStart(),t.params.autoHeight&&w(function(){t.updateAutoHeight()}),t.$wrapperEl.transitionEnd(function(){s&&(t.params.loop&&"slide"===r.params.controller.by&&t.loopFix(),t.transitionEnd())}))}if(Array.isArray(s))for(i=0;i<s.length;i+=1)s[i]!==t&&s[i]instanceof n&&a(s[i]);else s instanceof n&&t!==s&&a(s)}},Te={name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){P(this,{controller:_e({control:this.params.controller.control},be)})},on:{update:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate:function(e,t,i){e.controller.control&&e.controller.setTranslate(t,i)},setTransition:function(e,t,i){e.controller.control&&e.controller.setTransition(t,i)}}};function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var Ee={getRandomNumber:function(e){void 0===e&&(e=16);return"x".repeat(e).replace(/x/g,function(){return Math.round(16*Math.random()).toString(16)})},makeElFocusable:function(e){return e.attr("tabIndex","0"),e},makeElNotFocusable:function(e){return e.attr("tabIndex","-1"),e},addElRole:function(e,t){return e.attr("role",t),e},addElRoleDescription:function(e,t){return e.attr("aria-roledescription",t),e},addElControls:function(e,t){return e.attr("aria-controls",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},addElId:function(e,t){return e.attr("id",t),e},addElLive:function(e,t){return e.attr("aria-live",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterOrSpaceKey:function(e){if(13===e.keyCode||32===e.keyCode){var t=this.params.a11y,i=E(e.target);this.navigation&&this.navigation.$nextEl&&i.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.isEnd?this.a11y.notify(t.lastSlideMessage):this.a11y.notify(t.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&i.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.isBeginning?this.a11y.notify(t.firstSlideMessage):this.a11y.notify(t.prevSlideMessage)),this.pagination&&i.is(I(this.params.pagination.bulletClass))&&i[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){if(!this.params.loop&&this.navigation){var e=this.navigation,t=e.$nextEl,i=e.$prevEl;i&&i.length>0&&(this.isBeginning?(this.a11y.disableEl(i),this.a11y.makeElNotFocusable(i)):(this.a11y.enableEl(i),this.a11y.makeElFocusable(i))),t&&t.length>0&&(this.isEnd?(this.a11y.disableEl(t),this.a11y.makeElNotFocusable(t)):(this.a11y.enableEl(t),this.a11y.makeElFocusable(t)))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each(function(i){var r=E(i);e.a11y.makeElFocusable(r),e.params.pagination.renderBullet||(e.a11y.addElRole(r,"button"),e.a11y.addElLabel(r,t.paginationBulletMessage.replace(/\{\{index\}\}/,r.index()+1)))})},init:function(){var e=this,t=e.params.a11y;e.$el.append(e.a11y.liveRegion);var i=e.$el;t.containerRoleDescriptionMessage&&e.a11y.addElRoleDescription(i,t.containerRoleDescriptionMessage),t.containerMessage&&e.a11y.addElLabel(i,t.containerMessage);var r,n,s=e.$wrapperEl,a=s.attr("id")||"swiper-wrapper-"+e.a11y.getRandomNumber(16),o=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";e.a11y.addElId(s,a),e.a11y.addElLive(s,o),t.itemRoleDescriptionMessage&&e.a11y.addElRoleDescription(E(e.slides),t.itemRoleDescriptionMessage),e.a11y.addElRole(E(e.slides),t.slideRole),e.slides.each(function(i){var r=E(i),n=t.slideLabelMessage.replace(/\{\{index\}\}/,r.index()+1).replace(/\{\{slidesLength\}\}/,e.slides.length);e.a11y.addElLabel(r,n)}),e.navigation&&e.navigation.$nextEl&&(r=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(n=e.navigation.$prevEl),r&&r.length&&(e.a11y.makeElFocusable(r),"BUTTON"!==r[0].tagName&&(e.a11y.addElRole(r,"button"),r.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(r,t.nextSlideMessage),e.a11y.addElControls(r,a)),n&&n.length&&(e.a11y.makeElFocusable(n),"BUTTON"!==n[0].tagName&&(e.a11y.addElRole(n,"button"),n.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(n,t.prevSlideMessage),e.a11y.addElControls(n,a)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown",I(e.params.pagination.bulletClass),e.a11y.onEnterOrSpaceKey)},destroy:function(){var e,t;this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove(),this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(t=this.navigation.$prevEl),e&&e.off("keydown",this.a11y.onEnterOrSpaceKey),t&&t.off("keydown",this.a11y.onEnterOrSpaceKey),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown",I(this.params.pagination.bulletClass),this.a11y.onEnterOrSpaceKey)}},we={name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}},create:function(){P(this,{a11y:Se({},Ee,{liveRegion:E('<span class="'+this.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')})})},on:{afterInit:function(e){e.params.a11y.enabled&&(e.a11y.init(),e.a11y.updateNavigation())},toEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},fromEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},paginationUpdate:function(e){e.params.a11y.enabled&&e.a11y.updatePagination()},destroy:function(e){e.params.a11y.enabled&&e.a11y.destroy()}}};function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var xe={init:function(){var e=l();if(this.params.history){if(!e.history||!e.history.pushState)return this.params.history.enabled=!1,void(this.params.hashNavigation.enabled=!0);var t=this.history;t.initialized=!0,t.paths=xe.getPathValues(this.params.url),(t.paths.key||t.paths.value)&&(t.scrollToSlide(0,t.paths.value,this.params.runCallbacksOnInit),this.params.history.replaceState||e.addEventListener("popstate",this.history.setHistoryPopState))}},destroy:function(){var e=l();this.params.history.replaceState||e.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=xe.getPathValues(this.params.url),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(e){var t=l(),i=(e?new URL(e):t.location).pathname.slice(1).split("/").filter(function(e){return""!==e}),r=i.length;return{key:i[r-2],value:i[r-1]}},setHistory:function(e,t){var i=l();if(this.history.initialized&&this.params.history.enabled){var r;r=this.params.url?new URL(this.params.url):i.location;var n=this.slides.eq(t),s=xe.slugify(n.attr("data-history"));if(this.params.history.root.length>0){var a=this.params.history.root;"/"===a[a.length-1]&&(a=a.slice(0,a.length-1)),s=a+"/"+e+"/"+s}else r.pathname.includes(e)||(s=e+"/"+s);var o=i.history.state;o&&o.value===s||(this.params.history.replaceState?i.history.replaceState({value:s},null,s):i.history.pushState({value:s},null,s))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,i){if(t)for(var r=0,n=this.slides.length;r<n;r+=1){var s=this.slides.eq(r);if(xe.slugify(s.attr("data-history"))===t&&!s.hasClass(this.params.slideDuplicateClass)){var a=s.index();this.slideTo(a,e,i)}}else this.slideTo(0,e,i)}},ke={name:"history",params:{history:{enabled:!1,root:"",replaceState:!1,key:"slides"}},create:function(){P(this,{history:Ce({},xe)})},on:{init:function(e){e.params.history.enabled&&e.history.init()},destroy:function(e){e.params.history.enabled&&e.history.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.history.initialized&&e.history.setHistory(e.params.history.key,e.activeIndex)},slideChange:function(e){e.history.initialized&&e.params.cssMode&&e.history.setHistory(e.params.history.key,e.activeIndex)}}};function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var Pe={onHashCange:function(){var e=a();this.emit("hashChange");var t=e.location.hash.replace("#","");if(t!==this.slides.eq(this.activeIndex).attr("data-hash")){var i=this.$wrapperEl.children("."+this.params.slideClass+'[data-hash="'+t+'"]').index();if(void 0===i)return;this.slideTo(i)}},setHash:function(){var e=l(),t=a();if(this.hashNavigation.initialized&&this.params.hashNavigation.enabled)if(this.params.hashNavigation.replaceState&&e.history&&e.history.replaceState)e.history.replaceState(null,null,"#"+this.slides.eq(this.activeIndex).attr("data-hash")||""),this.emit("hashSet");else{var i=this.slides.eq(this.activeIndex),r=i.attr("data-hash")||i.attr("data-history");t.location.hash=r||"",this.emit("hashSet")}},init:function(){var e=a(),t=l();if(!(!this.params.hashNavigation.enabled||this.params.history&&this.params.history.enabled)){this.hashNavigation.initialized=!0;var i=e.location.hash.replace("#","");if(i)for(var r=0,n=this.slides.length;r<n;r+=1){var s=this.slides.eq(r);if((s.attr("data-hash")||s.attr("data-history"))===i&&!s.hasClass(this.params.slideDuplicateClass)){var o=s.index();this.slideTo(o,0,this.params.runCallbacksOnInit,!0)}}this.params.hashNavigation.watchState&&E(t).on("hashchange",this.hashNavigation.onHashCange)}},destroy:function(){var e=l();this.params.hashNavigation.watchState&&E(e).off("hashchange",this.hashNavigation.onHashCange)}},Ie={name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){P(this,{hashNavigation:Ae({initialized:!1},Pe)})},on:{init:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.init()},destroy:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.hashNavigation.initialized&&e.hashNavigation.setHash()},slideChange:function(e){e.hashNavigation.initialized&&e.params.cssMode&&e.hashNavigation.setHash()}}};function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var Me={run:function(){var e=this,t=e.slides.eq(e.activeIndex),i=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(i=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=w(function(){var t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),e.params.cssMode&&e.autoplay.running?e.autoplay.run():!1===t&&e.autoplay.run()},i)},start:function(){return void 0===this.autoplay.timeout&&(!this.autoplay.running&&(this.autoplay.running=!0,this.emit("autoplayStart"),this.autoplay.run(),!0))},stop:function(){return!!this.autoplay.running&&(void 0!==this.autoplay.timeout&&(this.autoplay.timeout&&(clearTimeout(this.autoplay.timeout),this.autoplay.timeout=void 0),this.autoplay.running=!1,this.emit("autoplayStop"),!0))},pause:function(e){this.autoplay.running&&(this.autoplay.paused||(this.autoplay.timeout&&clearTimeout(this.autoplay.timeout),this.autoplay.paused=!0,0!==e&&this.params.autoplay.waitForTransition?(this.$wrapperEl[0].addEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].addEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd)):(this.autoplay.paused=!1,this.autoplay.run())))},onVisibilityChange:function(){var e=a();"hidden"===e.visibilityState&&this.autoplay.running&&this.autoplay.pause(),"visible"===e.visibilityState&&this.autoplay.paused&&(this.autoplay.run(),this.autoplay.paused=!1)},onTransitionEnd:function(e){this&&!this.destroyed&&this.$wrapperEl&&e.target===this.$wrapperEl[0]&&(this.$wrapperEl[0].removeEventListener("transitionend",this.autoplay.onTransitionEnd),this.$wrapperEl[0].removeEventListener("webkitTransitionEnd",this.autoplay.onTransitionEnd),this.autoplay.paused=!1,this.autoplay.running?this.autoplay.run():this.autoplay.stop())}},Le={name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){P(this,{autoplay:De({},Me,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),a().addEventListener("visibilitychange",e.autoplay.onVisibilityChange))},beforeTransitionStart:function(e,t,i){e.autoplay.running&&(i||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(t):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.running&&e.autoplay.stop(),a().removeEventListener("visibilitychange",e.autoplay.onVisibilityChange)}}};function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var Re={setTranslate:function(){for(var e=this.slides,t=0;t<e.length;t+=1){var i=this.slides.eq(t),r=-i[0].swiperSlideOffset;this.params.virtualTranslate||(r-=this.translate);var n=0;this.isHorizontal()||(n=r,r=0);var s=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);i.css({opacity:s}).transform("translate3d("+r+"px, "+n+"px, 0px)")}},setTransition:function(e){var t=this,i=t.slides,r=t.$wrapperEl;if(i.transition(e),t.params.virtualTranslate&&0!==e){var n=!1;i.transitionEnd(function(){if(!n&&t&&!t.destroyed){n=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],i=0;i<e.length;i+=1)r.trigger(e[i])}})}}},Fe={name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){P(this,{fadeEffect:Oe({},Re)})},on:{beforeInit:function(e){if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};A(e.params,t),A(e.originalParams,t)}},setTranslate:function(e){"fade"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition:function(e,t){"fade"===e.params.effect&&e.fadeEffect.setTransition(t)}}};function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var Ne={setTranslate:function(){var e,t=this.$el,i=this.$wrapperEl,r=this.slides,n=this.width,s=this.height,a=this.rtlTranslate,o=this.size,l=this.browser,h=this.params.cubeEffect,u=this.isHorizontal(),c=this.virtual&&this.params.virtual.enabled,d=0;h.shadow&&(u?(0===(e=i.find(".swiper-cube-shadow")).length&&(e=E('<div class="swiper-cube-shadow"></div>'),i.append(e)),e.css({height:n+"px"})):0===(e=t.find(".swiper-cube-shadow")).length&&(e=E('<div class="swiper-cube-shadow"></div>'),t.append(e)));for(var p=0;p<r.length;p+=1){var f=r.eq(p),m=p;c&&(m=parseInt(f.attr("data-swiper-slide-index"),10));var g=90*m,v=Math.floor(g/360);a&&(g=-g,v=Math.floor(-g/360));var y=Math.max(Math.min(f[0].progress,1),-1),_=0,b=0,T=0;m%4==0?(_=4*-v*o,T=0):(m-1)%4==0?(_=0,T=4*-v*o):(m-2)%4==0?(_=o+4*v*o,T=o):(m-3)%4==0&&(_=-o,T=3*o+4*o*v),a&&(_=-_),u||(b=_,_=0);var S="rotateX("+(u?0:-g)+"deg) rotateY("+(u?g:0)+"deg) translate3d("+_+"px, "+b+"px, "+T+"px)";if(y<=1&&y>-1&&(d=90*m+90*y,a&&(d=90*-m-90*y)),f.transform(S),h.slideShadows){var w=u?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),C=u?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");0===w.length&&(w=E('<div class="swiper-slide-shadow-'+(u?"left":"top")+'"></div>'),f.append(w)),0===C.length&&(C=E('<div class="swiper-slide-shadow-'+(u?"right":"bottom")+'"></div>'),f.append(C)),w.length&&(w[0].style.opacity=Math.max(-y,0)),C.length&&(C[0].style.opacity=Math.max(y,0))}}if(i.css({"-webkit-transform-origin":"50% 50% -"+o/2+"px","-moz-transform-origin":"50% 50% -"+o/2+"px","-ms-transform-origin":"50% 50% -"+o/2+"px","transform-origin":"50% 50% -"+o/2+"px"}),h.shadow)if(u)e.transform("translate3d(0px, "+(n/2+h.shadowOffset)+"px, "+-n/2+"px) rotateX(90deg) rotateZ(0deg) scale("+h.shadowScale+")");else{var x=Math.abs(d)-90*Math.floor(Math.abs(d)/90),k=1.5-(Math.sin(2*x*Math.PI/360)/2+Math.cos(2*x*Math.PI/360)/2),A=h.shadowScale,P=h.shadowScale/k,I=h.shadowOffset;e.transform("scale3d("+A+", 1, "+P+") translate3d(0px, "+(s/2+I)+"px, "+-s/2/P+"px) rotateX(-90deg)")}var D=l.isSafari||l.isWebView?-o/2:0;i.transform("translate3d(0px,0,"+D+"px) rotateX("+(this.isHorizontal()?0:d)+"deg) rotateY("+(this.isHorizontal()?-d:0)+"deg)")},setTransition:function(e){var t=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(e)}},Ue={name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){P(this,{cubeEffect:Be({},Ne)})},on:{beforeInit:function(e){if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};A(e.params,t),A(e.originalParams,t)}},setTranslate:function(e){"cube"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition:function(e,t){"cube"===e.params.effect&&e.cubeEffect.setTransition(t)}}};function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var Ve={setTranslate:function(){for(var e=this.slides,t=this.rtlTranslate,i=0;i<e.length;i+=1){var r=e.eq(i),n=r[0].progress;this.params.flipEffect.limitRotation&&(n=Math.max(Math.min(r[0].progress,1),-1));var s=-180*n,a=0,o=-r[0].swiperSlideOffset,l=0;if(this.isHorizontal()?t&&(s=-s):(l=o,o=0,a=-s,s=0),r[0].style.zIndex=-Math.abs(Math.round(n))+e.length,this.params.flipEffect.slideShadows){var h=this.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),u=this.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===h.length&&(h=E('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"></div>'),r.append(h)),0===u.length&&(u=E('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"></div>'),r.append(u)),h.length&&(h[0].style.opacity=Math.max(-n,0)),u.length&&(u[0].style.opacity=Math.max(n,0))}r.transform("translate3d("+o+"px, "+l+"px, 0px) rotateX("+a+"deg) rotateY("+s+"deg)")}},setTransition:function(e){var t=this,i=t.slides,r=t.activeIndex,n=t.$wrapperEl;if(i.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var s=!1;i.eq(r).transitionEnd(function(){if(!s&&t&&!t.destroyed){s=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],i=0;i<e.length;i+=1)n.trigger(e[i])}})}}},ze={name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){P(this,{flipEffect:je({},Ve)})},on:{beforeInit:function(e){if("flip"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"flip"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};A(e.params,t),A(e.originalParams,t)}},setTranslate:function(e){"flip"===e.params.effect&&e.flipEffect.setTranslate()},setTransition:function(e,t){"flip"===e.params.effect&&e.flipEffect.setTransition(t)}}};function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var He={setTranslate:function(){for(var e=this.width,t=this.height,i=this.slides,r=this.slidesSizesGrid,n=this.params.coverflowEffect,s=this.isHorizontal(),a=this.translate,o=s?e/2-a:t/2-a,l=s?n.rotate:-n.rotate,h=n.depth,u=0,c=i.length;u<c;u+=1){var d=i.eq(u),p=r[u],f=(o-d[0].swiperSlideOffset-p/2)/p*n.modifier,m=s?l*f:0,g=s?0:l*f,v=-h*Math.abs(f),y=n.stretch;"string"==typeof y&&-1!==y.indexOf("%")&&(y=parseFloat(n.stretch)/100*p);var _=s?0:y*f,b=s?y*f:0,T=1-(1-n.scale)*Math.abs(f);Math.abs(b)<.001&&(b=0),Math.abs(_)<.001&&(_=0),Math.abs(v)<.001&&(v=0),Math.abs(m)<.001&&(m=0),Math.abs(g)<.001&&(g=0),Math.abs(T)<.001&&(T=0);var S="translate3d("+b+"px,"+_+"px,"+v+"px)  rotateX("+g+"deg) rotateY("+m+"deg) scale("+T+")";if(d.transform(S),d[0].style.zIndex=1-Math.abs(Math.round(f)),n.slideShadows){var w=s?d.find(".swiper-slide-shadow-left"):d.find(".swiper-slide-shadow-top"),C=s?d.find(".swiper-slide-shadow-right"):d.find(".swiper-slide-shadow-bottom");0===w.length&&(w=E('<div class="swiper-slide-shadow-'+(s?"left":"top")+'"></div>'),d.append(w)),0===C.length&&(C=E('<div class="swiper-slide-shadow-'+(s?"right":"bottom")+'"></div>'),d.append(C)),w.length&&(w[0].style.opacity=f>0?f:0),C.length&&(C[0].style.opacity=-f>0?-f:0)}}},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},$e={name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){P(this,{coverflowEffect:Ge({},He)})},on:{beforeInit:function(e){"coverflow"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+"coverflow"),e.classNames.push(e.params.containerModifierClass+"3d"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(e){"coverflow"===e.params.effect&&e.coverflowEffect.setTranslate()},setTransition:function(e,t){"coverflow"===e.params.effect&&e.coverflowEffect.setTransition(t)}}};function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var We={init:function(){var e=this.params.thumbs;if(this.thumbs.initialized)return!1;this.thumbs.initialized=!0;var t=this.constructor;return e.swiper instanceof t?(this.thumbs.swiper=e.swiper,A(this.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),A(this.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):k(e.swiper)&&(this.thumbs.swiper=new t(A({},e.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),this.thumbs.swiperCreated=!0),this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass),this.thumbs.swiper.on("tap",this.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this.thumbs.swiper;if(e){var t=e.clickedIndex,i=e.clickedSlide;if(!(i&&E(i).hasClass(this.params.thumbs.slideThumbActiveClass)||void 0===t||null===t)){var r;if(r=e.params.loop?parseInt(E(e.clickedSlide).attr("data-swiper-slide-index"),10):t,this.params.loop){var n=this.activeIndex;this.slides.eq(n).hasClass(this.params.slideDuplicateClass)&&(this.loopFix(),this._clientLeft=this.$wrapperEl[0].clientLeft,n=this.activeIndex);var s=this.slides.eq(n).prevAll('[data-swiper-slide-index="'+r+'"]').eq(0).index(),a=this.slides.eq(n).nextAll('[data-swiper-slide-index="'+r+'"]').eq(0).index();r=void 0===s?a:void 0===a?s:a-n<n-s?a:s}this.slideTo(r)}}},update:function(e){var t=this.thumbs.swiper;if(t){var i="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():t.params.slidesPerView,r=this.params.thumbs.autoScrollOffset,n=r&&!t.params.loop;if(this.realIndex!==t.realIndex||n){var s,a,o=t.activeIndex;if(t.params.loop){t.slides.eq(o).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,o=t.activeIndex);var l=t.slides.eq(o).prevAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index(),h=t.slides.eq(o).nextAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index();s=void 0===l?h:void 0===h?l:h-o==o-l?o:h-o<o-l?h:l,a=this.activeIndex>this.previousIndex?"next":"prev"}else a=(s=this.realIndex)>this.previousIndex?"next":"prev";n&&(s+="next"===a?r:-1*r),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(s)<0&&(t.params.centeredSlides?s=s>o?s-Math.floor(i/2)+1:s+Math.floor(i/2)-1:s>o&&(s=s-i+1),t.slideTo(s,e?0:void 0))}var u=1,c=this.params.thumbs.slideThumbActiveClass;if(this.params.slidesPerView>1&&!this.params.centeredSlides&&(u=this.params.slidesPerView),this.params.thumbs.multipleActiveThumbs||(u=1),u=Math.floor(u),t.slides.removeClass(c),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(var d=0;d<u;d+=1)t.$wrapperEl.children('[data-swiper-slide-index="'+(this.realIndex+d)+'"]').addClass(c);else for(var p=0;p<u;p+=1)t.slides.eq(this.realIndex+p).addClass(c)}}},Xe={name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){P(this,{thumbs:qe({swiper:null,initialized:!1},We)})},on:{beforeInit:function(e){var t=e.params.thumbs;t&&t.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var i=e.thumbs.swiper;i&&i.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}};i.d(t,"Swiper",function(){return q}),i.d(t,"default",function(){return q}),i.d(t,"Virtual",function(){return Y}),i.d(t,"Keyboard",function(){return J}),i.d(t,"Mousewheel",function(){return ee}),i.d(t,"Navigation",function(){return re}),i.d(t,"Pagination",function(){return ae}),i.d(t,"Scrollbar",function(){return he}),i.d(t,"Parallax",function(){return de}),i.d(t,"Zoom",function(){return me}),i.d(t,"Lazy",function(){return ye}),i.d(t,"Controller",function(){return Te}),i.d(t,"A11y",function(){return we}),i.d(t,"History",function(){return ke}),i.d(t,"HashNavigation",function(){return Ie}),i.d(t,"Autoplay",function(){return Le}),i.d(t,"EffectFade",function(){return Fe}),i.d(t,"EffectCube",function(){return Ue}),i.d(t,"EffectFlip",function(){return ze}),i.d(t,"EffectCoverflow",function(){return $e}),i.d(t,"Thumbs",function(){return Xe})},O4g8:function(e,t){e.exports=!0},OAFc:function(e,t,i){function r(e){this.options=e||{locator:{}}}function n(){this.cdata=!1}function s(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function a(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function o(e,t,i){return"string"==typeof e?e.substr(t,i):e.length>=t+i||t?new java.lang.String(e,t,i)+"":e}function l(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var i=this.options,r=new h,s=i.domBuilder||new n,o=i.errorHandler,l=i.locator,u=i.xmlns||{},c={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&s.setDocumentLocator(l),r.errorHandler=function(e,t,i){if(!e){if(t instanceof n)return t;e=t}var r={},s=e instanceof Function;function o(t){var n=e[t];!n&&s&&(n=2==e.length?function(i){e(t,i)}:e),r[t]=n&&function(e){n("[xmldom "+t+"]\t"+e+a(i))}||function(){}}return i=i||{},o("warning"),o("error"),o("fatalError"),r}(o,s,l),r.domBuilder=i.domBuilder||s,/\/x?html?$/.test(t)&&(c.nbsp="",c.copy="",u[""]="http://www.w3.org/1999/xhtml"),u.xml=u.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,u,c):r.errorHandler.error("invalid doc source"),s.doc},n.prototype={startDocument:function(){this.doc=(new u).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,i,r){var n=this.doc,a=n.createElementNS(e,i||t),o=r.length;l(this,a),this.currentElement=a,this.locator&&s(this.locator,a);for(var h=0;h<o;h++){e=r.getURI(h);var u=r.getValue(h),c=(i=r.getQName(h),n.createAttributeNS(e,i));this.locator&&s(r.getLocator(h),c),c.value=c.nodeValue=u,a.setAttributeNode(c)}},endElement:function(e,t,i){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var i=this.doc.createProcessingInstruction(e,t);this.locator&&s(this.locator,i),l(this,i)},ignorableWhitespace:function(e,t,i){},characters:function(e,t,i){if(e=o.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&s(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,i){e=o.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&s(this.locator,r),l(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,i){var r=this.doc.implementation;if(r&&r.createDocumentType){var n=r.createDocumentType(e,t,i);this.locator&&s(this.locator,n),l(this,n)}},warning:function(e){console.warn("[xmldom warning]\t"+e,a(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,a(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,a(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){n.prototype[e]=function(){return null}});var h=i("8zu+").XMLReader,u=t.DOMImplementation=i("yXhj").DOMImplementation;t.XMLSerializer=i("yXhj").XMLSerializer,t.DOMParser=r},ON07:function(e,t,i){var r=i("EqjI"),n=i("7KvD").document,s=r(n)&&r(n.createElement);e.exports=function(e){return s?n.createElement(e):{}}},ORon:function(e,t){e.exports=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}},OWA6:function(e,t,i){"use strict";var r=i("Gsvl"),n=i("lt8z"),s=i("Rl2i"),a=function(e){var t={};return e?(e.trim().split("\n").forEach(function(e){var i=e.indexOf(":"),r=e.slice(0,i).trim().toLowerCase(),n=e.slice(i+1).trim();void 0===t[r]?t[r]=n:Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]}),t):t};function o(e,t,i){var r=e;return s(t)?(i=t,"string"==typeof e&&(r={uri:e})):r=n({},t,{uri:e}),r.callback=i,r}function l(e,t,i){return h(t=o(e,t,i))}function h(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,i=function(i,r,n){t||(t=!0,e.callback(i,r,n))};function r(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,i(e,v)}function n(){if(!o){var t;clearTimeout(u),t=e.useXDR&&void 0===h.status?200:1223===h.status?204:h.status;var r=v,n=null;return 0!==t?(r={body:function(){var e=void 0;if(e=h.response?h.response:h.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(h),g)try{e=JSON.parse(e)}catch(e){}return e}(),statusCode:t,method:d,headers:{},url:c,rawRequest:h},h.getAllResponseHeaders&&(r.headers=a(h.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),i(n,r,r.body)}}var s,o,h=e.xhr||null;h||(h=e.cors||e.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var u,c=h.url=e.uri||e.url,d=h.method=e.method||"GET",p=e.body||e.data,f=h.headers=e.headers||{},m=!!e.sync,g=!1,v={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:h};if("json"in e&&!1!==e.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),h.onreadystatechange=function(){4===h.readyState&&setTimeout(n,0)},h.onload=n,h.onerror=r,h.onprogress=function(){},h.onabort=function(){o=!0},h.ontimeout=r,h.open(d,c,!m,e.username,e.password),m||(h.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(u=setTimeout(function(){if(!o){o=!0,h.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}},e.timeout)),h.setRequestHeader)for(s in f)f.hasOwnProperty(s)&&h.setRequestHeader(s,f[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(h.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(h),h.send(p||null),h}e.exports=l,e.exports.default=l,l.XMLHttpRequest=r.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var i=0;i<e.length;i++)t(e[i])}(["get","put","post","patch","head","delete"],function(e){l["delete"===e?"del":e]=function(t,i,r){return(i=o(t,i,r)).method=e.toUpperCase(),h(i)}})},"Oi+a":function(e,t,i){"use strict";var r=i("dIwP"),n=i("qRfI");e.exports=function(e,t){return e&&!r(t)?n(e,t):t}},Oy1H:function(e,t){function i(t){"@babel/helpers - typeof";return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=i=function(e){return typeof e}:e.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(t)}e.exports=i},PzxK:function(e,t,i){var r=i("D2L2"),n=i("sB3e"),s=i("ax3d")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},QRG4:function(e,t,i){var r=i("UuGF"),n=Math.min;e.exports=function(e){return e>0?n(r(e),9007199254740991):0}},QYsj:function(e,t,i){"use strict";
/*! @name @videojs/vhs-utils @version 2.3.0 @license MIT */var r=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,r=0;r<i;++r)t[r].call(this,arguments[1]);else for(var n=Array.prototype.slice.call(arguments,1),s=t.length,a=0;a<s;++a)t[a].apply(this,n)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",function(t){e.push(t)})},e}();e.exports=r},R9M2:function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},RPLV:function(e,t,i){var r=i("7KvD").document;e.exports=r&&r.documentElement},"RY/4":function(e,t,i){var r=i("R9M2"),n=i("dSzd")("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),n))?i:s?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},Rl2i:function(e,t){e.exports=function(e){if(!e)return!1;var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var i=Object.prototype.toString},S82l:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},SLDG:function(e,t,i){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},SfB7:function(e,t,i){e.exports=!i("+E39")&&!i("S82l")(function(){return 7!=Object.defineProperty(i("ON07")("div"),"a",{get:function(){return 7}}).a})},SkH0:function(e,t,i){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],n=function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],r=e[t+5];return i=i>=0?i:0,(16&r)>>4?i+20:i+10},s=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=n(e,t),s(e,t))},a=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={isLikelyAacData:function(e){var t=s(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:n,parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|i},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return r[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i,r;t=10,64&e[5]&&(t+=4,t+=a(e.subarray(10,14)));do{if((i=a(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+i+10);for(var n=0;n<r.byteLength;n++)if(0===r[n]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(e,t,i){var r,n="";for(r=t;r<i;r++)n+="%"+("00"+e[r].toString(16)).slice(-2);return n}(r,0,n))){var s=r.subarray(n+1),o=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return o*=4,o+=3&s[7]}break}}t+=10,t+=i}while(t<e.byteLength);return null}}},SldL:function(e,t){!function(t){"use strict";var i,r=Object.prototype,n=r.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag",h="object"==typeof e,u=t.regeneratorRuntime;if(u)h&&(e.exports=u);else{(u=t.regeneratorRuntime=h?e.exports:{}).wrap=b;var c="suspendedStart",d="suspendedYield",p="executing",f="completed",m={},g={};g[a]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(D([])));y&&y!==r&&n.call(y,a)&&(g=y);var _=w.prototype=S.prototype=Object.create(g);E.prototype=_.constructor=w,w.constructor=E,w[l]=E.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(_),e},u.awrap=function(e){return{__await:e}},C(x.prototype),x.prototype[o]=function(){return this},u.AsyncIterator=x,u.async=function(e,t,i,r){var n=new x(b(e,t,i,r));return u.isGeneratorFunction(t)?n:n.next().then(function(e){return e.done?e.value:n.next()})},C(_),_[l]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var r=t.pop();if(r in e)return i.value=r,i.done=!1,i}return i.done=!0,i}},u.values=D,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=i),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(l&&h){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),P(i),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var r=i.completion;if("throw"===r.type){var n=r.arg;P(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:D(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=i),m}}}function b(e,t,i,r){var n=t&&t.prototype instanceof S?t:S,s=Object.create(n.prototype),a=new I(r||[]);return s._invoke=function(e,t,i){var r=c;return function(n,s){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===n)throw s;return M()}for(i.method=n,i.arg=s;;){var a=i.delegate;if(a){var o=k(a,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===c)throw r=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=p;var l=T(e,t,i);if("normal"===l.type){if(r=i.done?f:d,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=f,i.method="throw",i.arg=l.arg)}}}(e,i,a),s}function T(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}function S(){}function E(){}function w(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(i,r){function s(){return new Promise(function(t,s){!function t(i,r,s,a){var o=T(e[i],e,r);if("throw"!==o.type){var l=o.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(e){t("next",e,s,a)},function(e){t("throw",e,s,a)}):Promise.resolve(h).then(function(e){l.value=e,s(l)},a)}a(o.arg)}(i,r,t,s)})}return t=t?t.then(s,s):s()}}function k(e,t){var r=e.iterator[t.method];if(r===i){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=i,k(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=T(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var s=n.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=i),t.delegate=null,m):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function D(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=i,t.done=!0,t};return s.next=s}}return{next:M}}function M(){return{value:i,done:!0}}}(function(){return this}()||Function("return this")())},"T/v0":function(e,t,i){var r=i("Oy1H"),n=i("M1I4");e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?n(e):t}},TNV1:function(e,t,i){"use strict";var r=i("cGG2");e.exports=function(e,t,i){return r.forEach(i,function(i){e=i(e,t)}),e}},TcQ7:function(e,t,i){var r=i("MU5D"),n=i("52gC");e.exports=function(e){return r(n(e))}},U5ju:function(e,t,i){i("M6a0"),i("zQR9"),i("+tPU"),i("CXw9"),i("EqBC"),i("jKW+"),e.exports=i("FeBl").Promise},UuGF:function(e,t){var i=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:i)(e)}},"VU/8":function(e,t){e.exports=function(e,t,i,r,n,s){var a,o=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(a=e,o=e.default);var h,u="function"==typeof o?o.options:o;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),i&&(u.functional=!0),n&&(u._scopeId=n),s?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=h):r&&(h=r),h){var c=u.functional,d=c?u.render:u.beforeCreate;c?(u._injectStyles=h,u.render=function(e,t){return h.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,h):[h]}return{esModule:a,exports:o,options:u}}},W2nU:function(e,t){var i,r,n=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,h=[],u=!1,c=-1;function d(){u&&l&&(u=!1,l.length?h=l.concat(h):c=-1,h.length&&p())}function p(){if(!u){var e=o(d);u=!0;for(var t=h.length;t;){for(l=h,h=[];++c<t;)l&&l[c].run();c=-1,t=h.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];h.push(new f(e,t)),1!==h.length||u||o(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},X8DO:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},XHP2:function(e,t){e.exports={toUnsigned:function(e){return e>>>0},toHexString:function(e){return("00"+e.toString(16)).slice(-2)}}},Xd32:function(e,t,i){i("+tPU"),i("zQR9"),e.exports=i("5PlU")},XmWM:function(e,t,i){"use strict";var r=i("cGG2"),n=i("DQCr"),s=i("fuGk"),a=i("xLtR"),o=i("DUeU");function l(e){this.defaults=e,this.interceptors={request:new s,response:new s}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],i=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)i=i.then(t.shift(),t.shift());return i},l.prototype.getUri=function(e){return e=o(this.defaults,e),n(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(e){l.prototype[e]=function(t,i){return this.request(o(i||{},{method:e,url:t,data:(i||{}).data}))}}),r.forEach(["post","put","patch"],function(e){l.prototype[e]=function(t,i,r){return this.request(o(r||{},{method:e,url:t,data:i}))}}),e.exports=l},Xxa5:function(e,t,i){e.exports=i("jyFz")},Yobk:function(e,t,i){var r=i("77Pl"),n=i("qio6"),s=i("xnc9"),a=i("ax3d")("IE_PROTO"),o=function(){},l=function(){var e,t=i("ON07")("iframe"),r=s.length;for(t.style.display="none",i("RPLV").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[s[r]];return l()};e.exports=Object.create||function(e,t){var i;return null!==e?(o.prototype=r(e),i=new o,o.prototype=null,i[a]=e):i=l(),void 0===t?i:n(i,t)}},aj7g:function(e,t){var i="auto",r={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function s(e){return"string"==typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}function a(e,t,n){this.hasBeenReset=!1;var a="",o=!1,l=e,h=t,u=n,c=null,d="",p=!0,f="auto",m="start",g="auto",v="auto",y=100,_="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return a},set:function(e){a=""+e}},pauseOnExit:{enumerable:!0,get:function(){return o},set:function(e){o=!!e}},startTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");l=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return c},set:function(e){c=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var t=function(e){return"string"==typeof e&&!!r[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(e){if("number"!=typeof e&&e!==i)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return m},set:function(e){var t=s(e);t?(m=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");g=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(e){var t=s(e);t?(v=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return _},set:function(e){var t=s(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");_=t,this.hasBeenReset=!0}}}),this.displayState=void 0}a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=a},awF4:function(e,t,i){(function(t){var i;i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=i}).call(t,i("DuR2"))},ax3d:function(e,t,i){var r=i("e8AB")("keys"),n=i("3Eo+");e.exports=function(e){return r[e]||(r[e]=n(e))}},bRrM:function(e,t,i){"use strict";var r=i("7KvD"),n=i("FeBl"),s=i("evD5"),a=i("+E39"),o=i("dSzd")("species");e.exports=function(e){var t="function"==typeof n[e]?n[e]:r[e];a&&t&&!t[o]&&s.f(t,o,{configurable:!0,get:function(){return this}})}},cGG2:function(e,t,i){"use strict";var r=i("JP+z"),n=Object.prototype.toString;function s(e){return"[object Array]"===n.call(e)}function a(e){return void 0===e}function o(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function h(e){return"[object Function]"===n.call(e)}function u(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),s(e))for(var i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===n.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isPlainObject:l,isUndefined:a,isDate:function(e){return"[object Date]"===n.call(e)},isFile:function(e){return"[object File]"===n.call(e)},isBlob:function(e){return"[object Blob]"===n.call(e)},isFunction:h,isStream:function(e){return o(e)&&h(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function i(i,r){l(t[r])&&l(i)?t[r]=e(t[r],i):l(i)?t[r]=e({},i):s(i)?t[r]=i.slice():t[r]=i}for(var r=0,n=arguments.length;r<n;r++)u(arguments[r],i);return t},extend:function(e,t,i){return u(t,function(t,n){e[n]=i&&"function"==typeof t?r(t,i):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},cNr3:function(e,t,i){"use strict";
/*! @name @videojs/vhs-utils @version 2.3.0 @license MIT */Object.defineProperty(t,"__esModule",{value:!0});var r,n=(r=i("awF4"))&&"object"==typeof r&&"default"in r?r.default:r,s={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},a=["video","audio","text"],o=["Video","Audio","Text"],l=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)}):e},h=function(e){return e.map(l)},u=function(e){void 0===e&&(e="");var t={},i=[];return e.split(",").forEach(function(e){var r;e=e.trim(),a.forEach(function(i){var n=s[i].exec(e.toLowerCase());if(n&&!(n.length<=1)){r=i;var a=e.substring(0,n[1].length),o=e.replace(a,"");t[i]={type:a,details:o}}}),r||i.push(e)}),i.length&&(t.unknown=i),t},c=function(e){return void 0===e&&(e=""),s.audio.test(e.trim().toLowerCase())},d=function(e){return void 0===e&&(e=""),s.text.test(e.trim().toLowerCase())},p=function(e){if(e&&"string"==typeof e){var t=e.toLowerCase().split(",").map(function(e){return l(e.trim())}),i="video";1===t.length&&c(t[0])?i="audio":1===t.length&&d(t[0])&&(i="application");var r="mp4";return t.every(function(e){return s.mp4.test(e)})?r="mp4":t.every(function(e){return s.webm.test(e)})?r="webm":t.every(function(e){return s.ogg.test(e)})&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}};t.DEFAULT_AUDIO_CODEC="mp4a.40.2",t.DEFAULT_VIDEO_CODEC="avc1.4d400d",t.browserSupportsCodec=function(e){return void 0===e&&(e=""),n.MediaSource&&n.MediaSource.isTypeSupported&&n.MediaSource.isTypeSupported(p(e))||!1},t.codecsFromDefault=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var i=e.mediaGroups.AUDIO[t];if(!i)return null;for(var r in i){var n=i[r];if(n.default&&n.playlists)return u(n.playlists[0].attributes.CODECS)}return null},t.getMimeForCodec=p,t.isAudioCodec=c,t.isTextCodec=d,t.isVideoCodec=function(e){return void 0===e&&(e=""),s.video.test(e.trim().toLowerCase())},t.mapLegacyAvcCodecs=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return h([e])[0]})},t.muxerSupportsCodec=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every(function(e){e=e.trim();for(var t=0;t<o.length;t++)if(s["muxer"+o[t]].test(e))return!0;return!1})},t.parseCodecs=u,t.translateLegacyCodec=l,t.translateLegacyCodecs=h},cWxy:function(e,t,i){"use strict";var r=i("dVOP");function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var i=this;e(function(e){i.reason||(i.reason=new r(e),t(i.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(t){e=t}),cancel:e}},e.exports=n},ciWi:function(e,t,i){var r=i("awF4"),n=e.exports={WebVTT:i("dlST"),VTTCue:i("aj7g"),VTTRegion:i("DvOw")};r.vttjs=n,r.WebVTT=n.WebVTT;var s=n.VTTCue,a=n.VTTRegion,o=r.VTTCue,l=r.VTTRegion;n.shim=function(){r.VTTCue=s,r.VTTRegion=a},n.restore=function(){r.VTTCue=o,r.VTTRegion=l},r.VTTCue||n.shim()},d7EF:function(e,t,i){"use strict";t.__esModule=!0;var r=s(i("us/S")),n=s(i("BO1k"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var i=[],r=!0,s=!1,a=void 0;try{for(var o,l=(0,n.default)(e);!(r=(o=l.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){s=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(s)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},dIwP:function(e,t,i){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},dNDb:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},dSzd:function(e,t,i){var r=i("e8AB")("wks"),n=i("3Eo+"),s=i("7KvD").Symbol,a="function"==typeof s;(e.exports=function(e){return r[e]||(r[e]=a&&s[e]||(a?s:n)("Symbol."+e))}).store=r},dVOP:function(e,t,i){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},dY0y:function(e,t,i){var r=i("dSzd")("iterator"),n=!1;try{var s=[7][r]();s.return=function(){n=!0},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var i=!1;try{var s=[7],a=s[r]();a.next=function(){return{done:i=!0}},s[r]=function(){return a},e(s)}catch(e){}return i}},dkdY:function(e,t){function i(t,r){return e.exports=i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(t,r)}e.exports=i},dlST:function(e,t,i){var r=i("dwO+"),n=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function s(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function a(e){function t(e,t,i,r){return 3600*(0|e)+60*(0|t)+(0|i)+(0|r)/1e3}var i=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?t(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?t(i[1],i[2],0,i[4]):t(0,i[1],i[2],i[4]):null}function o(){this.values=n(null)}function l(e,t,i,r){var n=r?e.split(r):[e];for(var s in n)if("string"==typeof n[s]){var a=n[s].split(i);if(2===a.length)t(a[0],a[1])}}function h(e,t,i){var r=e;function n(){var t=a(e);if(null===t)throw new s(s.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function h(){e=e.replace(/^\s+/,"")}if(h(),t.startTime=n(),h(),"--\x3e"!==e.substr(0,3))throw new s(s.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),h(),t.endTime=n(),h(),function(e,t){var r=new o;l(e,function(e,t){switch(e){case"region":for(var n=i.length-1;n>=0;n--)if(i[n].id===t){r.set(e,i[n].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var s=t.split(","),a=s[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===s.length&&r.alt("lineAlign",s[1],["start","center","end"]);break;case"position":s=t.split(","),r.percent(e,s[0]),2===s.length&&r.alt("positionAlign",s[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}},/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(e){}t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(e){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(e){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}s.prototype=n(Error.prototype),s.prototype.constructor=s,s.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var u=r.createElement("textarea"),c={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},p={v:"title",lang:"lang"},f={rt:"ruby"};function m(e,t){function i(){if(!t)return null;var e,i=t.match(/^([^<]*)(<[^>]*>?)?/);return e=i[1]?i[1]:i[2],t=t.substr(e.length),e}function r(e,t){return!f[t.localName]||f[t.localName]===e.localName}function n(t,i){var r=c[t];if(!r)return null;var n=e.document.createElement(r),s=p[t];return s&&i&&(n[s]=i.trim()),n}for(var s,o,l=e.document.createElement("div"),h=l,m=[];null!==(s=i());)if("<"!==s[0])h.appendChild(e.document.createTextNode((o=s,u.innerHTML=o,o=u.textContent,u.textContent="",o)));else{if("/"===s[1]){m.length&&m[m.length-1]===s.substr(2).replace(">","")&&(m.pop(),h=h.parentNode);continue}var g,v=a(s.substr(1,s.length-2));if(v){g=e.document.createProcessingInstruction("timestamp",v),h.appendChild(g);continue}var y=s.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(g=n(y[1],y[3])))continue;if(!r(h,g))continue;if(y[2]){var _=y[2].split(".");_.forEach(function(e){var t=/^bg_/.test(e),i=t?e.slice(3):e;if(d.hasOwnProperty(i)){var r=t?"background-color":"color",n=d[i];g.style[r]=n}}),g.className=_.join(" ")}m.push(y[1]),h.appendChild(g),h=g}return l}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function v(e){for(var t=0;t<g.length;t++){var i=g[t];if(e>=i[0]&&e<=i[1])return!0}return!1}function y(){}function _(e,t,i){y.call(this),this.cue=t,this.cueDiv=m(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:function(e){var t=[],i="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var i=t.childNodes.length-1;i>=0;i--)e.push(t.childNodes[i])}function n(e){if(!e||!e.length)return null;var t=e.pop(),i=t.textContent||t.innerText;if(i){var s=i.match(/^.*(\n|\r)/);return s?(e.length=0,s[0]):i}return"ruby"===t.tagName?n(e):t.childNodes?(r(e,t),n(e)):void 0}for(r(t,e);i=n(t);)for(var s=0;s<i.length;s++)if(v(i.charCodeAt(s)))return"rtl";return"ltr"}(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var n=0;switch(t.positionAlign){case"start":n=t.position;break;case"center":n=t.position-t.size/2;break;case"end":n=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function b(e){var t,i,r,n;if(e.div){i=e.div.offsetHeight,r=e.div.offsetWidth,n=e.div.offsetTop;var s=(s=e.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();e=e.div.getBoundingClientRect(),t=s?Math.max(s[0]&&s[0].height||0,e.height/s.length):0}this.left=e.left,this.right=e.right,this.top=e.top||n,this.height=e.height||i,this.bottom=e.bottom||n+(e.height||i),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function T(e,t,i,r){var n=new b(t),s=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,i=t.textTrackList,r=0,n=0;n<i.length&&i[n]!==t;n++)"showing"===i[n].mode&&r++;return-1*++r}(s),o=[];if(s.snapToLines){var l;switch(s.vertical){case"":o=["+y","-y"],l="height";break;case"rl":o=["+x","-x"],l="width";break;case"lr":o=["-x","+x"],l="width"}var h=n.lineHeight,u=h*Math.round(a),c=i[l]+h,d=o[0];Math.abs(u)>c&&(u=u<0?-1:1,u*=Math.ceil(c/h)*h),a<0&&(u+=""===s.vertical?i.height:i.width,o=o.reverse()),n.move(d,u)}else{var p=n.lineHeight/i.height*100;switch(s.lineAlign){case"center":a-=p/2;break;case"end":a-=p}switch(s.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}o=["+y","-x","+x","-y"],n=new b(t)}var f=function(e,t){for(var n,s=new b(e),a=1,o=0;o<t.length;o++){for(;e.overlapsOppositeAxis(i,t[o])||e.within(i)&&e.overlapsAny(r);)e.move(t[o]);if(e.within(i))return e;var l=e.intersectPercentage(i);a>l&&(n=new b(e),a=l),e=new b(s)}return n||s}(n,o);t.move(f.toCSSCompatValues(i))}function S(){}y.prototype.applyStyles=function(e,t){for(var i in t=t||this.div,e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},y.prototype.formatStyle=function(e,t){return 0===e?0:e+t},_.prototype=n(y.prototype),_.prototype.constructor=_,b.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},b.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},b.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},b.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},b.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},b.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},b.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},b.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||i}},S.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},S.convertCueToDOMTree=function(e,t){return e&&t?m(e,t):null};S.processCues=function(e,t,i){if(!e||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",i.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var n=[],s=b.getSimpleBoxPosition(r),a={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var i,o,l=0;l<t.length;l++)o=t[l],i=new _(e,o,a),r.appendChild(i.div),T(0,i,s,n),o.displayState=i.div,n.push(b.getSimpleBoxPosition(i))}()}else for(var o=0;o<t.length;o++)r.appendChild(t[o].displayState)},S.Parser=function(e,t,i){i||(i=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},S.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof s))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function i(){for(var e=t.buffer,i=0;i<e.length&&"\r"!==e[i]&&"\n"!==e[i];)++i;var r=e.substr(0,i);return"\r"===e[i]&&++i,"\n"===e[i]&&++i,t.buffer=e.substr(i),r}function r(e){e.match(/X-TIMESTAMP-MAP/)?l(e,function(e,i){switch(e){case"X-TIMESTAMP-MAP":r=i,n=new o,l(r,function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",a(t))}},/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}var r,n},/=/):l(e,function(e,i){switch(e){case"Region":!function(e){var i=new o;if(l(e,function(e,t){switch(e){case"id":i.set(e,t);break;case"width":i.percent(e,t);break;case"lines":i.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var n=new o;if(n.percent("x",r[0]),n.percent("y",r[1]),!n.has("x")||!n.has("y"))break;i.set(e+"X",n.get("x")),i.set(e+"Y",n.get("y"));break;case"scroll":i.alt(e,t,["up"])}},/=/,/\s/),i.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=i.get("width",100),r.lines=i.get("lines",3),r.regionAnchorX=i.get("regionanchorX",0),r.regionAnchorY=i.get("regionanchorY",100),r.viewportAnchorX=i.get("viewportanchorX",0),r.viewportAnchorY=i.get("viewportanchorY",100),r.scroll=i.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:i.get("id"),region:r})}}(i)}},/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var n;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var u=(n=i()).match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new s(s.Errors.BadSignature);t.state="HEADER"}for(var c=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(c?c=!1:n=i(),t.state){case"HEADER":/:/.test(n)?r(n):n||(t.state="ID");continue;case"NOTE":n||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){t.state="NOTE";break}if(!n)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(e){t.cue.align="middle"}if(t.state="CUE",-1===n.indexOf("--\x3e")){t.cue.id=n;continue}case"CUE":try{h(n,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var d=-1!==n.indexOf("--\x3e");if(!n||d&&(c=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=n.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":n||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new s(s.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},e.exports=S},"dwO+":function(e,t,i){(function(t){var r,n=void 0!==t?t:"undefined"!=typeof window?window:{},s=i(0);"undefined"!=typeof document?r=document:(r=n["__GLOBAL_DOCUMENT_CACHE@4"])||(r=n["__GLOBAL_DOCUMENT_CACHE@4"]=s),e.exports=r}).call(t,i("DuR2"))},e6n0:function(e,t,i){var r=i("evD5").f,n=i("D2L2"),s=i("dSzd")("toStringTag");e.exports=function(e,t,i){e&&!n(e=i?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},e8AB:function(e,t,i){var r=i("FeBl"),n=i("7KvD"),s=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:i("O4g8")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},evD5:function(e,t,i){var r=i("77Pl"),n=i("SfB7"),s=i("MmMw"),a=Object.defineProperty;t.f=i("+E39")?Object.defineProperty:function(e,t,i){if(r(e),t=s(t,!0),r(i),n)try{return a(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},exGp:function(e,t,i){"use strict";t.__esModule=!0;var r,n=i("//Fk"),s=(r=n)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new s.default(function(e,i){return function r(n,a){try{var o=t[n](a),l=o.value}catch(e){return void i(e)}if(!o.done)return s.default.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}},fJUb:function(e,t,i){var r=i("77Pl"),n=i("EqjI"),s=i("qARP");e.exports=function(e,t){if(r(e),n(t)&&t.constructor===e)return t;var i=s.f(e);return(0,i.resolve)(t),i.promise}},fkB2:function(e,t,i){var r=i("UuGF"),n=Math.max,s=Math.min;e.exports=function(e,t){return(e=r(e))<0?n(e+t,0):s(e,t)}},fleF:function(e,t,i){"use strict";var r=i("pl6C"),n=function(e){var t=31&e[1];return t<<=8,t|=e[2]},s=function(e){return!!(64&e[1])},a=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},o=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var i=n(e);return 0===i?"pat":i===t?"pmt":t?"pes":null},parsePat:function(e){var t=s(e),i=4+a(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t={},i=s(e),r=4+a(e);if(i&&(r+=e[r]+1),1&e[r+5]){var n;n=3+((15&e[r+1])<<8|e[r+2])-4;for(var o=12+((15&e[r+10])<<8|e[r+11]);o<n;){var l=r+o;t[(31&e[l+1])<<8|e[l+2]]=e[l],o+=5+((15&e[l+3])<<8|e[l+4])}return t}},parsePayloadUnitStartIndicator:s,parsePesType:function(e,t){switch(t[n(e)]){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!s(e))return null;var t=4+a(e);if(t>=e.byteLength)return null;var i,r=null;return 192&(i=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&i&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+a(e),i=e.subarray(t),r=0,n=0,s=!1;n<i.byteLength-3;n++)if(1===i[n+2]){r=n+5;break}for(;r<i.byteLength;)switch(i[r]){case 0:if(0!==i[r-1]){r+=2;break}if(0!==i[r-2]){r++;break}n+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===o(31&i[n+3])&&(s=!0);do{r++}while(1!==i[r]&&r<i.length);n=r-2,r+=3;break;case 1:if(0!==i[r-1]||0!==i[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===o(31&i[n+3])&&(s=!0),n=r-2,r+=3;break;default:r+=3}return i=i.subarray(n),r-=n,n=0,i&&i.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===o(31&i[n+3])&&(s=!0),s}}},fuGk:function(e,t,i){"use strict";var r=i("cGG2");function n(){this.handlers=[]}n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=n},fx5k:function(e,t,i){var r,n,s,a,o;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,n=/^([^\/?#]*)(.*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var r=o.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return i.alwaysNormalize?(s.path=o.normalizePath(s.path),o.buildURLFromParts(s)):t;var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=n.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var h={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(h.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var u=a.path,c=u.substring(0,u.lastIndexOf("/")+1)+s.path;h.path=o.normalizePath(c)}else h.path=a.path,s.params||(h.params=a.params,s.query||(h.query=a.query));return null===h.path&&(h.path=i.alwaysNormalize?o.normalizePath(s.path):s.path),o.buildURLFromParts(h)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(s,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o},fxRn:function(e,t,i){i("+tPU"),i("zQR9"),e.exports=i("g8Ux")},g8Ux:function(e,t,i){var r=i("77Pl"),n=i("3fs2");e.exports=i("FeBl").getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},h65t:function(e,t,i){var r=i("UuGF"),n=i("52gC");e.exports=function(e){return function(t,i){var s,a,o=String(n(t)),l=r(i),h=o.length;return l<0||l>=h?e?"":void 0:(s=o.charCodeAt(l))<55296||s>56319||l+1===h||(a=o.charCodeAt(l+1))<56320||a>57343?e?o.charAt(l):s:e?o.slice(l,l+2):a-56320+(s-55296<<10)+65536}}},hJx8:function(e,t,i){var r=i("evD5"),n=i("X8DO");e.exports=i("+E39")?function(e,t,i){return r.f(e,t,n(1,i))}:function(e,t,i){return e[t]=i,e}},hKoQ:function(e,t,i){(function(t,i){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,s=void 0,a=void 0,o=function(e,t){f[n]=e,f[n+1]=t,2===(n+=2)&&(a?a(m):b())};var l="undefined"!=typeof window?window:void 0,h=l||{},u=h.MutationObserver||h.WebKitMutationObserver,c="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(m,1)}}var f=new Array(1e3);function m(){for(var e=0;e<n;e+=2){(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0}n=0}var g,v,y,_,b=void 0;function T(e,t){var i=this,r=new this.constructor(w);void 0===r[E]&&B(r);var n=i._state;if(n){var s=arguments[n-1];o(function(){return R(n,r,s,i._result)})}else L(i,r,e,t);return r}function S(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(w);return P(t,e),t}c?b=function(){return t.nextTick(m)}:u?(v=0,y=new u(m),_=document.createTextNode(""),y.observe(_,{characterData:!0}),b=function(){_.data=v=++v%2}):d?((g=new MessageChannel).port1.onmessage=m,b=function(){return g.port2.postMessage(0)}):b=void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(s=e.runOnLoop||e.runOnContext)?function(){s(m)}:p()}catch(e){return p()}}():p();var E=Math.random().toString(36).substring(2);function w(){}var C=void 0,x=1,k=2;function A(t,i,r){i.constructor===t.constructor&&r===T&&i.constructor.resolve===S?function(e,t){t._state===x?D(e,t._result):t._state===k?M(e,t._result):L(t,void 0,function(t){return P(e,t)},function(t){return M(e,t)})}(t,i):void 0===r?D(t,i):e(r)?function(e,t,i){o(function(e){var r=!1,n=function(e,t,i,r){try{e.call(t,i,r)}catch(e){return e}}(i,t,function(i){r||(r=!0,t!==i?P(e,i):D(e,i))},function(t){r||(r=!0,M(e,t))},e._label);!r&&n&&(r=!0,M(e,n))},e)}(t,i,r):D(t,i)}function P(e,t){if(e===t)M(e,new TypeError("You cannot resolve a promise with itself"));else if(n=typeof(r=t),null===r||"object"!==n&&"function"!==n)D(e,t);else{var i=void 0;try{i=t.then}catch(t){return void M(e,t)}A(e,t,i)}var r,n}function I(e){e._onerror&&e._onerror(e._result),O(e)}function D(e,t){e._state===C&&(e._result=t,e._state=x,0!==e._subscribers.length&&o(O,e))}function M(e,t){e._state===C&&(e._state=k,e._result=t,o(I,e))}function L(e,t,i,r){var n=e._subscribers,s=n.length;e._onerror=null,n[s]=t,n[s+x]=i,n[s+k]=r,0===s&&e._state&&o(O,e)}function O(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var r=void 0,n=void 0,s=e._result,a=0;a<t.length;a+=3)r=t[a],n=t[a+i],r?R(i,r,n,s):n(s);e._subscribers.length=0}}function R(t,i,r,n){var s=e(r),a=void 0,o=void 0,l=!0;if(s){try{a=r(n)}catch(e){l=!1,o=e}if(i===a)return void M(i,new TypeError("A promises callback cannot return that same promise."))}else a=n;i._state!==C||(s&&l?P(i,a):!1===l?M(i,o):t===x?D(i,a):t===k&&M(i,a))}var F=0;function B(e){e[E]=F++,e._state=void 0,e._result=void 0,e._subscribers=[]}var N=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(w),this.promise[E]||B(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&D(this.promise,this._result))):M(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===C&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,r=i.resolve;if(r===S){var n=void 0,s=void 0,a=!1;try{n=e.then}catch(e){a=!0,s=e}if(n===T&&e._state!==C)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(i===U){var o=new i(w);a?M(o,s):A(o,e,n),this._willSettleAt(o,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,i){var r=this.promise;r._state===C&&(this._remaining--,e===k?M(r,i):this._result[t]=i),0===this._remaining&&D(r,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;L(e,void 0,function(e){return i._settledAt(x,t,e)},function(e){return i._settledAt(k,t,e)})},e}();var U=function(){function t(e){this[E]=F++,this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){P(e,t)},function(t){M(e,t)})}catch(t){M(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var i=this.constructor;return e(t)?this.then(function(e){return i.resolve(t()).then(function(){return e})},function(e){return i.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return U.prototype.then=T,U.all=function(e){return new N(this,e).promise},U.race=function(e){var t=this;return r(e)?new t(function(i,r){for(var n=e.length,s=0;s<n;s++)t.resolve(e[s]).then(i,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},U.resolve=S,U.reject=function(e){var t=new this(w);return M(t,e),t},U._setScheduler=function(e){a=e},U._setAsap=function(e){o=e},U._asap=o,U.polyfill=function(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=U},U.Promise=U,U},e.exports=r()}).call(t,i("W2nU"),i("DuR2"))},"htJ/":function(e,t){e.exports=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])}},iUbK:function(e,t,i){var r=i("7KvD").navigator;e.exports=r&&r.userAgent||""},"j/rp":function(e,t,i){var r=i("dkdY");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},"jKW+":function(e,t,i){"use strict";var r=i("kM2E"),n=i("qARP"),s=i("dNDb");r(r.S,"Promise",{try:function(e){var t=n.f(this),i=s(e);return(i.e?t.reject:t.resolve)(i.v),t.promise}})},jyFz:function(e,t,i){var r=function(){return this}()||Function("return this")(),n=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,s=n&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=i("SldL"),n)r.regeneratorRuntime=s;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},kM2E:function(e,t,i){var r=i("7KvD"),n=i("FeBl"),s=i("+ZMJ"),a=i("hJx8"),o=i("D2L2"),l=function(e,t,i){var h,u,c,d=e&l.F,p=e&l.G,f=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,y=p?n:n[t]||(n[t]={}),_=y.prototype,b=p?r:f?r[t]:(r[t]||{}).prototype;for(h in p&&(i=t),i)(u=!d&&b&&void 0!==b[h])&&o(y,h)||(c=u?b[h]:i[h],y[h]=p&&"function"!=typeof b[h]?i[h]:g&&u?s(c,r):v&&b[h]==c?function(e){var t=function(t,i,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):m&&"function"==typeof c?s(Function.call,c):c,m&&((y.virtual||(y.virtual={}))[h]=c,e&l.R&&_&&!_[h]&&a(_,h,c)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},knuC:function(e,t){e.exports=function(e,t,i){var r=void 0===i;switch(t.length){case 0:return r?e():e.call(i);case 1:return r?e(t[0]):e.call(i,t[0]);case 2:return r?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},kx0S:function(e,t,i){var r=i("dkdY"),n=i("ARpH");function s(t,i,a){return n()?e.exports=s=Reflect.construct:e.exports=s=function(e,t,i){var n=[null];n.push.apply(n,t);var s=new(Function.bind.apply(e,n));return i&&r(s,i.prototype),s},s.apply(null,arguments)}e.exports=s},lOnJ:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},lamJ:function(e,t){var i,r,n,s,a,o,l;i=function(e){return 9e4*e},r=function(e,t){return e*t},n=function(e){return e/9e4},s=function(e,t){return e/t},a=function(e,t){return i(s(e,t))},o=function(e,t){return r(n(e),t)},l=function(e,t,i){return n(i?e:e-t)},e.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:i,secondsToAudioTs:r,videoTsToSeconds:n,audioTsToSeconds:s,audioTsToVideoTs:a,videoTsToAudioTs:o,metadataTsToSeconds:l}},ljAp:function(e,t){function i(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var i,s=String(e);return(i=r[s.toLowerCase()])?i:(i=n[s.toLowerCase()])||(1===s.length?s.charCodeAt(0):void 0)}i.isEventKey=function(e,t){if(e&&"object"==typeof e){var i=e.which||e.keyCode||e.charCode;if(null===i||void 0===i)return!1;if("string"==typeof t){var s;if(s=r[t.toLowerCase()])return s===i;if(s=n[t.toLowerCase()])return s===i}else if("number"==typeof t)return t===i;return!1}};var r=(t=e.exports=i).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
 * Programatically add the following
 */
for(s=97;s<123;s++)r[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)r[s-48]=s;for(s=1;s<13;s++)r["f"+s]=s+111;for(s=0;s<10;s++)r["numpad "+s]=s+96;var a=t.names=t.title={};for(s in r)a[r[s]]=s;for(var o in n)r[o]=n[o]},lktj:function(e,t,i){var r=i("Ibhu"),n=i("xnc9");e.exports=Object.keys||function(e){return r(e,n)}},lt8z:function(e,t){function i(){return e.exports=i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},i.apply(this,arguments)}e.exports=i},msXi:function(e,t,i){var r=i("77Pl");e.exports=function(e,t,i,n){try{return n?t(r(i)[0],i[1]):t(i)}catch(t){var s=e.return;throw void 0!==s&&r(s.call(e)),t}}},mtWM:function(e,t,i){e.exports=i("tIFN")},mvHQ:function(e,t,i){e.exports={default:i("qkKv"),__esModule:!0}},nIbA:function(e,t,i){"use strict";var r=function(){this.init=function(){var e={};this.on=function(t,i){e[t]||(e[t]=[]),e[t]=e[t].concat(i)},this.off=function(t,i){var r;return!!e[t]&&(r=e[t].indexOf(i),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var i,r,n,s;if(i=e[t])if(2===arguments.length)for(n=i.length,r=0;r<n;++r)i[r].call(this,arguments[1]);else{for(s=[],r=arguments.length,r=1;r<arguments.length;++r)s.push(arguments[r]);for(n=i.length,r=0;r<n;++r)i[r].apply(this,s)}},this.dispose=function(){e={}}}};r.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),this.on("partialdone",function(t){e.partialFlush(t)}),this.on("endedtimeline",function(t){e.endTimeline(t)}),this.on("reset",function(t){e.reset(t)}),e},r.prototype.push=function(e){this.trigger("data",e)},r.prototype.flush=function(e){this.trigger("done",e)},r.prototype.partialFlush=function(e){this.trigger("partialdone",e)},r.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},r.prototype.reset=function(e){this.trigger("reset",e)},e.exports=r},oJlt:function(e,t,i){"use strict";var r=i("cGG2"),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,s,a={};return e?(r.forEach(e.split("\n"),function(e){if(s=e.indexOf(":"),t=r.trim(e.substr(0,s)).toLowerCase(),i=r.trim(e.substr(s+1)),t){if(a[t]&&n.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([i]):a[t]?a[t]+", "+i:i}}),a):a}},p1b6:function(e,t,i){"use strict";var r=i("cGG2");e.exports=r.isStandardBrowserEnv()?{write:function(e,t,i,n,s,a){var o=[];o.push(e+"="+encodeURIComponent(t)),r.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),r.isString(n)&&o.push("path="+n),r.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},pBtG:function(e,t,i){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},pEUO:function(e,t,i){"use strict";
/*! @name @videojs/vhs-utils @version 2.3.0 @license MIT */function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var n=r(i("fx5k")),s=r(i("awF4"));e.exports=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=n.buildAbsoluteURL(s.location&&s.location.href||"",e)),n.buildAbsoluteURL(e,t))}},pl6C:function(e,t,i){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},pxG4:function(e,t,i){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},qARP:function(e,t,i){"use strict";var r=i("lOnJ");e.exports.f=function(e){return new function(e){var t,i;this.promise=new e(function(e,r){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=r}),this.resolve=r(t),this.reject=r(i)}(e)}},qRfI:function(e,t,i){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},qio6:function(e,t,i){var r=i("evD5"),n=i("77Pl"),s=i("lktj");e.exports=i("+E39")?Object.defineProperties:function(e,t){n(e);for(var i,a=s(t),o=a.length,l=0;o>l;)r.f(e,i=a[l++],t[i]);return e}},qkKv:function(e,t,i){var r=i("FeBl"),n=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},sB3e:function(e,t,i){var r=i("52gC");e.exports=function(e){return Object(r(e))}},"sGG/":function(e,t,i){"use strict";
/*! @name @videojs/vhs-utils @version 2.3.0 @license MIT */Object.defineProperty(t,"__esModule",{value:!0});var r=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,n=/^application\/dash\+xml/i;t.simpleTypeFromSourceType=function(e){return r.test(e)?"hls":n.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null}},sOR5:function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},t8qj:function(e,t,i){"use strict";e.exports=function(e,t,i,r,n){return e.config=t,i&&(e.code=i),e.request=r,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},t8x9:function(e,t,i){var r=i("77Pl"),n=i("lOnJ"),s=i("dSzd")("species");e.exports=function(e,t){var i,a=r(e).constructor;return void 0===a||void 0==(i=r(a)[s])?t:n(i)}},tIFN:function(e,t,i){"use strict";var r=i("cGG2"),n=i("JP+z"),s=i("XmWM"),a=i("DUeU");function o(e){var t=new s(e),i=n(s.prototype.request,t);return r.extend(i,s.prototype,t),r.extend(i,t),i}var l=o(i("KCLY"));l.Axios=s,l.create=function(e){return o(a(l.defaults,e))},l.Cancel=i("dVOP"),l.CancelToken=i("cWxy"),l.isCancel=i("pBtG"),l.all=function(e){return Promise.all(e)},l.spread=i("pxG4"),l.isAxiosError=i("SLDG"),e.exports=l,e.exports.default=l},tNLN:function(e,t){function i(t){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(t)}e.exports=i},tgCg:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,root,factory;"undefined"!=typeof navigator&&(root=window||{},factory=function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bmRnd,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i=t.length;for(e=0;e<i;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===typeof e&&e.length){var t,i=createSizedArray(e.length),r=e.length;for(t=0;t<r;t+=1)i[t]=Math.abs(e[t]);return i}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){bmRnd=e?Math.round:function(e){return e}}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,i,r){this.type=e,this.currentTime=t,this.totalTime=i,this.direction=r<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,i,r){this.type=e,this.currentLoop=i,this.totalLoops=t,this.direction=r<0?-1:1}function BMSegmentStartEvent(e,t,i){this.type=e,this.firstFrame=t,this.totalFrames=i}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t}roundValues(!1);var createElementID=(_count=0,function(){return"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(e,t,i){var r,n,s,a,o,l,h,u;switch(l=i*(1-t),h=i*(1-(o=6*e-(a=Math.floor(6*e)))*t),u=i*(1-(1-o)*t),a%6){case 0:r=i,n=u,s=l;break;case 1:r=h,n=i,s=l;break;case 2:r=l,n=i,s=u;break;case 3:r=l,n=h,s=i;break;case 4:r=u,n=l,s=i;break;case 5:r=i,n=l,s=h}return[r,n,s]}function RGBtoHSV(e,t,i){var r,n=Math.max(e,t,i),s=Math.min(e,t,i),a=n-s,o=0===n?0:a/n,l=n/255;switch(n){case s:r=0;break;case e:r=t-i+a*(t<i?6:0),r/=6*a;break;case t:r=i-e+2*a,r/=6*a;break;case i:r=e-t+4*a,r/=6*a}return[r,o,l]}function addSaturationToRGB(e,t){var i=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return i[1]+=t,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(e,t){var i=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return i[2]+=t,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(e,t){var i=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return i[0]+=t/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}var rgbToHex=function(){var e,t,i=[];for(e=0;e<256;e+=1)t=e.toString(16),i[e]=1===t.length?"0"+t:t;return function(e,t,r){return e<0&&(e=0),t<0&&(t=0),r<0&&(r=0),"#"+i[e]+i[t]+i[r]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var i=this._cbs[e].length,r=0;r<i;r+=1)this._cbs[e][r](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var i=0,r=this._cbs[e].length;i<r;)this._cbs[e][i]===t&&(this._cbs[e].splice(i,1),i-=1,r-=1),i+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var createTypedArray=function(){function e(e,t){var i,r=0,n=[];switch(e){case"int16":case"uint8c":i=1;break;default:i=1.1}for(r=0;r<t;r+=1)n.push(i);return n}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,i){return"float32"===t?new Float32Array(i):"int16"===t?new Int16Array(i):"uint8c"===t?new Uint8ClampedArray(i):e(t,i)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function createNS(e){return document.createElementNS(svgNS,e)}function createTag(e){return document.createElement(e)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return blendModeEnums[e]||""}),blendModeEnums,Matrix=function(){var e=Math.cos,t=Math.sin,i=Math.tan,r=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(i){if(0===i)return this;var r=e(i),n=t(i);return this._t(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1)}function a(i){if(0===i)return this;var r=e(i),n=t(i);return this._t(1,0,0,0,0,r,-n,0,0,n,r,0,0,0,0,1)}function o(i){if(0===i)return this;var r=e(i),n=t(i);return this._t(r,0,n,0,0,1,0,0,-n,0,r,0,0,0,0,1)}function l(i){if(0===i)return this;var r=e(i),n=t(i);return this._t(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1)}function h(e,t){return this._t(1,t,e,1,0,0)}function u(e,t){return this.shear(i(e),i(t))}function c(r,n){var s=e(n),a=t(n);return this._t(s,a,0,0,-a,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,i(r),1,0,0,0,0,1,0,0,0,0,1)._t(s,-a,0,0,a,s,0,0,0,0,1,0,0,0,0,1)}function d(e,t,i){return i||0===i||(i=1),1===e&&1===t&&1===i?this:this._t(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1)}function p(e,t,i,r,n,s,a,o,l,h,u,c,d,p,f,m){return this.props[0]=e,this.props[1]=t,this.props[2]=i,this.props[3]=r,this.props[4]=n,this.props[5]=s,this.props[6]=a,this.props[7]=o,this.props[8]=l,this.props[9]=h,this.props[10]=u,this.props[11]=c,this.props[12]=d,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function f(e,t,i){return i=i||0,0!==e||0!==t||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,i,1):this}function m(e,t,i,r,n,s,a,o,l,h,u,c,d,p,f,m){var g=this.props;if(1===e&&0===t&&0===i&&0===r&&0===n&&1===s&&0===a&&0===o&&0===l&&0===h&&1===u&&0===c)return g[12]=g[12]*e+g[15]*d,g[13]=g[13]*s+g[15]*p,g[14]=g[14]*u+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var v=g[0],y=g[1],_=g[2],b=g[3],T=g[4],S=g[5],E=g[6],w=g[7],C=g[8],x=g[9],k=g[10],A=g[11],P=g[12],I=g[13],D=g[14],M=g[15];return g[0]=v*e+y*n+_*l+b*d,g[1]=v*t+y*s+_*h+b*p,g[2]=v*i+y*a+_*u+b*f,g[3]=v*r+y*o+_*c+b*m,g[4]=T*e+S*n+E*l+w*d,g[5]=T*t+S*s+E*h+w*p,g[6]=T*i+S*a+E*u+w*f,g[7]=T*r+S*o+E*c+w*m,g[8]=C*e+x*n+k*l+A*d,g[9]=C*t+x*s+k*h+A*p,g[10]=C*i+x*a+k*u+A*f,g[11]=C*r+x*o+k*c+A*m,g[12]=P*e+I*n+D*l+M*d,g[13]=P*t+I*s+D*h+M*p,g[14]=P*i+I*a+D*u+M*f,g[15]=P*r+I*o+D*c+M*m,this._identityCalculated=!1,this}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function v(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function y(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function _(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function b(e,t,i){return{x:e*this.props[0]+t*this.props[4]+i*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+i*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+i*this.props[10]+this.props[14]}}function T(e,t,i){return e*this.props[0]+t*this.props[4]+i*this.props[8]+this.props[12]}function S(e,t,i){return e*this.props[1]+t*this.props[5]+i*this.props[9]+this.props[13]}function E(e,t,i){return e*this.props[2]+t*this.props[6]+i*this.props[10]+this.props[14]}function w(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,i=-this.props[1]/e,r=-this.props[4]/e,n=this.props[0]/e,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,o=new Matrix;return o.props[0]=t,o.props[1]=i,o.props[4]=r,o.props[5]=n,o.props[12]=s,o.props[13]=a,o}function C(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function x(e){var t,i=e.length,r=[];for(t=0;t<i;t+=1)r[t]=C(e[t]);return r}function k(e,t,i){var r=createTypedArray("float32",6);if(this.isIdentity())r[0]=e[0],r[1]=e[1],r[2]=t[0],r[3]=t[1],r[4]=i[0],r[5]=i[1];else{var n=this.props[0],s=this.props[1],a=this.props[4],o=this.props[5],l=this.props[12],h=this.props[13];r[0]=e[0]*n+e[1]*a+l,r[1]=e[0]*s+e[1]*o+h,r[2]=t[0]*n+t[1]*a+l,r[3]=t[0]*s+t[1]*o+h,r[4]=i[0]*n+i[1]*a+l,r[5]=i[0]*s+i[1]*o+h}return r}function A(e,t,i){return this.isIdentity()?[e,t,i]:[e*this.props[0]+t*this.props[4]+i*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+i*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+i*this.props[10]+this.props[14]]}function P(e,t){if(this.isIdentity())return e+","+t;var i=this.props;return Math.round(100*(e*i[0]+t*i[4]+i[12]))/100+","+Math.round(100*(e*i[1]+t*i[5]+i[13]))/100}function I(){for(var e=0,t=this.props,i="matrix3d(";e<16;)i+=r(1e4*t[e])/1e4,i+=15===e?")":",",e+=1;return i}function D(e){return e<1e-6&&e>0||e>-1e-6&&e<0?r(1e4*e)/1e4:e}function M(){var e=this.props;return"matrix("+D(e[0])+","+D(e[1])+","+D(e[4])+","+D(e[5])+","+D(e[12])+","+D(e[13])+")"}return function(){this.reset=n,this.rotate=s,this.rotateX=a,this.rotateY=o,this.rotateZ=l,this.skew=u,this.skewFromAxis=c,this.shear=h,this.scale=d,this.setTransform=p,this.translate=f,this.transform=m,this.applyToPoint=b,this.applyToX=T,this.applyToY=S,this.applyToZ=E,this.applyToPointArray=A,this.applyToTriplePoints=k,this.applyToPointStringified=P,this.toCSS=I,this.to2dCSS=M,this.clone=y,this.cloneFromProps=_,this.equals=v,this.inversePoints=x,this.inversePoint=C,this.getInverseMatrix=w,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();
/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */!function(e,t){var i,r=this,n=256,s=6,a="random",o=t.pow(n,s),l=t.pow(2,52),h=2*l,u=n-1;function c(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function d(e,t){for(var i,r=e+"",n=0;n<r.length;)t[u&n]=u&(i^=19*t[u&n])+r.charCodeAt(n++);return p(t)}function p(e){return String.fromCharCode.apply(0,e)}t["seed"+a]=function(f,m,g){var v=[],y=d(function e(t,i){var r,n=[],s=typeof t;if(i&&"object"==s)for(r in t)try{n.push(e(t[r],i-1))}catch(e){}return n.length?n:"string"==s?t:t+"\0"}((m=!0===m?{entropy:!0}:m||{}).entropy?[f,p(e)]:null===f?function(){try{if(i)return p(i.randomBytes(n));var t=new Uint8Array(n);return(r.crypto||r.msCrypto).getRandomValues(t),p(t)}catch(t){var s=r.navigator,a=s&&s.plugins;return[+new Date,r,a,r.screen,p(e)]}}():f,3),v),_=new function(e){var t,i=e.length,r=this,s=0,a=r.i=r.j=0,o=r.S=[];for(i||(e=[i++]);s<n;)o[s]=s++;for(s=0;s<n;s++)o[s]=o[a=u&a+e[s%i]+(t=o[s])],o[a]=t;r.g=function(e){for(var t,i=0,s=r.i,a=r.j,o=r.S;e--;)t=o[s=u&s+1],i=i*n+o[u&(o[s]=o[a=u&a+t])+(o[a]=t)];return r.i=s,r.j=a,i}}(v),b=function(){for(var e=_.g(s),t=o,i=0;e<l;)e=(e+i)*n,t*=n,i=_.g(1);for(;e>=h;)e/=2,t/=2,i>>>=1;return(e+i)/t};return b.int32=function(){return 0|_.g(4)},b.quick=function(){return _.g(4)/4294967296},b.double=b,d(p(_.S),e),(m.pass||g||function(e,i,r,n){return n&&(n.S&&c(n,_),e.state=function(){return c(_,{})}),r?(t[a]=e,i):e})(b,y,"global"in m?m.global:this==t,m.state)},d(t.random(),e)}([],BMMath);var BezierFactory=function(){var e={getBezierEasing:function(e,i,r,n,s){var a=s||("bez_"+e+"_"+i+"_"+r+"_"+n).replace(/\./g,"p");if(t[a])return t[a];var o=new p([e,i,r,n]);return t[a]=o,o}},t={};var i=4,r=1e-7,n=10,s=11,a=1/(s-1),o="function"==typeof Float32Array;function l(e,t){return 1-3*t+3*e}function h(e,t){return 3*t-6*e}function u(e){return 3*e}function c(e,t,i){return((l(t,i)*e+h(t,i))*e+u(t))*e}function d(e,t,i){return 3*l(t,i)*e*e+2*h(t,i)*e+u(t)}function p(e){this._p=e,this._mSampleValues=o?new Float32Array(s):new Array(s),this._precomputed=!1,this.get=this.get.bind(this)}return p.prototype={get:function(e){var t=this._p[0],i=this._p[1],r=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),t===i&&r===n?e:0===e?0:1===e?1:c(this._getTForX(e),i,n)},_precompute:function(){var e=this._p[0],t=this._p[1],i=this._p[2],r=this._p[3];this._precomputed=!0,e===t&&i===r||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],i=0;i<s;++i)this._mSampleValues[i]=c(i*a,e,t)},_getTForX:function(e){for(var t=this._p[0],o=this._p[2],l=this._mSampleValues,h=0,u=1,p=s-1;u!==p&&l[u]<=e;++u)h+=a;var f=h+(e-l[--u])/(l[u+1]-l[u])*a,m=d(f,t,o);return m>=.001?function(e,t,r,n){for(var s=0;s<i;++s){var a=d(t,r,n);if(0===a)return t;t-=(c(t,r,n)-e)/a}return t}(e,f,t,o):0===m?f:function(e,t,i,s,a){var o,l,h=0;do{(o=c(l=t+(i-t)/2,s,a)-e)>0?i=l:t=l}while(Math.abs(o)>r&&++h<n);return l}(e,h,h+a,t,o)}},e}();function extendPrototype(e,t){var i,r,n=e.length;for(i=0;i<n;i+=1)for(var s in r=e[i].prototype)Object.prototype.hasOwnProperty.call(r,s)&&(t.prototype[s]=r[s])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}function bezFunction(){var e=Math;function t(e,t,i,r,n,s){var a=e*r+t*n+i*s-n*r-s*e-i*t;return a>-.001&&a<.001}var i=function(e,t,i,r){var n,s,a,o,l,h,u=defaultCurveSegments,c=0,d=[],p=[],f=bezierLengthPool.newElement();for(a=i.length,n=0;n<u;n+=1){for(l=n/(u-1),h=0,s=0;s<a;s+=1)o=bmPow(1-l,3)*e[s]+3*bmPow(1-l,2)*l*i[s]+3*(1-l)*bmPow(l,2)*r[s]+bmPow(l,3)*t[s],d[s]=o,null!==p[s]&&(h+=bmPow(d[s]-p[s],2)),p[s]=d[s];h&&(c+=h=bmSqrt(h)),f.percents[n]=l,f.lengths[n]=c}return f.addedLength=c,f};function r(e,t){this.partialLength=e,this.point=t}var n,s=(n={},function(e,i,s,a){var o=(e[0]+"_"+e[1]+"_"+i[0]+"_"+i[1]+"_"+s[0]+"_"+s[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!n[o]){var l,h,u,c,d,p,f,m=defaultCurveSegments,g=0,v=null;2===e.length&&(e[0]!==i[0]||e[1]!==i[1])&&t(e[0],e[1],i[0],i[1],e[0]+s[0],e[1]+s[1])&&t(e[0],e[1],i[0],i[1],i[0]+a[0],i[1]+a[1])&&(m=2);var y=new function(e){this.segmentLength=0,this.points=new Array(e)}(m);for(u=s.length,l=0;l<m;l+=1){for(f=createSizedArray(u),d=l/(m-1),p=0,h=0;h<u;h+=1)c=bmPow(1-d,3)*e[h]+3*bmPow(1-d,2)*d*(e[h]+s[h])+3*(1-d)*bmPow(d,2)*(i[h]+a[h])+bmPow(d,3)*i[h],f[h]=c,null!==v&&(p+=bmPow(f[h]-v[h],2));g+=p=bmSqrt(p),y.points[l]=new r(p,f),v=f}y.segmentLength=g,n[o]=y}return n[o]});function a(e,t){var i=t.percents,r=t.lengths,n=i.length,s=bmFloor((n-1)*e),a=e*t.addedLength,o=0;if(s===n-1||0===s||a===r[s])return i[s];for(var l=r[s]>a?-1:1,h=!0;h;)if(r[s]<=a&&r[s+1]>a?(o=(a-r[s])/(r[s+1]-r[s]),h=!1):s+=l,s<0||s>=n-1){if(s===n-1)return i[s];h=!1}return i[s]+(i[s+1]-i[s])*o}var o=createTypedArray("float32",8);return{getSegmentsLength:function(e){var t,r=segmentsLengthPool.newElement(),n=e.c,s=e.v,a=e.o,o=e.i,l=e._length,h=r.lengths,u=0;for(t=0;t<l-1;t+=1)h[t]=i(s[t],s[t+1],a[t],o[t+1]),u+=h[t].addedLength;return n&&l&&(h[t]=i(s[t],s[0],a[t],o[0]),u+=h[t].addedLength),r.totalLength=u,r},getNewSegment:function(t,i,r,n,s,l,h){s<0?s=0:s>1&&(s=1);var u,c=a(s,h),d=a(l=l>1?1:l,h),p=t.length,f=1-c,m=1-d,g=f*f*f,v=c*f*f*3,y=c*c*f*3,_=c*c*c,b=f*f*m,T=c*f*m+f*c*m+f*f*d,S=c*c*m+f*c*d+c*f*d,E=c*c*d,w=f*m*m,C=c*m*m+f*d*m+f*m*d,x=c*d*m+f*d*d+c*m*d,k=c*d*d,A=m*m*m,P=d*m*m+m*d*m+m*m*d,I=d*d*m+m*d*d+d*m*d,D=d*d*d;for(u=0;u<p;u+=1)o[4*u]=e.round(1e3*(g*t[u]+v*r[u]+y*n[u]+_*i[u]))/1e3,o[4*u+1]=e.round(1e3*(b*t[u]+T*r[u]+S*n[u]+E*i[u]))/1e3,o[4*u+2]=e.round(1e3*(w*t[u]+C*r[u]+x*n[u]+k*i[u]))/1e3,o[4*u+3]=e.round(1e3*(A*t[u]+P*r[u]+I*n[u]+D*i[u]))/1e3;return o},getPointInSegment:function(t,i,r,n,s,o){var l=a(s,o),h=1-l;return[e.round(1e3*(h*h*h*t[0]+(l*h*h+h*l*h+h*h*l)*r[0]+(l*l*h+h*l*l+l*h*l)*n[0]+l*l*l*i[0]))/1e3,e.round(1e3*(h*h*h*t[1]+(l*h*h+h*l*h+h*h*l)*r[1]+(l*l*h+h*l*l+l*h*l)*n[1]+l*l*l*i[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(i,r,n,s,a,o,l,h,u){if(0===n&&0===o&&0===u)return t(i,r,s,a,l,h);var c,d=e.sqrt(e.pow(s-i,2)+e.pow(a-r,2)+e.pow(o-n,2)),p=e.sqrt(e.pow(l-i,2)+e.pow(h-r,2)+e.pow(u-n,2)),f=e.sqrt(e.pow(l-s,2)+e.pow(h-a,2)+e.pow(u-o,2));return(c=d>p?d>f?d-p-f:f-p-d:f>p?f-p-d:p-d-f)>-1e-4&&c<1e-4}}}!function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),n=setTimeout(function(){t(i+r)},r);return e=i+r,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var bez=bezFunction();function dataFunctionManager(){function e(n,s,a){var o,l,h,c,d,p,f=n.length;for(l=0;l<f;l+=1)if("ks"in(o=n[l])&&!o.completed){if(o.completed=!0,o.tt&&(n[l-1].td=o.tt),o.hasMask){var m=o.masksProperties;for(c=m.length,h=0;h<c;h+=1)if(m[h].pt.k.i)r(m[h].pt.k);else for(p=m[h].pt.k.length,d=0;d<p;d+=1)m[h].pt.k[d].s&&r(m[h].pt.k[d].s[0]),m[h].pt.k[d].e&&r(m[h].pt.k[d].e[0])}0===o.ty?(o.layers=t(o.refId,s),e(o.layers,s,a)):4===o.ty?i(o.shapes):5===o.ty&&u(o)}}function t(e,t){for(var i=0,r=t.length;i<r;){if(t[i].id===e)return t[i].layers.__used?JSON.parse(JSON.stringify(t[i].layers)):(t[i].layers.__used=!0,t[i].layers);i+=1}return null}function i(e){var t,n,s;for(t=e.length-1;t>=0;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)r(e[t].ks.k);else for(s=e[t].ks.k.length,n=0;n<s;n+=1)e[t].ks.k[n].s&&r(e[t].ks.k[n].s[0]),e[t].ks.k[n].e&&r(e[t].ks.k[n].e[0]);else"gr"===e[t].ty&&i(e[t].it)}function r(e){var t,i=e.i.length;for(t=0;t<i;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function n(e,t){var i=t?t.split("."):[100,100,100];return e[0]>i[0]||!(i[0]>e[0])&&(e[1]>i[1]||!(i[1]>e[1])&&(e[2]>i[2]||!(i[2]>e[2])&&null))}var s,a=function(){var e=[4,4,14];function t(e){var t,i,r,n=e.length;for(t=0;t<n;t+=1)5===e[t].ty&&(i=e[t],void 0,r=i.t.d,i.t.d={k:[{s:r,t:0}]})}return function(i){if(n(e,i.v)&&(t(i.layers),i.assets)){var r,s=i.assets.length;for(r=0;r<s;r+=1)i.assets[r].layers&&t(i.assets[r].layers)}}}(),o=(s=[4,7,99],function(e){if(e.chars&&!n(s,e.v)){var t,i,a,o,l,h=e.chars.length;for(t=0;t<h;t+=1)if(e.chars[t].data&&e.chars[t].data.shapes)for(a=(l=e.chars[t].data.shapes[0].it).length,i=0;i<a;i+=1)(o=l[i].ks.k).__converted||(r(l[i].ks.k),o.__converted=!0)}}),l=function(){var e=[4,1,9];function t(e){var i,r,n,s=e.length;for(i=0;i<s;i+=1)if("gr"===e[i].ty)t(e[i].it);else if("fl"===e[i].ty||"st"===e[i].ty)if(e[i].c.k&&e[i].c.k[0].i)for(n=e[i].c.k.length,r=0;r<n;r+=1)e[i].c.k[r].s&&(e[i].c.k[r].s[0]/=255,e[i].c.k[r].s[1]/=255,e[i].c.k[r].s[2]/=255,e[i].c.k[r].s[3]/=255),e[i].c.k[r].e&&(e[i].c.k[r].e[0]/=255,e[i].c.k[r].e[1]/=255,e[i].c.k[r].e[2]/=255,e[i].c.k[r].e[3]/=255);else e[i].c.k[0]/=255,e[i].c.k[1]/=255,e[i].c.k[2]/=255,e[i].c.k[3]/=255}function i(e){var i,r=e.length;for(i=0;i<r;i+=1)4===e[i].ty&&t(e[i].shapes)}return function(t){if(n(e,t.v)&&(i(t.layers),t.assets)){var r,s=t.assets.length;for(r=0;r<s;r+=1)t.assets[r].layers&&i(t.assets[r].layers)}}}(),h=function(){var e=[4,4,18];function t(e){var i,r,n;for(i=e.length-1;i>=0;i-=1)if("sh"===e[i].ty)if(e[i].ks.k.i)e[i].ks.k.c=e[i].closed;else for(n=e[i].ks.k.length,r=0;r<n;r+=1)e[i].ks.k[r].s&&(e[i].ks.k[r].s[0].c=e[i].closed),e[i].ks.k[r].e&&(e[i].ks.k[r].e[0].c=e[i].closed);else"gr"===e[i].ty&&t(e[i].it)}function i(e){var i,r,n,s,a,o,l=e.length;for(r=0;r<l;r+=1){if((i=e[r]).hasMask){var h=i.masksProperties;for(s=h.length,n=0;n<s;n+=1)if(h[n].pt.k.i)h[n].pt.k.c=h[n].cl;else for(o=h[n].pt.k.length,a=0;a<o;a+=1)h[n].pt.k[a].s&&(h[n].pt.k[a].s[0].c=h[n].cl),h[n].pt.k[a].e&&(h[n].pt.k[a].e[0].c=h[n].cl)}4===i.ty&&t(i.shapes)}}return function(t){if(n(e,t.v)&&(i(t.layers),t.assets)){var r,s=t.assets.length;for(r=0;r<s;r+=1)t.assets[r].layers&&i(t.assets[r].layers)}}}();function u(e){0!==e.t.a.length||"m"in e.t.p||(e.singleShape=!0)}var c={completeData:function(t,i){t.__complete||(l(t),a(t),o(t),h(t),e(t.layers,t.assets,i),t.__complete=!0)}};return c.checkColors=l,c.checkChars=o,c.checkShapes=h,c.completeLayers=e,c}var dataManager=dataFunctionManager();function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],i="normal",r="normal",n=t.length,s=0;s<n;s+=1)switch(t[s].toLowerCase()){case"italic":r="italic";break;case"bold":i="700";break;case"black":i="900";break;case"medium":i="500";break;case"regular":case"normal":i="400";break;case"light":case"thin":i="200"}return{style:r,weight:e.fWeight||i}}var FontManager=function(){var e=5e3,t={w:0,size:0,shapes:[]},i=[];function r(e,t){var i=createTag("span");i.setAttribute("aria-hidden",!0),i.style.fontFamily=t;var r=createTag("span");r.innerText="giItT1WQy@!-/#",i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(r),document.body.appendChild(i);var n=r.offsetWidth;return r.style.fontFamily=function(e){var t,i=e.split(","),r=i.length,n=[];for(t=0;t<r;t+=1)"sans-serif"!==i[t]&&"monospace"!==i[t]&&n.push(i[t]);return n.join(",")}(e)+", "+t,{node:r,w:n,parent:i}}function n(e,t){var i=createNS("text");i.style.fontSize="100px";var r=getFontProperties(t);return i.setAttribute("font-family",t.fFamily),i.setAttribute("font-style",r.style),i.setAttribute("font-weight",r.weight),i.textContent="1",t.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",t.fClass)):i.style.fontFamily=t.fFamily,e.appendChild(i),createTag("canvas").getContext("2d").font=t.fWeight+" "+t.fStyle+" 100px "+t.fFamily,i}i=i.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var s=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return s.getCombinedCharacterCodes=function(){return i},s.prototype={addChars:function(e){if(e){var t;this.chars||(this.chars=[]);var i,r,n=e.length,s=this.chars.length;for(t=0;t<n;t+=1){for(i=0,r=!1;i<s;)this.chars[i].style===e[t].style&&this.chars[i].fFamily===e[t].fFamily&&this.chars[i].ch===e[t].ch&&(r=!0),i+=1;r||(this.chars.push(e[t]),s+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);var i,s=e.list,a=s.length,o=a;for(i=0;i<a;i+=1){var l,h,u=!0;if(s[i].loaded=!1,s[i].monoCase=r(s[i].fFamily,"monospace"),s[i].sansCase=r(s[i].fFamily,"sans-serif"),s[i].fPath){if("p"===s[i].fOrigin||3===s[i].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+s[i].fFamily+'"], style[f-origin="3"][f-family="'+s[i].fFamily+'"]')).length>0&&(u=!1),u){var c=createTag("style");c.setAttribute("f-forigin",s[i].fOrigin),c.setAttribute("f-origin",s[i].origin),c.setAttribute("f-family",s[i].fFamily),c.type="text/css",c.innerText="@font-face {font-family: "+s[i].fFamily+"; font-style: normal; src: url('"+s[i].fPath+"');}",t.appendChild(c)}}else if("g"===s[i].fOrigin||1===s[i].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),h=0;h<l.length;h+=1)-1!==l[h].href.indexOf(s[i].fPath)&&(u=!1);if(u){var d=createTag("link");d.setAttribute("f-forigin",s[i].fOrigin),d.setAttribute("f-origin",s[i].origin),d.type="text/css",d.rel="stylesheet",d.href=s[i].fPath,document.body.appendChild(d)}}else if("t"===s[i].fOrigin||2===s[i].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),h=0;h<l.length;h+=1)s[i].fPath===l[h].src&&(u=!1);if(u){var p=createTag("link");p.setAttribute("f-forigin",s[i].fOrigin),p.setAttribute("f-origin",s[i].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",s[i].fPath),t.appendChild(p)}}}else s[i].loaded=!0,o-=1;s[i].helper=n(t,s[i]),s[i].cache={},this.fonts.push(s[i])}0===o?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(e,i,r){for(var n=0,s=this.chars.length;n<s;){if(this.chars[n].ch===e&&this.chars[n].style===i&&this.chars[n].fFamily===r)return this.chars[n];n+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",e,i,r)),t},getFontByName:function(e){for(var t=0,i=this.fonts.length;t<i;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,i){var r=this.getFontByName(t),n=e.charCodeAt(0);if(!r.cache[n+1]){var s=r.helper;if(" "===e){s.textContent="|"+e+"|";var a=s.getComputedTextLength();s.textContent="||";var o=s.getComputedTextLength();r.cache[n+1]=(a-o)/100}else s.textContent=e,r.cache[n+1]=s.getComputedTextLength()/100}return r.cache[n+1]*i},checkLoadedFonts:function(){var t,i,r,n=this.fonts.length,s=n;for(t=0;t<n;t+=1)this.fonts[t].loaded?s-=1:"n"===this.fonts[t].fOrigin||0===this.fonts[t].origin?this.fonts[t].loaded=!0:(i=this.fonts[t].monoCase.node,r=this.fonts[t].monoCase.w,i.offsetWidth!==r?(s-=1,this.fonts[t].loaded=!0):(i=this.fonts[t].sansCase.node,r=this.fonts[t].sansCase.w,i.offsetWidth!==r&&(s-=1,this.fonts[t].loaded=!0)),this.fonts[t].loaded&&(this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent),this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));0!==s&&Date.now()-this.initTime<e?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},s}(),PropertyFactory=function(){var e=initialDefaultFrame,t=Math.abs;function i(e,t){var i,n=this.offsetTime;"multidimensional"===this.propType&&(i=createTypedArray("float32",this.pv.length));for(var s,a,o,l,h,u,c,d,p=t.lastIndex,f=p,m=this.keyframes.length-1,g=!0;g;){if(s=this.keyframes[f],a=this.keyframes[f+1],f===m-1&&e>=a.t-n){s.h&&(s=a),p=0;break}if(a.t-n>e){p=f;break}f<m-1?f+=1:(p=0,g=!1)}var v,y,_,b,T,S,E,w,C,x,k=a.t-n,A=s.t-n;if(s.to){s.bezierData||(s.bezierData=bez.buildBezierData(s.s,a.s||s.e,s.to,s.ti));var P=s.bezierData;if(e>=k||e<A){var I=e>=k?P.points.length-1:0;for(l=P.points[I].point.length,o=0;o<l;o+=1)i[o]=P.points[I].point[o]}else{s.__fnct?d=s.__fnct:(d=BezierFactory.getBezierEasing(s.o.x,s.o.y,s.i.x,s.i.y,s.n).get,s.__fnct=d),h=d((e-A)/(k-A));var D,M=P.segmentLength*h,L=t.lastFrame<e&&t._lastKeyframeIndex===f?t._lastAddedLength:0;for(c=t.lastFrame<e&&t._lastKeyframeIndex===f?t._lastPoint:0,g=!0,u=P.points.length;g;){if(L+=P.points[c].partialLength,0===M||0===h||c===P.points.length-1){for(l=P.points[c].point.length,o=0;o<l;o+=1)i[o]=P.points[c].point[o];break}if(M>=L&&M<L+P.points[c+1].partialLength){for(D=(M-L)/P.points[c+1].partialLength,l=P.points[c].point.length,o=0;o<l;o+=1)i[o]=P.points[c].point[o]+(P.points[c+1].point[o]-P.points[c].point[o])*D;break}c<u-1?c+=1:g=!1}t._lastPoint=c,t._lastAddedLength=L-P.points[c].partialLength,t._lastKeyframeIndex=f}}else{var O,R,F,B,N;if(m=s.s.length,v=a.s||s.e,this.sh&&1!==s.h)if(e>=k)i[0]=v[0],i[1]=v[1],i[2]=v[2];else if(e<=A)i[0]=s.s[0],i[1]=s.s[1],i[2]=s.s[2];else{var U=r(s.s),j=r(v);y=i,_=function(e,t,i){var r,n,s,a,o,l=[],h=e[0],u=e[1],c=e[2],d=e[3],p=t[0],f=t[1],m=t[2],g=t[3];(n=h*p+u*f+c*m+d*g)<0&&(n=-n,p=-p,f=-f,m=-m,g=-g);1-n>1e-6?(r=Math.acos(n),s=Math.sin(r),a=Math.sin((1-i)*r)/s,o=Math.sin(i*r)/s):(a=1-i,o=i);return l[0]=a*h+o*p,l[1]=a*u+o*f,l[2]=a*c+o*m,l[3]=a*d+o*g,l}(U,j,(e-A)/(k-A)),b=_[0],T=_[1],S=_[2],E=_[3],w=Math.atan2(2*T*E-2*b*S,1-2*T*T-2*S*S),C=Math.asin(2*b*T+2*S*E),x=Math.atan2(2*b*E-2*T*S,1-2*b*b-2*S*S),y[0]=w/degToRads,y[1]=C/degToRads,y[2]=x/degToRads}else for(f=0;f<m;f+=1)1!==s.h&&(e>=k?h=1:e<A?h=0:(s.o.x.constructor===Array?(s.__fnct||(s.__fnct=[]),s.__fnct[f]?d=s.__fnct[f]:(O=void 0===s.o.x[f]?s.o.x[0]:s.o.x[f],R=void 0===s.o.y[f]?s.o.y[0]:s.o.y[f],F=void 0===s.i.x[f]?s.i.x[0]:s.i.x[f],B=void 0===s.i.y[f]?s.i.y[0]:s.i.y[f],d=BezierFactory.getBezierEasing(O,R,F,B).get,s.__fnct[f]=d)):s.__fnct?d=s.__fnct:(O=s.o.x,R=s.o.y,F=s.i.x,B=s.i.y,d=BezierFactory.getBezierEasing(O,R,F,B).get,s.__fnct=d),h=d((e-A)/(k-A)))),v=a.s||s.e,N=1===s.h?s.s[f]:s.s[f]+(v[f]-s.s[f])*h,"multidimensional"===this.propType?i[f]=N:i=N}return t.lastIndex=p,i}function r(e){var t=e[0]*degToRads,i=e[1]*degToRads,r=e[2]*degToRads,n=Math.cos(t/2),s=Math.cos(i/2),a=Math.cos(r/2),o=Math.sin(t/2),l=Math.sin(i/2),h=Math.sin(r/2);return[o*l*a+n*s*h,o*s*a+n*l*h,n*l*a-o*s*h,n*s*a-o*l*h]}function n(){var t=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=r&&t>=r||this._caching.lastFrame<i&&t<i))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(t,this._caching);this.pv=n}return this._caching.lastFrame=t,this.pv}function s(e){var i;if("unidimensional"===this.propType)i=e*this.mult,t(this.v-i)>1e-5&&(this.v=i,this._mdf=!0);else for(var r=0,n=this.v.length;r<n;)i=e[r]*this.mult,t(this.v[r]-i)>1e-5&&(this.v[r]=i,this._mdf=!0),r+=1}function a(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)i=this.effectsSequence[e](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function o(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}return{getProp:function(t,r,l,h,u){var c;if(r.k.length)if("number"==typeof r.k[0])c=new function(e,t,i,r){var n;this.propType="multidimensional",this.mult=i||1,this.data=t,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var l=t.k.length;for(this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l),this.vel=createTypedArray("float32",l),n=0;n<l;n+=1)this.v[n]=t.k[n]*this.mult,this.pv[n]=t.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=a,this.setVValue=s,this.addEffect=o}(t,r,h,u);else switch(l){case 0:c=new function(t,r,l,h){this.propType="unidimensional",this.keyframes=r.k,this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=r,this.mult=l||1,this.elem=t,this.container=h,this.comp=t.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=a,this.setVValue=s,this.interpolateValue=i,this.effectsSequence=[n.bind(this)],this.addEffect=o}(t,r,h,u);break;case 1:c=new function(t,r,l,h){var u;this.propType="multidimensional";var c,d,p,f,m=r.k.length;for(u=0;u<m-1;u+=1)r.k[u].to&&r.k[u].s&&r.k[u+1]&&r.k[u+1].s&&(c=r.k[u].s,d=r.k[u+1].s,p=r.k[u].to,f=r.k[u].ti,(2===c.length&&(c[0]!==d[0]||c[1]!==d[1])&&bez.pointOnLine2D(c[0],c[1],d[0],d[1],c[0]+p[0],c[1]+p[1])&&bez.pointOnLine2D(c[0],c[1],d[0],d[1],d[0]+f[0],d[1]+f[1])||3===c.length&&(c[0]!==d[0]||c[1]!==d[1]||c[2]!==d[2])&&bez.pointOnLine3D(c[0],c[1],c[2],d[0],d[1],d[2],c[0]+p[0],c[1]+p[1],c[2]+p[2])&&bez.pointOnLine3D(c[0],c[1],c[2],d[0],d[1],d[2],d[0]+f[0],d[1]+f[1],d[2]+f[2]))&&(r.k[u].to=null,r.k[u].ti=null),c[0]===d[0]&&c[1]===d[1]&&0===p[0]&&0===p[1]&&0===f[0]&&0===f[1]&&(2===c.length||c[2]===d[2]&&0===p[2]&&0===f[2])&&(r.k[u].to=null,r.k[u].ti=null));this.effectsSequence=[n.bind(this)],this.data=r,this.keyframes=r.k,this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=l||1,this.elem=t,this.container=h,this.comp=t.comp,this.getValue=a,this.setVValue=s,this.interpolateValue=i,this.frameId=-1;var g=r.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),u=0;u<g;u+=1)this.v[u]=e,this.pv[u]=e;this._caching={lastFrame:e,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=o}(t,r,h,u)}else c=new function(e,t,i,r){this.propType="unidimensional",this.mult=i||1,this.data=t,this.v=i?t.k*i:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=a,this.setVValue=s,this.addEffect=o}(t,r,h,u);return c.effectsSequence.length&&u.addDynamicProperty(c),c}}}(),TransformPropertyFactory=function(){var e=[0,0];function t(e,t,i){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var r,n=t.or.k.length;for(r=0;r<n;r+=1)t.or.k[r].to=null,t.or.k[r].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var i;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var r,n;if(i=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(r=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/i,0),n=this.p.getValueAtTime(this.p.keyframes[0].t/i,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(r=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/i,0),n=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/i,0)):(r=this.p.pv,n=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/i,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){r=[],n=[];var s=this.px,a=this.py;s._caching.lastFrame+s.offsetTime<=s.keyframes[0].t?(r[0]=s.getValueAtTime((s.keyframes[0].t+.01)/i,0),r[1]=a.getValueAtTime((a.keyframes[0].t+.01)/i,0),n[0]=s.getValueAtTime(s.keyframes[0].t/i,0),n[1]=a.getValueAtTime(a.keyframes[0].t/i,0)):s._caching.lastFrame+s.offsetTime>=s.keyframes[s.keyframes.length-1].t?(r[0]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/i,0),r[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/i,0),n[0]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/i,0),n[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/i,0)):(r=[s.pv,a.pv],n[0]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/i,s.offsetTime),n[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/i,a.offsetTime))}else r=n=e;this.v.rotate(-Math.atan2(r[1]-n[1],r[0]-n[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,i,r){return new t(e,i,r)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var i=0;i<t;)this.v[i]=pointPool.newElement(),this.o[i]=pointPool.newElement(),this.i[i]=pointPool.newElement(),i+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,i,r,n){var s;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o;break;default:s=[]}(!s[r]||s[r]&&!n)&&(s[r]=pointPool.newElement()),s[r][0]=e,s[r][1]=t},ShapePath.prototype.setTripleAt=function(e,t,i,r,n,s,a,o){this.setXYAt(e,t,"v",a,o),this.setXYAt(i,r,"o",a,o),this.setXYAt(n,s,"i",a,o)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,i=this.o,r=this.i,n=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],r[0][0],r[0][1],i[0][0],i[0][1],0,!1),n=1);var s,a=this._length-1,o=this._length;for(s=n;s<o;s+=1)e.setTripleAt(t[a][0],t[a][1],r[a][0],r[a][1],i[a][0],i[a][1],s,!1),a-=1;return e};var ShapePropertyFactory=function(){var e=-999999;function t(e,t,i){var r,n,s,a,o,l,h,u,c,d=i.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)r=p[0].s[0],s=!0,d=0;else if(e>=p[p.length-1].t-this.offsetTime)r=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],s=!0;else{for(var f,m,g=d,v=p.length-1,y=!0;y&&(f=p[g],!((m=p[g+1]).t-this.offsetTime>e));)g<v-1?g+=1:y=!1;if(d=g,!(s=1===f.h)){if(e>=m.t-this.offsetTime)u=1;else if(e<f.t-this.offsetTime)u=0;else{var _;f.__fnct?_=f.__fnct:(_=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,f.__fnct=_),u=_((e-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}n=m.s?m.s[0]:f.e[0]}r=f.s[0]}for(l=t._length,h=r.i[0].length,i.lastIndex=d,a=0;a<l;a+=1)for(o=0;o<h;o+=1)c=s?r.i[a][o]:r.i[a][o]+(n.i[a][o]-r.i[a][o])*u,t.i[a][o]=c,c=s?r.o[a][o]:r.o[a][o]+(n.o[a][o]-r.o[a][o])*u,t.o[a][o]=c,c=s?r.v[a][o]:r.v[a][o]+(n.v[a][o]-r.v[a][o])*u,t.v[a][o]=c}function i(){this.paths=this.localShapeCollection}function r(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var i,r=e._length;for(i=0;i<r;i+=1)if(e.v[i][0]!==t.v[i][0]||e.v[i][1]!==t.v[i][1]||e.o[i][0]!==t.o[i][0]||e.o[i][1]!==t.o[i][1]||e.i[i][0]!==t.i[i][0]||e.i[i][1]!==t.i[i][1])return!1;return!0})(this.v,e)||(this.v=shapePool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function n(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e,t;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var i=this.effectsSequence.length;for(t=0;t<i;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function s(e,t,r){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===r?t.pt.k:t.ks.k;this.v=shapePool.clone(n),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function o(t,r,n){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===n?r.pt.k:r.ks.k,this.k=!0,this.kf=!0;var s=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,s),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=i,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[function(){var t=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==e&&(n<i&&t<i||n>r&&t>r)||(this._caching.lastIndex=n<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}.bind(this)]}s.prototype.interpolateShape=t,s.prototype.getValue=n,s.prototype.setVValue=r,s.prototype.addEffect=a,o.prototype.getValue=n,o.prototype.interpolateShape=t,o.prototype.setVValue=r,o.prototype.addEffect=a;var l=function(){var e=roundCorner;function t(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],i=this.p.v[1],r=this.s.v[0]/2,n=this.s.v[1]/2,s=3!==this.d,a=this.v;a.v[0][0]=t,a.v[0][1]=i-n,a.v[1][0]=s?t+r:t-r,a.v[1][1]=i,a.v[2][0]=t,a.v[2][1]=i+n,a.v[3][0]=s?t-r:t+r,a.v[3][1]=i,a.i[0][0]=s?t-r*e:t+r*e,a.i[0][1]=i-n,a.i[1][0]=s?t+r:t-r,a.i[1][1]=i-n*e,a.i[2][0]=s?t+r*e:t-r*e,a.i[2][1]=i+n,a.i[3][0]=s?t-r:t+r,a.i[3][1]=i+n*e,a.o[0][0]=s?t+r*e:t-r*e,a.o[0][1]=i-n,a.o[1][0]=s?t+r:t-r,a.o[1][1]=i+n*e,a.o[2][0]=s?t-r*e:t+r*e,a.o[2][1]=i+n,a.o[3][0]=s?t-r:t+r,a.o[3][1]=i-n*e}},extendPrototype([DynamicPropertyContainer],t),t}(),h=function(){function e(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,i,r,n=2*Math.floor(this.pt.v),s=2*Math.PI/n,a=!0,o=this.or.v,l=this.ir.v,h=this.os.v,u=this.is.v,c=2*Math.PI*o/(2*n),d=2*Math.PI*l/(2*n),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<n;e+=1){t=a?o:l,i=a?h:u,r=a?c:d;var m=t*Math.cos(p),g=t*Math.sin(p),v=0===m&&0===g?0:g/Math.sqrt(m*m+g*g),y=0===m&&0===g?0:-m/Math.sqrt(m*m+g*g);m+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(m,g,m-v*r*i*f,g-y*r*i*f,m+v*r*i*f,g+y*r*i*f,e,!0),a=!a,p+=s*f}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),i=2*Math.PI/t,r=this.or.v,n=this.os.v,s=2*Math.PI*r/(4*t),a=.5*-Math.PI,o=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=r*Math.cos(a),h=r*Math.sin(a),u=0===l&&0===h?0:h/Math.sqrt(l*l+h*h),c=0===l&&0===h?0:-l/Math.sqrt(l*l+h*h);l+=+this.p.v[0],h+=+this.p.v[1],this.v.setTripleAt(l,h,l-u*s*n*o,h-c*s*n*o,l+u*s*n*o,h+c*s*n*o,e,!0),a+=i*o}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),u=function(){function e(e,t){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],i=this.s.v[0]/2,r=this.s.v[1]/2,n=bmMin(i,r,this.r.v),s=n*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+i,t-r+n,e+i,t-r+n,e+i,t-r+s,0,!0),this.v.setTripleAt(e+i,t+r-n,e+i,t+r-s,e+i,t+r-n,1,!0),0!==n?(this.v.setTripleAt(e+i-n,t+r,e+i-n,t+r,e+i-s,t+r,2,!0),this.v.setTripleAt(e-i+n,t+r,e-i+s,t+r,e-i+n,t+r,3,!0),this.v.setTripleAt(e-i,t+r-n,e-i,t+r-n,e-i,t+r-s,4,!0),this.v.setTripleAt(e-i,t-r+n,e-i,t-r+s,e-i,t-r+n,5,!0),this.v.setTripleAt(e-i+n,t-r,e-i+n,t-r,e-i+s,t-r,6,!0),this.v.setTripleAt(e+i-n,t-r,e+i-s,t-r,e+i-n,t-r,7,!0)):(this.v.setTripleAt(e-i,t+r,e-i+s,t+r,e-i,t+r,2),this.v.setTripleAt(e-i,t-r,e-i,t-r+s,e-i,t-r,3))):(this.v.setTripleAt(e+i,t-r+n,e+i,t-r+s,e+i,t-r+n,0,!0),0!==n?(this.v.setTripleAt(e+i-n,t-r,e+i-n,t-r,e+i-s,t-r,1,!0),this.v.setTripleAt(e-i+n,t-r,e-i+s,t-r,e-i+n,t-r,2,!0),this.v.setTripleAt(e-i,t-r+n,e-i,t-r+n,e-i,t-r+s,3,!0),this.v.setTripleAt(e-i,t+r-n,e-i,t+r-s,e-i,t+r-n,4,!0),this.v.setTripleAt(e-i+n,t+r,e-i+n,t+r,e-i+s,t+r,5,!0),this.v.setTripleAt(e+i-n,t+r,e+i-s,t+r,e+i-n,t+r,6,!0),this.v.setTripleAt(e+i,t+r-n,e+i,t+r-n,e+i,t+r-s,7,!0)):(this.v.setTripleAt(e-i,t-r,e-i+s,t-r,e-i,t-r,1,!0),this.v.setTripleAt(e-i,t+r,e-i,t+r-s,e-i,t+r,2,!0),this.v.setTripleAt(e+i,t+r,e+i-s,t+r,e+i,t+r,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},extendPrototype([DynamicPropertyContainer],e),e}();var c={getShapeProp:function(e,t,i){var r;return 3===i||4===i?r=(3===i?t.pt:t.ks).k.length?new o(e,t,i):new s(e,t,i):5===i?r=new u(e,t):6===i?r=new l(e,t):7===i&&(r=new h(e,t)),r.k&&e.addDynamicProperty(r),r},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return o}};return c}(),ShapeModifiers=function(){var e={},t={};return e.registerModifier=function(e,i){t[e]||(t[e]=i)},e.getModifier=function(e,i,r){return new t[e](i,r)},e}();function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(e,t,i,r){var n;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var s,a=t.length||0;for(n=0;n<a;n+=1)s=PropertyFactory.getProp(e,t[n].v,0,0,this),this.k=s.k||this.k,this.dataProps[n]={n:t[n].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(e,t,i){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var r=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,i,r,n){var s=[];t<=1?s.push({s:e,e:t}):e>=1?s.push({s:e-1,e:t-1}):(s.push({s:e,e:1}),s.push({s:0,e:t-1}));var a,o,l=[],h=s.length;for(a=0;a<h;a+=1){var u,c;if(!((o=s[a]).e*n<r||o.s*n>r+i))u=o.s*n<=r?0:(o.s*n-r)/i,c=o.e*n>=r+i?1:(o.e*n-r)/i,l.push([u,c])}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,i=e.length;for(t=0;t<i;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,i,r,n;if(this._mdf||e){var s=this.o.v%360/360;if(s<0&&(s+=1),(t=this.s.v>1?1+s:this.s.v<0?0+s:this.s.v+s)>(i=this.e.v>1?1+s:this.e.v<0?0+s:this.e.v+s)){var a=t;t=i,i=a}t=1e-4*Math.round(1e4*t),i=1e-4*Math.round(1e4*i),this.sValue=t,this.eValue=i}else t=this.sValue,i=this.eValue;var o,l,h,u,c,d=this.shapes.length,p=0;if(i===t)for(n=0;n<d;n+=1)this.shapes[n].localShapeCollection.releaseShapes(),this.shapes[n].shape._mdf=!0,this.shapes[n].shape.paths=this.shapes[n].localShapeCollection,this._mdf&&(this.shapes[n].pathsData.length=0);else if(1===i&&0===t||0===i&&1===t){if(this._mdf)for(n=0;n<d;n+=1)this.shapes[n].pathsData.length=0,this.shapes[n].shape._mdf=!0}else{var f,m,g=[];for(n=0;n<d;n+=1)if((f=this.shapes[n]).shape._mdf||this._mdf||e||2===this.m){if(l=(r=f.shape.paths)._length,c=0,!f.shape._mdf&&f.pathsData.length)c=f.totalShapeLength;else{for(h=this.releasePathsData(f.pathsData),o=0;o<l;o+=1)u=bez.getSegmentsLength(r.shapes[o]),h.push(u),c+=u.totalLength;f.totalShapeLength=c,f.pathsData=h}p+=c,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var v,y=t,_=i,b=0;for(n=d-1;n>=0;n-=1)if((f=this.shapes[n]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&d>1?(v=this.calculateShapeEdges(t,i,f.totalShapeLength,b,p),b+=f.totalShapeLength):v=[[y,_]],l=v.length,o=0;o<l;o+=1){y=v[o][0],_=v[o][1],g.length=0,_<=1?g.push({s:f.totalShapeLength*y,e:f.totalShapeLength*_}):y>=1?g.push({s:f.totalShapeLength*(y-1),e:f.totalShapeLength*(_-1)}):(g.push({s:f.totalShapeLength*y,e:f.totalShapeLength}),g.push({s:0,e:f.totalShapeLength*(_-1)}));var T=this.addShapes(f,g[0]);if(g[0].s!==g[0].e){if(g.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var S=T.pop();this.addPaths(T,m),T=this.addShapes(f,g[1],S)}else this.addPaths(T,m),T=this.addShapes(f,g[1]);this.addPaths(T,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(e,t){var i,r=e.length;for(i=0;i<r;i+=1)t.addShape(e[i])},TrimModifier.prototype.addSegment=function(e,t,i,r,n,s,a){n.setXYAt(t[0],t[1],"o",s),n.setXYAt(i[0],i[1],"i",s+1),a&&n.setXYAt(e[0],e[1],"v",s),n.setXYAt(r[0],r[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,i,r){t.setXYAt(e[1],e[5],"o",i),t.setXYAt(e[2],e[6],"i",i+1),r&&t.setXYAt(e[0],e[4],"v",i),t.setXYAt(e[3],e[7],"v",i+1)},TrimModifier.prototype.addShapes=function(e,t,i){var r,n,s,a,o,l,h,u,c=e.pathsData,d=e.shape.paths.shapes,p=e.shape.paths._length,f=0,m=[],g=!0;for(i?(o=i._length,u=i._length):(i=shapePool.newElement(),o=0,u=0),m.push(i),r=0;r<p;r+=1){for(l=c[r].lengths,i.c=d[r].c,s=d[r].c?l.length:l.length+1,n=1;n<s;n+=1)if(f+(a=l[n-1]).addedLength<t.s)f+=a.addedLength,i.c=!1;else{if(f>t.e){i.c=!1;break}t.s<=f&&t.e>=f+a.addedLength?(this.addSegment(d[r].v[n-1],d[r].o[n-1],d[r].i[n],d[r].v[n],i,o,g),g=!1):(h=bez.getNewSegment(d[r].v[n-1],d[r].v[n],d[r].o[n-1],d[r].i[n],(t.s-f)/a.addedLength,(t.e-f)/a.addedLength,l[n-1]),this.addSegmentFromArray(h,i,o,g),g=!1,i.c=!1),f+=a.addedLength,o+=1}if(d[r].c&&l.length){if(a=l[n-1],f<=t.e){var v=l[n-1].addedLength;t.s<=f&&t.e>=f+v?(this.addSegment(d[r].v[n-1],d[r].o[n-1],d[r].i[0],d[r].v[0],i,o,g),g=!1):(h=bez.getNewSegment(d[r].v[n-1],d[r].v[0],d[r].o[n-1],d[r].i[0],(t.s-f)/v,(t.e-f)/v,l[n-1]),this.addSegmentFromArray(h,i,o,g),g=!1,i.c=!1)}else i.c=!1;f+=a.addedLength,o+=1}if(i._length&&(i.setXYAt(i.v[u][0],i.v[u][1],"i",u),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),f>t.e)break;r<p-1&&(i=shapePool.newElement(),g=!0,m.push(i),o=0)}return m},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var i,r=shapePool.newElement();r.c=e.c;var n,s,a,o,l,h,u,c,d,p,f,m,g=e._length,v=0;for(i=0;i<g;i+=1)n=e.v[i],a=e.o[i],s=e.i[i],n[0]===a[0]&&n[1]===a[1]&&n[0]===s[0]&&n[1]===s[1]?0!==i&&i!==g-1||e.c?(o=0===i?e.v[g-1]:e.v[i-1],h=(l=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(l/2,t)/l:0,u=f=n[0]+(o[0]-n[0])*h,c=m=n[1]-(n[1]-o[1])*h,d=u-(u-n[0])*roundCorner,p=c-(c-n[1])*roundCorner,r.setTripleAt(u,c,d,p,f,m,v),v+=1,o=i===g-1?e.v[0]:e.v[i+1],h=(l=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(l/2,t)/l:0,u=d=n[0]+(o[0]-n[0])*h,c=p=n[1]+(o[1]-n[1])*h,f=u-(u-n[0])*roundCorner,m=c-(c-n[1])*roundCorner,r.setTripleAt(u,c,d,p,f,m,v),v+=1):(r.setTripleAt(n[0],n[1],a[0],a[1],s[0],s[1],v),v+=1):(r.setTripleAt(e.v[i][0],e.v[i][1],e.o[i][0],e.o[i][1],e.i[i][0],e.i[i][1],v),v+=1);return r},RoundCornersModifier.prototype.processShapes=function(e){var t,i,r,n,s,a,o=this.shapes.length,l=this.rd.v;if(0!==l)for(i=0;i<o;i+=1){if(a=(s=this.shapes[i]).localShapeCollection,s.shape._mdf||this._mdf||e)for(a.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,r=0;r<n;r+=1)a.addShape(this.processPath(t[r],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var i=t/100,r=[0,0],n=e._length,s=0;for(s=0;s<n;s+=1)r[0]+=e.v[s][0],r[1]+=e.v[s][1];r[0]/=n,r[1]/=n;var a,o,l,h,u,c,d=shapePool.newElement();for(d.c=e.c,s=0;s<n;s+=1)a=e.v[s][0]+(r[0]-e.v[s][0])*i,o=e.v[s][1]+(r[1]-e.v[s][1])*i,l=e.o[s][0]+(r[0]-e.o[s][0])*-i,h=e.o[s][1]+(r[1]-e.o[s][1])*-i,u=e.i[s][0]+(r[0]-e.i[s][0])*-i,c=e.i[s][1]+(r[1]-e.i[s][1])*-i,d.setTripleAt(a,o,l,h,u,c,s);return d},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,i,r,n,s,a,o=this.shapes.length,l=this.amount.v;if(0!==l)for(i=0;i<o;i+=1){if(a=(s=this.shapes[i]).localShapeCollection,s.shape._mdf||this._mdf||e)for(a.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,r=0;r<n;r+=1)a.addShape(this.processPath(t[r],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,i,r,n,s){var a=s?-1:1,o=r.s.v[0]+(1-r.s.v[0])*(1-n),l=r.s.v[1]+(1-r.s.v[1])*(1-n);e.translate(r.p.v[0]*a*n,r.p.v[1]*a*n,r.p.v[2]),t.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),t.rotate(-r.r.v*a*n),t.translate(r.a.v[0],r.a.v[1],r.a.v[2]),i.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),i.scale(s?1/o:o,s?1/l:l),i.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(e,t,i,r){for(this.elem=e,this.arr=t,this.pos=i,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[i]);i>0;)i-=1,this._elements.unshift(t[i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,i=e.length;for(t=0;t<i;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var i,r=e.length;for(i=0;i<r;i+=1)e[i]._render=t,"gr"===e[i].ty&&this.changeGroupRender(e[i].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,i,r,n,s,a=!1;if(this._mdf||e){var o,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var h={it:this.cloneElements(this._elements),ty:"gr"};h.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,h),this._groups.splice(0,0,h),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}for(s=0,r=0;r<=this._groups.length-1;r+=1){if(o=s<l,this._groups[r]._render=o,this.changeGroupRender(this._groups[r].it,o),!o){var u=this.elemsData[r].it,c=u[u.length-1];0!==c.transform.op.v?(c.transform.op._mdf=!0,c.transform.op.v=0):c.transform.op._mdf=!1}s+=1}this._currentCopies=l;var d=this.o.v,p=d%1,f=d>0?Math.floor(d):Math.ceil(d),m=this.pMatrix.props,g=this.rMatrix.props,v=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y,_,b=0;if(d>0){for(;b<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),b+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),b+=p)}else if(d<0){for(;b>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),b-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),b-=p)}for(r=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,s=this._currentCopies;s;){if(_=(i=(t=this.elemsData[r].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),0!==b){for((0!==r&&1===n||r!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),y=0;y<_;y+=1)i[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<_;y+=1)i[y]=this.matrix.props[y];b+=1,s-=1,r+=n}}else for(s=this._currentCopies,r=0,n=1;s;)i=(t=this.elemsData[r].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,s-=1,r+=n;return a},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<i;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(e,t){for(var i=0,r=this.o.length/2;i<r;){if(Math.abs(e[4*i]-e[4*t+2*i])>.01)return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,i,r,n=4*this.data.p;for(t=0;t<n;t+=1)i=t%4==0?100:255,r=Math.round(this.prop.v[t]*i),this.c[t]!==r&&(this.c[t]=r,this._cmdf=!e);if(this.o.length)for(n=this.prop.v.length,t=4*this.data.p;t<n;t+=1)i=t%2==0?100:1,r=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==r&&(this.o[t-4*this.data.p]=r,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(e,t,i,r){if(0===t)return"";var n,s=e.o,a=e.i,o=e.v,l=" M"+r.applyToPointStringified(o[0][0],o[0][1]);for(n=1;n<t;n+=1)l+=" C"+r.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+r.applyToPointStringified(a[n][0],a[n][1])+" "+r.applyToPointStringified(o[n][0],o[n][1]);return i&&t&&(l+=" C"+r.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+r.applyToPointStringified(a[0][0],a[0][1])+" "+r.applyToPointStringified(o[0][0],o[0][1]),l+="z"),l},audioControllerFactory=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,i=this.audios.length;for(t=0;t<i;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):Howl?new Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(e,t,i){var r="";if(e.e)r=e.p;else if(t){var n=e.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),r=t+n}else r=i,r+=e.u?e.u:"",r+=e.p;return r}function n(){this._imageLoaded=t.bind(this),this._footageLoaded=i.bind(this),this.testImageLoaded=function(e){var t=0,i=setInterval(function(){(e.getBBox().width||t>500)&&(this._imageLoaded(),clearInterval(i)),t+=1}.bind(this),50)}.bind(this),this.createFootageData=function(e){var t={assetData:e},i=r(e,this.assetsPath,this.path);return assetLoader.load(i,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return n.prototype={loadAssets:function(e,t){var i;this.imagesLoadedCb=t;var r=e.length;for(i=0;i<r;i+=1)e[i].layers||(e[i].t?3===e[i].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[i]))):(this.totalImages+=1,this.images.push(this._createImageData(e[i]))))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(e){for(var t=0,i=this.images.length;t<i;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null},createImgData:function(t){var i=r(t,this.assetsPath,this.path),n=createTag("img");n.crossOrigin="anonymous",n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){s.img=e,this._imageLoaded()}.bind(this),!1),n.src=i;var s={img:n,assetData:t};return s},createImageData:function(t){var i=r(t,this.assetsPath,this.path),n=createNS("image");isSafari?this.testImageLoaded(n):n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){s.img=e,this._imageLoaded()}.bind(this),!1),n.setAttributeNS("http://www.w3.org/1999/xlink","href",i),this._elementHelper.append?this._elementHelper.append(n):this._elementHelper.appendChild(n);var s={img:n,assetData:t};return s},imageLoaded:t,footageLoaded:i,setCacheType:function(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},n}(),featureSupport=(ob={maskType:!0},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(ob.maskType=!1),ob),ob,filtersFactory=function(){var e={};return e.createFilter=function(e,t){var i=createNS("filter");i.setAttribute("id",e),!0!==t&&(i.setAttribute("filterUnits","objectBoundingBox"),i.setAttribute("x","0%"),i.setAttribute("y","0%"),i.setAttribute("width","100%"),i.setAttribute("height","100%"));return i},e.createAlphaToLuminanceFilter=function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e},e}(),assetLoader=function(){function e(e){return e.response&&"object"==typeof e.response?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,i,r){var n,s=new XMLHttpRequest;try{s.responseType="json"}catch(e){}s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)n=e(s),i(n);else try{n=e(s),i(n)}catch(e){r&&r(e)}},s.open("GET",t,!0),s.send()}}}();function TextAnimatorProperty(e,t,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}function TextAnimatorDataProperty(e,t,i){var r={propType:!1},n=PropertyFactory.getProp,s=t.a;this.a={r:s.r?n(e,s.r,0,degToRads,i):r,rx:s.rx?n(e,s.rx,0,degToRads,i):r,ry:s.ry?n(e,s.ry,0,degToRads,i):r,sk:s.sk?n(e,s.sk,0,degToRads,i):r,sa:s.sa?n(e,s.sa,0,degToRads,i):r,s:s.s?n(e,s.s,1,.01,i):r,a:s.a?n(e,s.a,1,0,i):r,o:s.o?n(e,s.o,0,.01,i):r,p:s.p?n(e,s.p,1,0,i):r,sw:s.sw?n(e,s.sw,0,0,i):r,sc:s.sc?n(e,s.sc,1,0,i):r,fc:s.fc?n(e,s.fc,1,0,i):r,fh:s.fh?n(e,s.fh,0,0,i):r,fs:s.fs?n(e,s.fs,0,.01,i):r,fb:s.fb?n(e,s.fb,0,.01,i):r,t:s.t?n(e,s.t,0,0,i):r},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,i),this.s.t=t.s.t}function LetterProps(e,t,i,r,n,s){this.o=e,this.sw=t,this.sc=i,this.fc=r,this.m=n,this.p=s,this._mdf={o:!0,sw:!!t,sc:!!i,fc:!!r,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,i=this._textData.a.length,r=PropertyFactory.getProp;for(e=0;e<i;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var i,r,n,s,a,o,l,h,u,c,d,p,f,m,g,v,y,_,b,T=this._moreOptions.alignment.v,S=this._animatorsData,E=this._textData,w=this.mHelper,C=this._renderType,x=this.renderedLetters.length,k=e.l;if(this._hasMaskedPath){if(b=this._pathData.m,!this._pathData.n||this._pathData._mdf){var A,P=b.v;for(this._pathData.r&&(P=P.reverse()),a={tLength:0,segments:[]},s=P._length-1,v=0,n=0;n<s;n+=1)A=bez.buildBezierData(P.v[n],P.v[n+1],[P.o[n][0]-P.v[n][0],P.o[n][1]-P.v[n][1]],[P.i[n+1][0]-P.v[n+1][0],P.i[n+1][1]-P.v[n+1][1]]),a.tLength+=A.segmentLength,a.segments.push(A),v+=A.segmentLength;n=s,b.v.c&&(A=bez.buildBezierData(P.v[n],P.v[0],[P.o[n][0]-P.v[n][0],P.o[n][1]-P.v[n][1]],[P.i[0][0]-P.v[0][0],P.i[0][1]-P.v[0][1]]),a.tLength+=A.segmentLength,a.segments.push(A),v+=A.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,o=this._pathData.f.v,d=0,c=1,h=0,u=!0,m=a.segments,o<0&&b.v.c)for(a.tLength<Math.abs(o)&&(o=-Math.abs(o)%a.tLength),c=(f=m[d=m.length-1].points).length-1;o<0;)o+=f[c].partialLength,(c-=1)<0&&(c=(f=m[d-=1].points).length-1);p=(f=m[d].points)[c-1],g=(l=f[c]).partialLength}s=k.length,i=0,r=0;var I,D,M,L,O,R=1.2*e.finalSize*.714,F=!0;M=S.length;var B,N,U,j,V,z,G,H,$,q,W,X,Y=-1,K=o,Q=d,J=c,Z=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var ie=0,re=0,ne=2===e.j?-.5:-1,se=0,ae=!0;for(n=0;n<s;n+=1)if(k[n].n){for(ie&&(ie+=re);se<n;)k[se].animatorJustifyOffset=ie,se+=1;ie=0,ae=!0}else{for(D=0;D<M;D+=1)(I=S[D].a).t.propType&&(ae&&2===e.j&&(re+=I.t.v*ne),(O=S[D].s.getMult(k[n].anIndexes[D],E.a[D].s.totalChars)).length?ie+=I.t.v*O[0]*ne:ie+=I.t.v*O*ne);ae=!1}for(ie&&(ie+=re);se<n;)k[se].animatorJustifyOffset=ie,se+=1}for(n=0;n<s;n+=1){if(w.reset(),j=1,k[n].n)i=0,r+=e.yOffset,r+=F?1:0,o=K,F=!1,this._hasMaskedPath&&(c=J,p=(f=m[d=Q].points)[c-1],g=(l=f[c]).partialLength,h=0),ee="",W="",$="",X="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Z!==k[n].line){switch(e.j){case 1:o+=v-e.lineWidths[k[n].line];break;case 2:o+=(v-e.lineWidths[k[n].line])/2}Z=k[n].line}Y!==k[n].ind&&(k[Y]&&(o+=k[Y].extra),o+=k[n].an/2,Y=k[n].ind),o+=T[0]*k[n].an*.005;var oe=0;for(D=0;D<M;D+=1)(I=S[D].a).p.propType&&((O=S[D].s.getMult(k[n].anIndexes[D],E.a[D].s.totalChars)).length?oe+=I.p.v[0]*O[0]:oe+=I.p.v[0]*O),I.a.propType&&((O=S[D].s.getMult(k[n].anIndexes[D],E.a[D].s.totalChars)).length?oe+=I.a.v[0]*O[0]:oe+=I.a.v[0]*O);for(u=!0;u;)h+g>=o+oe||!f?(y=(o+oe-h)/l.partialLength,N=p.point[0]+(l.point[0]-p.point[0])*y,U=p.point[1]+(l.point[1]-p.point[1])*y,w.translate(-T[0]*k[n].an*.005,-T[1]*R*.01),u=!1):f&&(h+=l.partialLength,(c+=1)>=f.length&&(c=0,m[d+=1]?f=m[d].points:b.v.c?(c=0,f=m[d=0].points):(h-=l.partialLength,f=null)),f&&(p=l,g=(l=f[c]).partialLength));B=k[n].an/2-k[n].add,w.translate(-B,0,0)}else B=k[n].an/2-k[n].add,w.translate(-B,0,0),w.translate(-T[0]*k[n].an*.005,-T[1]*R*.01,0);for(D=0;D<M;D+=1)(I=S[D].a).t.propType&&(O=S[D].s.getMult(k[n].anIndexes[D],E.a[D].s.totalChars),0===i&&0===e.j||(this._hasMaskedPath?O.length?o+=I.t.v*O[0]:o+=I.t.v*O:O.length?i+=I.t.v*O[0]:i+=I.t.v*O));for(e.strokeWidthAnim&&(z=e.sw||0),e.strokeColorAnim&&(V=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(G=[e.fc[0],e.fc[1],e.fc[2]]),D=0;D<M;D+=1)(I=S[D].a).a.propType&&((O=S[D].s.getMult(k[n].anIndexes[D],E.a[D].s.totalChars)).length?w.translate(-I.a.v[0]*O[0],-I.a.v[1]*O[1],I.a.v[2]*O[2]):w.translate(-I.a.v[0]*O,-I.a.v[1]*O,I.a.v[2]*O));for(D=0;D<M;D+=1)(I=S[D].a).s.propType&&((O=S[D].s.getMult(k[n].anIndexes[D],E.a[D].s.totalChars)).length?w.scale(1+(I.s.v[0]-1)*O[0],1+(I.s.v[1]-1)*O[1],1):w.scale(1+(I.s.v[0]-1)*O,1+(I.s.v[1]-1)*O,1));for(D=0;D<M;D+=1){if(I=S[D].a,O=S[D].s.getMult(k[n].anIndexes[D],E.a[D].s.totalChars),I.sk.propType&&(O.length?w.skewFromAxis(-I.sk.v*O[0],I.sa.v*O[1]):w.skewFromAxis(-I.sk.v*O,I.sa.v*O)),I.r.propType&&(O.length?w.rotateZ(-I.r.v*O[2]):w.rotateZ(-I.r.v*O)),I.ry.propType&&(O.length?w.rotateY(I.ry.v*O[1]):w.rotateY(I.ry.v*O)),I.rx.propType&&(O.length?w.rotateX(I.rx.v*O[0]):w.rotateX(I.rx.v*O)),I.o.propType&&(O.length?j+=(I.o.v*O[0]-j)*O[0]:j+=(I.o.v*O-j)*O),e.strokeWidthAnim&&I.sw.propType&&(O.length?z+=I.sw.v*O[0]:z+=I.sw.v*O),e.strokeColorAnim&&I.sc.propType)for(H=0;H<3;H+=1)O.length?V[H]+=(I.sc.v[H]-V[H])*O[0]:V[H]+=(I.sc.v[H]-V[H])*O;if(e.fillColorAnim&&e.fc){if(I.fc.propType)for(H=0;H<3;H+=1)O.length?G[H]+=(I.fc.v[H]-G[H])*O[0]:G[H]+=(I.fc.v[H]-G[H])*O;I.fh.propType&&(G=O.length?addHueToRGB(G,I.fh.v*O[0]):addHueToRGB(G,I.fh.v*O)),I.fs.propType&&(G=O.length?addSaturationToRGB(G,I.fs.v*O[0]):addSaturationToRGB(G,I.fs.v*O)),I.fb.propType&&(G=O.length?addBrightnessToRGB(G,I.fb.v*O[0]):addBrightnessToRGB(G,I.fb.v*O))}}for(D=0;D<M;D+=1)(I=S[D].a).p.propType&&(O=S[D].s.getMult(k[n].anIndexes[D],E.a[D].s.totalChars),this._hasMaskedPath?O.length?w.translate(0,I.p.v[1]*O[0],-I.p.v[2]*O[1]):w.translate(0,I.p.v[1]*O,-I.p.v[2]*O):O.length?w.translate(I.p.v[0]*O[0],I.p.v[1]*O[1],-I.p.v[2]*O[2]):w.translate(I.p.v[0]*O,I.p.v[1]*O,-I.p.v[2]*O));if(e.strokeWidthAnim&&($=z<0?0:z),e.strokeColorAnim&&(q="rgb("+Math.round(255*V[0])+","+Math.round(255*V[1])+","+Math.round(255*V[2])+")"),e.fillColorAnim&&e.fc&&(W="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),this._hasMaskedPath){if(w.translate(0,-e.ls),w.translate(0,T[1]*R*.01+r,0),E.p.p){_=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var le=180*Math.atan(_)/Math.PI;l.point[0]<p.point[0]&&(le+=180),w.rotate(-le*Math.PI/180)}w.translate(N,U,0),o-=T[0]*k[n].an*.005,k[n+1]&&Y!==k[n+1].ind&&(o+=k[n].an/2,o+=.001*e.tr*e.finalSize)}else{switch(w.translate(i,r,0),e.ps&&w.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:w.translate(k[n].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[k[n].line]),0,0);break;case 2:w.translate(k[n].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[k[n].line])/2,0,0)}w.translate(0,-e.ls),w.translate(B,0,0),w.translate(T[0]*k[n].an*.005,T[1]*R*.01,0),i+=k[n].l+.001*e.tr*e.finalSize}"html"===C?ee=w.toCSS():"svg"===C?ee=w.to2dCSS():te=[w.props[0],w.props[1],w.props[2],w.props[3],w.props[4],w.props[5],w.props[6],w.props[7],w.props[8],w.props[9],w.props[10],w.props[11],w.props[12],w.props[13],w.props[14],w.props[15]],X=j}x<=n?(L=new LetterProps(X,$,q,W,ee,te),this.renderedLetters.push(L),x+=1,this.lettersChangedFlag=!0):(L=this.renderedLetters[n],this.lettersChangedFlag=L.update(X,$,q,W,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(e,t,i,r,n,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,a=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,a=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,a=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,a=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,a=!0),!s.length||this.p[0]===s[0]&&this.p[1]===s[1]&&this.p[4]===s[4]&&this.p[5]===s[5]&&this.p[12]===s[12]&&this.p[13]===s[13]||(this.p=s,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,i=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var r;this.lock=!0,this._mdf=!1;var n=this.effectsSequence.length,s=e||this.data.d.k[this.keysIndex].s;for(r=0;r<n;r+=1)s=i!==this.keysIndex?this.effectsSequence[r](s,s.t):this.effectsSequence[r](this.currentData,s.t);t!==s&&this.setCurrentData(s),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,i=0,r=e.length;i<=r-1&&!(i===r-1||e[i+1].t>t);)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,i=FontManager.getCombinedCharacterCodes(),r=[],n=0,s=e.length;n<s;)t=e.charCodeAt(n),-1!==i.indexOf(t)?r[r.length-1]+=e.charAt(n):t>=55296&&t<=56319&&(t=e.charCodeAt(n+1))>=56320&&t<=57343?(r.push(e.substr(n,2)),n+=1):r.push(e.charAt(n)),n+=1;return r},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,i,r,n,s,a,o,l=this.elem.globalData.fontManager,h=this.data,u=[],c=0,d=h.m.g,p=0,f=0,m=0,g=[],v=0,y=0,_=l.getFontByName(e.f),b=0,T=getFontProperties(_);e.fWeight=T.weight,e.fStyle=T.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),i=e.finalText.length,e.finalLineHeight=e.lh;var S,E=e.tr/1e3*e.finalSize;if(e.sz)for(var w,C,x=!0,k=e.sz[0],A=e.sz[1];x;){w=0,v=0,i=(C=this.buildFinalText(e.t)).length,E=e.tr/1e3*e.finalSize;var P=-1;for(t=0;t<i;t+=1)S=C[t].charCodeAt(0),r=!1," "===C[t]?P=t:13!==S&&3!==S||(v=0,r=!0,w+=e.finalLineHeight||1.2*e.finalSize),l.chars?(o=l.getCharData(C[t],_.fStyle,_.fFamily),b=r?0:o.w*e.finalSize/100):b=l.measureText(C[t],e.f,e.finalSize),v+b>k&&" "!==C[t]?(-1===P?i+=1:t=P,w+=e.finalLineHeight||1.2*e.finalSize,C.splice(t,P===t?1:0,"\r"),P=-1,v=0):(v+=b,v+=E);w+=_.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&A<w?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=C,i=e.finalText.length,x=!1)}v=-E,b=0;var I,D=0;for(t=0;t<i;t+=1)if(r=!1,13===(S=(I=e.finalText[t]).charCodeAt(0))||3===S?(D=0,g.push(v),y=v>y?v:y,v=-2*E,n="",r=!0,m+=1):n=I,l.chars?(o=l.getCharData(I,_.fStyle,l.getFontByName(e.f).fFamily),b=r?0:o.w*e.finalSize/100):b=l.measureText(n,e.f,e.finalSize)," "===I?D+=b+E:(v+=b+E+D,D=0),u.push({l:b,an:b,add:p,n:r,anIndexes:[],val:n,line:m,animatorJustifyOffset:0}),2==d){if(p+=b,""===n||" "===n||t===i-1){for(""!==n&&" "!==n||(p-=b);f<=t;)u[f].an=p,u[f].ind=c,u[f].extra=b,f+=1;c+=1,p=0}}else if(3==d){if(p+=b,""===n||t===i-1){for(""===n&&(p-=b);f<=t;)u[f].an=p,u[f].ind=c,u[f].extra=b,f+=1;p=0,c+=1}}else u[c].ind=c,u[c].extra=0,c+=1;if(e.l=u,y=v>y?v:y,g.push(v),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=y,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=g;var M,L,O,R,F=h.a;a=F.length;var B=[];for(s=0;s<a;s+=1){for((M=F[s]).a.sc&&(e.strokeColorAnim=!0),M.a.sw&&(e.strokeWidthAnim=!0),(M.a.fc||M.a.fh||M.a.fs||M.a.fb)&&(e.fillColorAnim=!0),R=0,O=M.s.b,t=0;t<i;t+=1)(L=u[t]).anIndexes[s]=R,(1==O&&""!==L.val||2==O&&""!==L.val&&" "!==L.val||3==O&&(L.n||" "==L.val||t==i-1)||4==O&&(L.n||t==i-1))&&(1===M.s.rn&&B.push(R),R+=1);h.a[s].s.totalChars=R;var N,U=-1;if(1===M.s.rn)for(t=0;t<i;t+=1)U!=(L=u[t]).anIndexes[s]&&(U=L.anIndexes[s],N=B.splice(Math.floor(Math.random()*B.length),1)[0]),L.anIndexes[s]=N}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=_.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var i=this.copyData({},this.data.d.k[t].s);i=this.copyData(i,e),this.data.d.k[t].s=i,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,i=Math.floor;function r(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var n=0,s=0,a=1,o=1;this.ne.v>0?n=this.ne.v/100:s=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:o=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(n,s,a,o).get,h=0,u=this.finalS,c=this.finalE,d=this.data.sh;if(2===d)h=l(h=c===u?r>=c?1:0:e(0,t(.5/(c-u)+(r-u)/(c-u),1)));else if(3===d)h=l(h=c===u?r>=c?0:1:1-e(0,t(.5/(c-u)+(r-u)/(c-u),1)));else if(4===d)c===u?h=0:(h=e(0,t(.5/(c-u)+(r-u)/(c-u),1)))<.5?h*=2:h=1-2*(h-.5),h=l(h);else if(5===d){if(c===u)h=0;else{var p=c-u,f=-p/2+(r=t(e(0,r+.5-u),c-u)),m=p/2;h=Math.sqrt(1-f*f/(m*m))}h=l(h)}else 6===d?(c===u?h=0:(r=t(e(0,r+.5-u),c-u),h=(1+Math.cos(Math.PI+2*Math.PI*r/(c-u)))/2),h=l(h)):(r>=i(u)&&(h=e(0,t(r-u<0?t(c,1)-(u-r):c-r,1))),h=l(h));return h*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/t,r=this.s.v/t+i,n=this.e.v/t+i;if(r>n){var s=r;r=n,n=s}this.finalS=r,this.finalE=n}},extendPrototype([DynamicPropertyContainer],r),{getTextSelectorProp:function(e,t,i){return new r(e,t,i)}}}(),poolFactory=function(e,t,i){var r=0,n=e,s=createSizedArray(n);return{newElement:function(){return r?s[r-=1]:t()},release:function(e){r===n&&(s=pooling.double(s),n*=2),i&&i(e),s[r]=e,r+=1}}},pooling=function(){return{double:function(e){return e.concat(createSizedArray(e.length))}}}(),pointPool=function(){return poolFactory(8,function(){return createTypedArray("float32",2)})}(),shapePool=function(){var e=poolFactory(4,function(){return new ShapePath},function(e){var t,i=e._length;for(t=0;t<i;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1});return e.clone=function(t){var i,r=e.newElement(),n=void 0===t._length?t.v.length:t._length;for(r.setLength(n),r.c=t.c,i=0;i<n;i+=1)r.setTripleAt(t.v[i][0],t.v[i][1],t.o[i][0],t.o[i][1],t.i[i][0],t.i[i][1],i);return r},e}(),shapeCollectionPool=function(){var e={newShapeCollection:function(){var e;e=t?r[t-=1]:new ShapeCollection;return e},release:function(e){var n,s=e._length;for(n=0;n<s;n+=1)shapePool.release(e.shapes[n]);e._length=0,t===i&&(r=pooling.double(r),i*=2);r[t]=e,t+=1}},t=0,i=4,r=createSizedArray(i);return e}(),segmentsLengthPool=function(){return poolFactory(8,function(){return{lengths:[],totalLength:0}},function(e){var t,i=e.lengths.length;for(t=0;t<i;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0})}(),bezierLengthPool=function(){return poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}})}(),markerParser=function(){function e(e){for(var t,i=e.split("\r\n"),r={},n=0,s=0;s<i.length;s+=1)2===(t=i[s].split(":")).length&&(r[t[0]]=t[1].trim(),n+=1);if(0===n)throw new Error;return r}return function(t){for(var i=[],r=0;r<t.length;r+=1){var n=t[r],s={time:n.tm,duration:n.dr};try{s.payload=JSON.parse(t[r].cm)}catch(i){try{s.payload=e(t[r].cm)}catch(e){s.payload={name:t[r]}}}i.push(s)}return i}}();function BaseRenderer(){}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i="";if(t&&t.title){var r=createNS("title"),n=createElementID();r.setAttribute("id",n),r.textContent=t.title,this.svgElement.appendChild(r),i+=n}if(t&&t.description){var s=createNS("desc"),a=createElementID();s.setAttribute("id",a),s.textContent=t.description,this.svgElement.appendChild(s),i+=" "+a}i&&this.svgElement.setAttribute("aria-labelledby",i);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(e,t,i){this.data=e,this.element=t,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r,n,s=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var o,l,h,u,c,d,p=this.masksProperties,f=0,m=[],g=createElementID(),v="clipPath",y="clip-path";for(r=0;r<a;r+=1)if(("a"!==p[r].mode&&"n"!==p[r].mode||p[r].inv||100!==p[r].o.k||p[r].o.x)&&(v="mask",y="mask"),"s"!==p[r].mode&&"i"!==p[r].mode||0!==f?h=null:((h=createNS("rect")).setAttribute("fill","#ffffff"),h.setAttribute("width",this.element.comp.data.w||0),h.setAttribute("height",this.element.comp.data.h||0),m.push(h)),n=createNS("path"),"n"===p[r].mode)this.viewData[r]={op:PropertyFactory.getProp(this.element,p[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[r],3),elem:n,lastPath:""},s.appendChild(n);else{var _;if(f+=1,n.setAttribute("fill","s"===p[r].mode?"#000000":"#ffffff"),n.setAttribute("clip-rule","nonzero"),0!==p[r].x.k?(v="mask",y="mask",d=PropertyFactory.getProp(this.element,p[r].x,0,null,this.element),_=createElementID(),(u=createNS("filter")).setAttribute("id",_),(c=createNS("feMorphology")).setAttribute("operator","erode"),c.setAttribute("in","SourceGraphic"),c.setAttribute("radius","0"),u.appendChild(c),s.appendChild(u),n.setAttribute("stroke","s"===p[r].mode?"#000000":"#ffffff")):(c=null,d=null),this.storedData[r]={elem:n,x:d,expan:c,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},"i"===p[r].mode){l=m.length;var b=createNS("g");for(o=0;o<l;o+=1)b.appendChild(m[o]);var T=createNS("mask");T.setAttribute("mask-type","alpha"),T.setAttribute("id",g+"_"+f),T.appendChild(n),s.appendChild(T),b.setAttribute("mask","url("+locationHref+"#"+g+"_"+f+")"),m.length=0,m.push(b)}else m.push(n);p[r].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[r]={elem:n,lastPath:"",op:PropertyFactory.getProp(this.element,p[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[r],3),invRect:h},this.viewData[r].prop.k||this.drawPath(p[r],this.viewData[r].prop.v,this.viewData[r])}for(this.maskElement=createNS(v),a=m.length,r=0;r<a;r+=1)this.maskElement.appendChild(m[r]);f>0&&(this.maskElement.setAttribute("id",g),this.element.maskedElement.setAttribute(y,"url("+locationHref+"#"+g+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(e,t){this.elem=e,this.pos=t}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(e,t,i){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=i,this.lvl=t,this._isAnimated=!!i.k;for(var r=0,n=e.length;r<n;){if(e[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function SVGTransformData(e,t,i){this.transform={mProps:e,op:t,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=i}function SVGGradientFillStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,i)}function SVGGradientStrokeStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,i),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(e){var t,i,r=this.layers.length;for(this.completeLayers=!0,t=r-1;t>=0;t-=1)this.elements[t]||(i=this.layers[t]).ip-i.st<=e-this.layers[t].st&&i.op-i.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e);default:return this.createNull(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var i,r=e.length,n=this.layers.length;for(t=0;t<r;t+=1)for(i=0;i<n;){if(this.layers[i].id===e[t].id){this.layers[i]=e[t];break}i+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,i){for(var r=this.elements,n=this.layers,s=0,a=n.length;s<a;)n[s].ind==t&&(r[s]&&!0!==r[s]?(i.push(r[s]),r[s].setAsParent(),void 0!==n[s].parent?this.buildElementParenting(e,n[s].parent,i):e.setHierarchy(i)):(this.buildItem(s),this.addPendingElement(e))),s+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,i=e.length;for(t=0;t<i;t+=1)if(e[t].xt){var r=this.createComp(e[t]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRenderer.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRenderer.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRenderer.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},SVGRenderer.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var i=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",e.w),r.setAttribute("height",e.h),r.setAttribute("x",0),r.setAttribute("y",0);var n=createElementID();i.setAttribute("id",n),i.appendChild(r),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+n+")"),t.appendChild(i),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRenderer.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){t[e]=!0;var i=this.createItem(this.layers[e]);t[e]=i,expressionsPlugin&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,e),this.layers[e].tt&&(this.elements[e-1]&&!0!==this.elements[e-1]?i.setMatte(t[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(i)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,i=this.elements.length;t<i;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}},SVGRenderer.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var i=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=i-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<i;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(e,t){var i=e.getBaseElement();if(i){for(var r,n=0;n<t;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(i,r):this.layerElement.appendChild(i)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRenderer.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRenderer.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(e){if(1!==e[0]||0!==e[1]||0!==e[4]||1!==e[5]||0!==e[12]||0!==e[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(e);var t=this.contextData.cTr.props;this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var i=this.contextData.cTr.props;this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])}else this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRenderer.prototype.ctxOpacity=function(e){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=e<0?0:e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.save();var t,i=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var r=this.contextData.saved[this.contextData.cArrPos];for(t=0;t<16;t+=1)r[t]=i[t];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var t,i=this.contextData.saved[this.contextData.cArrPos],r=this.contextData.cTr.props;for(t=0;t<16;t+=1)r[t]=i[t];this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),i=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=i,this.globalData.currentGlobalAlpha!==i&&(this.canvasContext.globalAlpha=i,this.globalData.currentGlobalAlpha=i)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var i="0px 0px 0px";t.transformOrigin=i,t.mozTransformOrigin=i,t.webkitTransformOrigin=i,t["-webkit-transform"]=i,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var e,t,i,r;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",e*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",t*this.renderConfig.dpr)):(e=this.canvasContext.canvas.width*this.renderConfig.dpr,t=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var n=this.renderConfig.preserveAspectRatio.split(" "),s=n[1]||"meet",a=n[0]||"xMidYMid",o=a.substr(0,4),l=a.substr(4);i=e/t,(r=this.transformCanvas.w/this.transformCanvas.h)>i&&"meet"===s||r<i&&"slice"===s?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===o&&(r<i&&"meet"===s||r>i&&"slice"===s)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===o&&(r<i&&"meet"===s||r>i&&"slice"===s)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===l&&(r>i&&"meet"===s||r<i&&"slice"===s)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===l&&(r>i&&"meet"===s||r<i&&"slice"===s)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){var i;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var r=this.layers.length;for(this.completeLayers||this.checkLayers(e),i=0;i<r;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(e-this.layers[i].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){var i=this.createItem(this.layers[e],this,this.globalData);t[e]=i,i.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(e,t){var i=e.getBaseElement();if(i){var r=this.layers[t];if(r.ddd&&this.supports3d)this.addTo3dContainer(i,t);else if(this.threeDElements)this.addTo3dContainer(i,t);else{for(var n,s,a=0;a<t;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(s=this.elements[a],n=(this.layers[a].ddd?this.getThreeDContainerByPos(a):s.getBaseElement())||n),a+=1;n?r.ddd&&this.supports3d||this.layerElement.insertBefore(i,n):r.ddd&&this.supports3d||this.layerElement.appendChild(i)}}},HybridRenderer.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRenderer.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRenderer.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},HybridRenderer.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(e){for(var t=0,i=this.threeDElements.length;t<i;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(e,t){var i,r,n=createTag("div");styleDiv(n);var s=createTag("div");if(styleDiv(s),"3d"===t){(i=n.style).width=this.globalData.compSize.w+"px",i.height=this.globalData.compSize.h+"px";i.webkitTransformOrigin="50% 50%",i.mozTransformOrigin="50% 50%",i.transformOrigin="50% 50%";var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(r=s.style).transform=a,r.webkitTransform=a}n.appendChild(s);var o={container:s,perspectiveElem:n,startPos:e,endPos:e,type:t};return this.threeDElements.push(o),o},HybridRenderer.prototype.build3dContainers=function(){var e,t,i=this.layers.length,r="";for(e=0;e<i;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==r&&(r="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==r&&(r="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(i=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(e,t){for(var i=0,r=this.threeDElements.length;i<r;){if(t<=this.threeDElements[i].endPos){for(var n,s=this.threeDElements[i].startPos;s<t;)this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s].getBaseElement()),s+=1;n?this.threeDElements[i].container.insertBefore(e,n):this.threeDElements[i].container.appendChild(e);break}i+=1}},HybridRenderer.prototype.configAnimation=function(e){var t=createTag("div"),i=this.animationItem.wrapper,r=t.style;r.width=e.w+"px",r.height=e.h+"px",this.resizerElem=t,styleDiv(t),r.transformStyle="flat",r.mozTransformStyle="flat",r.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),i.appendChild(t),r.overflow="hidden";var n=createNS("svg");n.setAttribute("width","1"),n.setAttribute("height","1"),styleDiv(n),this.resizerElem.appendChild(n);var s=createNS("defs");n.appendChild(s),this.data=e,this.setupGlobalData(e,n),this.globalData.defs=s,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var e,t,i,r,n=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,a=n/s;this.globalData.compSize.w/this.globalData.compSize.h>a?(e=n/this.globalData.compSize.w,t=n/this.globalData.compSize.w,i=0,r=(s-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(e=s/this.globalData.compSize.h,t=s/this.globalData.compSize.h,i=(n-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,r=0);var o=this.resizerElem.style;o.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+i+","+r+",0,1)",o.transform=o.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,i=this.globalData.compSize.h,r=this.threeDElements.length;for(e=0;e<r;e+=1){var n=this.threeDElements[e].perspectiveElem.style;n.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(i,2))+"px",n.perspective=n.webkitPerspective}}},HybridRenderer.prototype.searchExtraCompositions=function(e){var t,i=e.length,r=createTag("div");for(t=0;t<i;t+=1)if(e[t].xt){var n=this.createComp(e[t],r,this.globalData.comp,null);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,i=this.element.finalTransform.mat,r=this.masksProperties.length;for(t=0;t<r;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var n=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[t].filterId+")")),n.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,i){var r,n,s=" M"+t.v[0][0]+","+t.v[0][1];for(n=t._length,r=1;r<n;r+=1)s+=" C"+t.o[r-1][0]+","+t.o[r-1][1]+" "+t.i[r][0]+","+t.i[r][1]+" "+t.v[r][0]+","+t.v[r][1];if(t.c&&n>1&&(s+=" C"+t.o[r-1][0]+","+t.o[r-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),i.lastPath!==s){var a="";i.elem&&(t.c&&(a=e.inv?this.solidPath+s:s),i.elem.setAttribute("d",a)),i.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var i,r=this.dynamicProperties.length;for(i=0;i<r;i+=1)(t||this._isParent&&"transform"===this.dynamicProperties[i].propType)&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,i=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<r;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),i=0;i<r;i+=1)e=this.hierarchy[i].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var i,r=!0,n=this.comp;r;)n.finalTransform?(n.data.hasMask&&t.splice(0,0,n.finalTransform),n=n.comp):r=!1;var s,a=t.length;for(i=0;i<a;i+=1)s=t[i].mat.applyToPointArray(0,0,0),e=[e[0]-s[0],e[1]-s[1],0];return e},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initTransform(e,t,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,i){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,t),this.setGradientOpacity(t,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var i=createElementID(),r=createNS(1===t.t?"linearGradient":"radialGradient");r.setAttribute("id",i),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var n,s,a,o=[];for(a=4*t.g.p,s=0;s<a;s+=4)n=createNS("stop"),r.appendChild(n),o.push(n);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+i+")"),this.gf=r,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var i,r,n,s=createNS("mask"),a=createNS("path");s.appendChild(a);var o=createElementID(),l=createElementID();s.setAttribute("id",l);var h=createNS(1===e.t?"linearGradient":"radialGradient");h.setAttribute("id",o),h.setAttribute("spreadMethod","pad"),h.setAttribute("gradientUnits","userSpaceOnUse"),n=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var u=this.stops;for(r=4*e.g.p;r<n;r+=2)(i=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),h.appendChild(i),u.push(i);a.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+o+")"),this.of=h,this.ms=s,this.ost=u,this.maskId=l,t.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function i(e,t,i){(i||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(i||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function r(i,r,n){var s,a,o,l,h,u,c,d,p,f,m,g=r.styles.length,v=r.lvl;for(u=0;u<g;u+=1){if(l=r.sh._mdf||n,r.styles[u].lvl<v){for(d=t.reset(),f=v-r.styles[u].lvl,m=r.transformers.length-1;!l&&f>0;)l=r.transformers[m].mProps._mdf||l,f-=1,m-=1;if(l)for(f=v-r.styles[u].lvl,m=r.transformers.length-1;f>0;)p=r.transformers[m].mProps.v.props,d.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),f-=1,m-=1}else d=e;if(a=(c=r.sh.paths)._length,l){for(o="",s=0;s<a;s+=1)(h=c.shapes[s])&&h._length&&(o+=buildShapeString(h,h._length,h.c,d));r.caches[u]=o}else o=r.caches[u];r.styles[u].d+=!0===i.hd?"":o,r.styles[u]._mdf=l||r.styles[u]._mdf}}function n(e,t,i){var r=t.style;(t.c._mdf||i)&&r.pElem.setAttribute("fill","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||i)&&r.pElem.setAttribute("fill-opacity",t.o.v)}function s(e,t,i){a(e,t,i),o(e,t,i)}function a(e,t,i){var r,n,s,a,o,l=t.gf,h=t.g._hasOpacity,u=t.s.v,c=t.e.v;if(t.o._mdf||i){var d="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(d,t.o.v)}if(t.s._mdf||i){var p=1===e.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,u[0]),l.setAttribute(f,u[1]),h&&!t.g._collapsable&&(t.of.setAttribute(p,u[0]),t.of.setAttribute(f,u[1]))}if(t.g._cmdf||i){r=t.cst;var m=t.g.c;for(s=r.length,n=0;n<s;n+=1)(a=r[n]).setAttribute("offset",m[4*n]+"%"),a.setAttribute("stop-color","rgb("+m[4*n+1]+","+m[4*n+2]+","+m[4*n+3]+")")}if(h&&(t.g._omdf||i)){var g=t.g.o;for(s=(r=t.g._collapsable?t.cst:t.ost).length,n=0;n<s;n+=1)a=r[n],t.g._collapsable||a.setAttribute("offset",g[2*n]+"%"),a.setAttribute("stop-opacity",g[2*n+1])}if(1===e.t)(t.e._mdf||i)&&(l.setAttribute("x2",c[0]),l.setAttribute("y2",c[1]),h&&!t.g._collapsable&&(t.of.setAttribute("x2",c[0]),t.of.setAttribute("y2",c[1])));else if((t.s._mdf||t.e._mdf||i)&&(o=Math.sqrt(Math.pow(u[0]-c[0],2)+Math.pow(u[1]-c[1],2)),l.setAttribute("r",o),h&&!t.g._collapsable&&t.of.setAttribute("r",o)),t.e._mdf||t.h._mdf||t.a._mdf||i){o||(o=Math.sqrt(Math.pow(u[0]-c[0],2)+Math.pow(u[1]-c[1],2)));var v=Math.atan2(c[1]-u[1],c[0]-u[0]),y=t.h.v;y>=1?y=.99:y<=-1&&(y=-.99);var _=o*y,b=Math.cos(v+t.a.v)*_+u[0],T=Math.sin(v+t.a.v)*_+u[1];l.setAttribute("fx",b),l.setAttribute("fy",T),h&&!t.g._collapsable&&(t.of.setAttribute("fx",b),t.of.setAttribute("fy",T))}}function o(e,t,i){var r=t.style,n=t.d;n&&(n._mdf||i)&&n.dashStr&&(r.pElem.setAttribute("stroke-dasharray",n.dashStr),r.pElem.setAttribute("stroke-dashoffset",n.dashoffset[0])),t.c&&(t.c._mdf||i)&&r.pElem.setAttribute("stroke","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||i)&&r.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||i)&&(r.pElem.setAttribute("stroke-width",t.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return n;case"gf":return a;case"gs":return s;case"st":return o;case"sh":case"el":case"rc":case"sr":return r;case"tr":return i;default:return null}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(e,t,i,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var n,s=4;"rc"===t.ty?s=5:"el"===t.ty?s=6:"sr"===t.ty&&(s=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,s,e);var a,o=i.length;for(n=0;n<o;n+=1)i[n].closed||(a={transforms:r.addTransformSequence(i[n].transforms),trNodes:[]},this.styledShapes.push(a),i[n].elements.push(a))}function BaseElement(){}function NullElement(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initFrame(),this.initTransform(e,t,i),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(e,t,i){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(e,t,i){this.initElement(e,t,i)}function AudioElement(e,t,i){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,i),this._isPlaying=!1,this._canPlay=!1;var r=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(r),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function FootageElement(e,t,i){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,i)}function SVGCompElement(e,t,i){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGTextLottieElement(e,t,i){this.textSpans=[],this.renderType="svg",this.initElement(e,t,i)}function SVGShapeElement(e,t,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,i),this.prevViewData=[]}function SVGTintFilter(e,t){this.filterManager=t;var i=createNS("feColorMatrix");if(i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),e.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),e.appendChild(i),this.matrixFilter=i,100!==t.effectElements[2].p.v||t.effectElements[2].p.k){var r,n=createNS("feMerge");e.appendChild(n),(r=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),n.appendChild(r),(r=createNS("feMergeNode")).setAttribute("in","f2"),n.appendChild(r)}}function SVGFillFilter(e,t){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.appendChild(i),this.matrixFilter=i}function SVGGaussianBlurEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var i=createNS("feGaussianBlur");e.appendChild(i),this.feGaussianBlur=i}function SVGStrokeEffect(e,t){this.initialized=!1,this.filterManager=t,this.elem=e,this.paths=[]}function SVGTritoneFilter(e,t){this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),e.appendChild(i);var r=createNS("feComponentTransfer");r.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(r),this.matrixFilter=r;var n=createNS("feFuncR");n.setAttribute("type","table"),r.appendChild(n),this.feFuncR=n;var s=createNS("feFuncG");s.setAttribute("type","table"),r.appendChild(s),this.feFuncG=s;var a=createNS("feFuncB");a.setAttribute("type","table"),r.appendChild(a),this.feFuncB=a}function SVGProLevelsFilter(e,t){this.filterManager=t;var i=this.filterManager.effectElements,r=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",r)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",r)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",r)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",r)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(r.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(r),r=createNS("feComponentTransfer")),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&(r.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(r),this.feFuncRComposed=this.createFeFunc("feFuncR",r),this.feFuncGComposed=this.createFeFunc("feFuncG",r),this.feFuncBComposed=this.createFeFunc("feFuncB",r))}function SVGDropShadowEffect(e,t){var i=t.container.globalData.renderConfig.filterSize;e.setAttribute("x",i.x),e.setAttribute("y",i.y),e.setAttribute("width",i.width),e.setAttribute("height",i.height),this.filterManager=t;var r=createNS("feGaussianBlur");r.setAttribute("in","SourceAlpha"),r.setAttribute("result","drop_shadow_1"),r.setAttribute("stdDeviation","0"),this.feGaussianBlur=r,e.appendChild(r);var n=createNS("feOffset");n.setAttribute("dx","25"),n.setAttribute("dy","0"),n.setAttribute("in","drop_shadow_1"),n.setAttribute("result","drop_shadow_2"),this.feOffset=n,e.appendChild(n);var s=createNS("feFlood");s.setAttribute("flood-color","#00ff00"),s.setAttribute("flood-opacity","1"),s.setAttribute("result","drop_shadow_3"),this.feFlood=s,e.appendChild(s);var a=createNS("feComposite");a.setAttribute("in","drop_shadow_3"),a.setAttribute("in2","drop_shadow_2"),a.setAttribute("operator","in"),a.setAttribute("result","drop_shadow_4"),e.appendChild(a);var o,l=createNS("feMerge");e.appendChild(l),o=createNS("feMergeNode"),l.appendChild(o),(o=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=o,this.feMerge=l,this.originalNodeAdded=!1,l.appendChild(o)}ShapeTransformManager.prototype={addTransformSequence:function(e){var t,i=e.length,r="_";for(t=0;t<i;t+=1)r+=e[t].transform.key+"_";var n=this.sequences[r];return n||(n={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[r]=n,this.sequenceList.push(n)),n},processSequence:function(e,t){for(var i,r=0,n=e.transforms.length,s=t;r<n&&!t;){if(e.transforms[r].transform.mProps._mdf){s=!0;break}r+=1}if(s)for(e.finalTransform.reset(),r=n-1;r>=0;r-=1)i=e.transforms[r].transform.mProps.v.props,e.finalTransform.transform(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11],i[12],i[13],i[14],i[15]);e._mdf=s},processSequences:function(e){var t,i=this.sequenceList.length;for(t=0;t<i;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,i){this.globalData=t,this.comp=i,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e,t,i,r=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var n=createNS("mask");n.setAttribute("id",this.layerId),n.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),n.appendChild(this.layerElement),r=n,this.globalData.defs.appendChild(n),featureSupport.maskType||1!=this.data.td||(n.setAttribute("mask-type","luminance"),e=createElementID(),t=filtersFactory.createFilter(e),this.globalData.defs.appendChild(t),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(i=createNS("g")).appendChild(this.layerElement),r=i,n.appendChild(i),i.setAttribute("filter","url("+locationHref+"#"+e+")"))}else if(2==this.data.td){var s=createNS("mask");s.setAttribute("id",this.layerId),s.setAttribute("mask-type","alpha");var a=createNS("g");s.appendChild(a),e=createElementID(),t=filtersFactory.createFilter(e);var o=createNS("feComponentTransfer");o.setAttribute("in","SourceGraphic"),t.appendChild(o);var l=createNS("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),o.appendChild(l),this.globalData.defs.appendChild(t);var h=createNS("rect");h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),a.setAttribute("filter","url("+locationHref+"#"+e+")"),a.appendChild(h),a.appendChild(this.layerElement),r=a,featureSupport.maskType||(s.setAttribute("mask-type","luminance"),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),a.appendChild(h),i.appendChild(this.layerElement),r=i,a.appendChild(i)),this.globalData.defs.appendChild(s)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),r=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var u=createNS("clipPath"),c=createNS("path");c.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var d=createElementID();if(u.setAttribute("id",d),u.appendChild(c),this.globalData.defs.appendChild(u),this.checkMasks()){var p=createNS("g");p.setAttribute("clip-path","url("+locationHref+"#"+d+")"),p.appendChild(this.layerElement),this.transformedElement=p,r?r.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+d+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+e+")")}},IShapeElement.prototype={addShapeToModifiers:function(e){var t,i=this.shapeModifiers.length;for(t=0;t<i;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(e){for(var t=this.processedElements,i=0,r=t.length;i<r;){if(t[i].elem===e)return t[i].pos;i+=1}return 0},addProcessedElement:function(e,t){for(var i=this.processedElements,r=i.length;r;)if(i[r-=1].elem===e)return void(i[r].pos=t);i.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}},ITextElement.prototype.initElement=function(e,t,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,i),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var i,r,n=t.length,s="";for(i=0;i<n;i+=1)r=t[i].ks.k,s+=buildShapeString(r,r.i.length,!0,e);return s},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,i,r,n){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i])/2,0,0)}t.translate(r,n,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initTransform(e,t,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var i,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this.audio.volume(e)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,i=e.length,r=[],n="";t<i;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(r.push(n),n=""):n+=e[t],t+=1;return r.push(n),r},SVGTextLottieElement.prototype.buildNewText=function(){var e,t,i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var r=this.globalData.fontManager.getFontByName(i.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var n=i.fWeight,s=i.fStyle;this.layerElement.setAttribute("font-style",s),this.layerElement.setAttribute("font-weight",n)}this.layerElement.setAttribute("aria-label",i.t);var a,o=i.l||[],l=!!this.globalData.fontManager.chars;t=o.length;var h,u=this.mHelper,c="",d=this.data.singleShape,p=0,f=0,m=!0,g=.001*i.tr*i.finalSize;if(!d||l||i.sz){var v,y,_=this.textSpans.length;for(e=0;e<t;e+=1)l&&d&&0!==e||(a=_>e?this.textSpans[e]:createNS(l?"path":"text"),_<=e&&(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[e]=a,this.layerElement.appendChild(a)),a.style.display="inherit"),u.reset(),u.scale(i.finalSize/100,i.finalSize/100),d&&(o[e].n&&(p=-g,f+=i.yOffset,f+=m?1:0,m=!1),this.applyTextPropertiesToMatrix(i,u,o[e].line,p,f),p+=o[e].l||0,p+=g),l?(h=(v=(y=this.globalData.fontManager.getCharData(i.finalText[e],r.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily))&&y.data||{}).shapes?v.shapes[0].it:[],d?c+=this.createPathShape(u,h):a.setAttribute("d",this.createPathShape(u,h))):(d&&a.setAttribute("transform","translate("+u.props[12]+","+u.props[13]+")"),a.textContent=o[e].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));d&&a&&a.setAttribute("d",c)}else{var b=this.textContainer,T="start";switch(i.j){case 1:T="end";break;case 2:T="middle";break;default:T="start"}b.setAttribute("text-anchor",T),b.setAttribute("letter-spacing",g);var S=this.buildTextContents(i.finalText);for(t=S.length,f=i.ps?i.ps[1]+i.ascent:0,e=0;e<t;e+=1)(a=this.textSpans[e]||createNS("tspan")).textContent=S[e],a.setAttribute("x",0),a.setAttribute("y",f),a.style.display="inherit",b.appendChild(a),this.textSpans[e]=a,f+=i.finalLineHeight;this.layerElement.appendChild(b)}for(;e<this.textSpans.length;)this.textSpans[e].style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var i,r,n=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(t=s.length,e=0;e<t;e+=1)s[e].n||(i=n[e],r=this.textSpans[e],i._mdf.m&&r.setAttribute("transform",i.m),i._mdf.o&&r.setAttribute("opacity",i.o),i._mdf.sw&&r.setAttribute("stroke-width",i.sw),i._mdf.sc&&r.setAttribute("stroke",i.sc),i._mdf.fc&&r.setAttribute("fill",i.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,i,r,n=this.shapes.length,s=this.stylesList.length,a=[],o=!1;for(i=0;i<s;i+=1){for(r=this.stylesList[i],o=!1,a.length=0,e=0;e<n;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(r)&&(a.push(t),o=t._isAnimated||o);a.length>1&&o&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,i=e.length;for(t=0;t<i;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var i,r=new SVGStyleData(e,t),n=r.pElem;if("st"===e.ty)i=new SVGStrokeStyleData(this,e,r);else if("fl"===e.ty)i=new SVGFillStyleData(this,e,r);else if("gf"===e.ty||"gs"===e.ty){i=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,r),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),n.setAttribute("mask","url("+locationHref+"#"+i.maskId+")"))}return"st"!==e.ty&&"gs"!==e.ty||(n.setAttribute("stroke-linecap",this.lcEnum[e.lc]||"round"),n.setAttribute("stroke-linejoin",this.ljEnum[e.lj]||"round"),n.setAttribute("fill-opacity","0"),1===e.lj&&n.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&n.setAttribute("fill-rule","evenodd"),e.ln&&n.setAttribute("id",e.ln),e.cl&&n.setAttribute("class",e.cl),e.bm&&(n.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(r),this.addToAnimatedContents(e,i),i},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var i=TransformPropertyFactory.getTransformProperty(this,e,this),r=new SVGTransformData(i,i.o,t);return this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createShapeElement=function(e,t,i){var r=4;"rc"===e.ty?r=5:"el"===e.ty?r=6:"sr"===e.ty&&(r=7);var n=new SVGShapeData(t,i,ShapePropertyFactory.getShapeProp(this,e,r,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var i=0,r=this.animatedContents.length;i<r;){if(this.animatedContents[i].element===t)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,i=e.styles,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||i.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,i,r,n,s,a){var o,l,h,u,c,d,p=[].concat(s),f=e.length-1,m=[],g=[];for(o=f;o>=0;o-=1){if((d=this.searchProcessedElement(e[o]))?t[o]=i[d-1]:e[o]._render=a,"fl"===e[o].ty||"st"===e[o].ty||"gf"===e[o].ty||"gs"===e[o].ty)d?t[o].style.closed=!1:t[o]=this.createStyleElement(e[o],n),e[o]._render&&r.appendChild(t[o].style.pElem),m.push(t[o].style);else if("gr"===e[o].ty){if(d)for(h=t[o].it.length,l=0;l<h;l+=1)t[o].prevViewData[l]=t[o].it[l];else t[o]=this.createGroupElement(e[o]);this.searchShapes(e[o].it,t[o].it,t[o].prevViewData,t[o].gr,n+1,p,a),e[o]._render&&r.appendChild(t[o].gr)}else"tr"===e[o].ty?(d||(t[o]=this.createTransformElement(e[o],r)),u=t[o].transform,p.push(u)):"sh"===e[o].ty||"rc"===e[o].ty||"el"===e[o].ty||"sr"===e[o].ty?(d||(t[o]=this.createShapeElement(e[o],p,n)),this.setElementStyles(t[o])):"tm"===e[o].ty||"rd"===e[o].ty||"ms"===e[o].ty||"pb"===e[o].ty?(d?(c=t[o]).closed=!1:((c=ShapeModifiers.getModifier(e[o].ty)).init(this,e[o]),t[o]=c,this.shapeModifiers.push(c)),g.push(c)):"rp"===e[o].ty&&(d?(c=t[o]).closed=!0:(c=ShapeModifiers.getModifier(e[o].ty),t[o]=c,c.init(this,e,o,t),this.shapeModifiers.push(c),a=!1),g.push(c));this.addProcessedElement(e[o],o+1)}for(f=m.length,o=0;o<f;o+=1)m[o].closed=!0;for(f=g.length,o=0;o<f;o+=1)g[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,i=this.animatedContents.length;for(e=0;e<i;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",i[0]-t[0]+" 0 0 0 "+t[0]+" "+(i[1]-t[1])+" 0 0 0 "+t[1]+" "+(i[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+i+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=3==i?0:t,n=2==i?0:t;this.feGaussianBlur.setAttribute("stdDeviation",r+" "+n);var s=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",s)}},SVGStrokeEffect.prototype.initialize=function(){var e,t,i,r,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,i=0):r=(i=this.filterManager.effectElements[0].p.v-1)+1,(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);i<r;i+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:i});if(3===this.filterManager.effectElements[10].p.v){var s=createNS("mask"),a=createElementID();s.setAttribute("id",a),s.setAttribute("mask-type","alpha"),s.appendChild(t),this.elem.globalData.defs.appendChild(s);var o=createNS("g");for(o.setAttribute("mask","url("+locationHref+"#"+a+")");n[0];)o.appendChild(n[0]);this.elem.layerElement.appendChild(o),this.masker=s,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var i,r,n=this.paths.length;for(t=0;t<n;t+=1)if(-1!==this.paths[t].m&&(i=this.elem.maskManager.viewData[this.paths[t].m],r=this.paths[t].p,(e||this.filterManager._mdf||i.prop._mdf)&&r.setAttribute("d",i.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||i.prop._mdf)){var s;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),o=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=r.getTotalLength();s="0 0 0 "+l*a+" ";var h,u=l*(o-a),c=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,d=Math.floor(u/c);for(h=0;h<d;h+=1)s+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";s+="0 "+10*l+" 0 0"}else s="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;r.setAttribute("stroke-dasharray",s)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,n=r[0]+" "+i[0]+" "+t[0],s=r[1]+" "+i[1]+" "+t[1],a=r[2]+" "+i[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",s),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var i=createNS(e);return i.setAttribute("type","table"),t.appendChild(i),i},SVGProLevelsFilter.prototype.getTableValue=function(e,t,i,r,n){for(var s,a,o=0,l=Math.min(e,t),h=Math.max(e,t),u=Array.call(null,{length:256}),c=0,d=n-r,p=t-e;o<=256;)a=(s=o/256)<=l?p<0?n:r:s>=h?p<0?r:n:r+d*Math.pow((s-e)/p,1/i),u[c]=a,c+=1,o+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,i=this.filterManager.effectElements;this.feFuncRComposed&&(e||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(t=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(t=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(t=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(t=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(t=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,n=i*Math.cos(r),s=i*Math.sin(r);this.feOffset.setAttribute("dx",n),this.feOffset.setAttribute("dy",s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,i){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=i,i.matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}function SVGEffects(e){var t,i,r=e.data.ef?e.data.ef.length:0,n=createElementID(),s=filtersFactory.createFilter(n,!0),a=0;for(this.filters=[],t=0;t<r;t+=1)i=null,20===e.data.ef[t].ty?(a+=1,i=new SVGTintFilter(s,e.effectsManager.effectElements[t])):21===e.data.ef[t].ty?(a+=1,i=new SVGFillFilter(s,e.effectsManager.effectElements[t])):22===e.data.ef[t].ty?i=new SVGStrokeEffect(e,e.effectsManager.effectElements[t]):23===e.data.ef[t].ty?(a+=1,i=new SVGTritoneFilter(s,e.effectsManager.effectElements[t])):24===e.data.ef[t].ty?(a+=1,i=new SVGProLevelsFilter(s,e.effectsManager.effectElements[t])):25===e.data.ef[t].ty?(a+=1,i=new SVGDropShadowEffect(s,e.effectsManager.effectElements[t])):28===e.data.ef[t].ty?i=new SVGMatte3Effect(s,e.effectsManager.effectElements[t],e):29===e.data.ef[t].ty&&(a+=1,i=new SVGGaussianBlurEffect(s,e.effectsManager.effectElements[t])),i&&this.filters.push(i);a&&(e.globalData.defs.appendChild(s),e.layerElement.setAttribute("filter","url("+locationHref+"#"+n+")")),this.filters.length&&e.addRenderableComponent(this)}function CVContextData(){var e;this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;for(this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(e,t,i){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,i)}function CVCompElement(e,t,i){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CVMaskElement(e,t){var i;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r=this.masksProperties.length,n=!1;for(i=0;i<r;i+=1)"n"!==this.masksProperties[i].mode&&(n=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);this.hasMasks=n,n&&this.element.addRenderableComponent(this)}function CVShapeElement(e,t,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,i)}function CVSolidElement(e,t,i){this.initElement(e,t,i)}function CVTextElement(e,t,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,i)}function CVEffects(){}function HBaseElement(){}function HSolidElement(e,t,i){this.initElement(e,t,i)}function HCompElement(e,t,i){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HShapeElement(e,t,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,i)}function HImageElement(e,t,i){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,i)}function HCameraElement(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,e.pe,0,0,this),e.ks.p.s?(this.px=r(this,e.ks.p.x,1,0,this),this.py=r(this,e.ks.p.y,1,0,this),this.pz=r(this,e.ks.p.z,1,0,this)):this.p=r(this,e.ks.p,1,0,this),e.ks.a&&(this.a=r(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var n,s=e.ks.or.k.length;for(n=0;n<s;n+=1)e.ks.or.k[n].to=null,e.ks.or.k[n].ti=null}this.or=r(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,e.ks.rx,0,degToRads,this),this.ry=r(this,e.ks.ry,0,degToRads,this),this.rz=r(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,i=_svgMatteSymbols.length;t<i;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var i=e.layerElement.parentNode;if(i){for(var r,n=i.children,s=0,a=n.length;s<a&&n[s]!==e.layerElement;)s+=1;s<=a-2&&(r=n[s+1]);var o=createNS("use");o.setAttribute("href","#"+t),r?i.insertBefore(o,r):i.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var i=createElementID(),r=createNS("mask");r.setAttribute("id",t.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var n=e.globalData.defs;n.appendChild(r);var s=createNS("symbol");s.setAttribute("id",i),this.replaceInParent(t,i),s.appendChild(t.layerElement),n.appendChild(s);var a=createNS("use");a.setAttribute("href","#"+i),r.appendChild(a),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,i=0,r=t.length;i<r;)t[i]&&t[i].data.ind===e&&this.setElementAsMask(this.elem,t[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(e){var t,i=this.filters.length;for(t=0;t<i;t+=1)this.filters[t].renderFrame(e)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var i=0;for(i=this._length;i<e;i+=1)this.saved[i]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=0===this.data.ty;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,i,r=e.getContext("2d"),n=this.img.width,s=this.img.height,a=n/s,o=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>o&&"xMidYMid slice"===l||a<o&&"xMidYMid slice"!==l?t=(i=s)*o:i=(t=n)/o,r.drawImage(this.img,(n-t)/2,(s-i)/2,t,i,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,i,r,n=this.element.finalTransform.mat,s=this.element.canvasContext,a=this.masksProperties.length;for(s.beginPath(),e=0;e<a;e+=1)if("n"!==this.masksProperties[e].mode){var o;this.masksProperties[e].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),r=this.viewData[e].v,t=n.applyToPointArray(r.v[0][0],r.v[0][1],0),s.moveTo(t[0],t[1]);var l=r._length;for(o=1;o<l;o+=1)i=n.applyToTriplePoints(r.o[o-1],r.i[o],r.v[o]),s.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);i=n.applyToTriplePoints(r.o[o-1],r.i[0],r.v[0]),s.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var i={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},r={};if("fl"===e.ty||"st"===e.ty?(r.c=PropertyFactory.getProp(this,e.c,1,255,this),r.c.k||(i.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(r.s=PropertyFactory.getProp(this,e.s,1,null,this),r.e=PropertyFactory.getProp(this,e.e,1,null,this),r.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,e.g,this)),r.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"===e.ty||"gs"===e.ty){if(i.lc=this.lcEnum[e.lc]||"round",i.lj=this.ljEnum[e.lj]||"round",1==e.lj&&(i.ml=e.ml),r.w=PropertyFactory.getProp(this,e.w,0,null,this),r.w.k||(i.wi=r.w.v),e.d){var n=new DashProperty(this,e.d,"canvas",this);r.d=n,r.d.k||(i.da=r.d.dashArray,i.do=r.d.dashoffset[0])}}else i.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(i),r.style=i,r},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,i=this.stylesList.length;for(t=0;t<i;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,i=e.length;for(t=0;t<i;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,i,r,n){var s,a,o,l,h,u,c=e.length-1,d=[],p=[],f=[].concat(n);for(s=c;s>=0;s-=1){if((l=this.searchProcessedElement(e[s]))?t[s]=i[l-1]:e[s]._shouldRender=r,"fl"===e[s].ty||"st"===e[s].ty||"gf"===e[s].ty||"gs"===e[s].ty)l?t[s].style.closed=!1:t[s]=this.createStyleElement(e[s],f),d.push(t[s].style);else if("gr"===e[s].ty){if(l)for(o=t[s].it.length,a=0;a<o;a+=1)t[s].prevViewData[a]=t[s].it[a];else t[s]=this.createGroupElement(e[s]);this.searchShapes(e[s].it,t[s].it,t[s].prevViewData,r,f)}else"tr"===e[s].ty?(l||(u=this.createTransformElement(e[s]),t[s]=u),f.push(t[s]),this.addTransformToStyleList(t[s])):"sh"===e[s].ty||"rc"===e[s].ty||"el"===e[s].ty||"sr"===e[s].ty?l||(t[s]=this.createShapeElement(e[s])):"tm"===e[s].ty||"rd"===e[s].ty||"pb"===e[s].ty?(l?(h=t[s]).closed=!1:((h=ShapeModifiers.getModifier(e[s].ty)).init(this,e[s]),t[s]=h,this.shapeModifiers.push(h)),p.push(h)):"rp"===e[s].ty&&(l?(h=t[s]).closed=!0:(h=ShapeModifiers.getModifier(e[s].ty),t[s]=h,h.init(this,e,s,t),this.shapeModifiers.push(h),r=!1),p.push(h));this.addProcessedElement(e[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),c=p.length,s=0;s<c;s+=1)p[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,i,r,n,s,a,o,l,h=this.stylesList.length,u=this.globalData.renderer,c=this.globalData.canvasContext;for(e=0;e<h;e+=1)if(("st"!==(o=(l=this.stylesList[e]).type)&&"gs"!==o||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(u.save(),s=l.elements,"st"===o||"gs"===o?(c.strokeStyle="st"===o?l.co:l.grd,c.lineWidth=l.wi,c.lineCap=l.lc,c.lineJoin=l.lj,c.miterLimit=l.ml||0):c.fillStyle="fl"===o?l.co:l.grd,u.ctxOpacity(l.coOp),"st"!==o&&"gs"!==o&&c.beginPath(),u.ctxTransform(l.preTransforms.finalTransform.props),i=s.length,t=0;t<i;t+=1){for("st"!==o&&"gs"!==o||(c.beginPath(),l.da&&(c.setLineDash(l.da),c.lineDashOffset=l.do)),n=(a=s[t].trNodes).length,r=0;r<n;r+=1)"m"===a[r].t?c.moveTo(a[r].p[0],a[r].p[1]):"c"===a[r].t?c.bezierCurveTo(a[r].pts[0],a[r].pts[1],a[r].pts[2],a[r].pts[3],a[r].pts[4],a[r].pts[5]):c.closePath();"st"!==o&&"gs"!==o||(c.stroke(),l.da&&c.setLineDash(this.dashResetter))}"st"!==o&&"gs"!==o&&c.fill(l.r),u.restore()}},CVShapeElement.prototype.renderShape=function(e,t,i,r){var n,s;for(s=e,n=t.length-1;n>=0;n-=1)"tr"===t[n].ty?(s=i[n].transform,this.renderShapeTransform(e,s)):"sh"===t[n].ty||"el"===t[n].ty||"rc"===t[n].ty||"sr"===t[n].ty?this.renderPath(t[n],i[n]):"fl"===t[n].ty?this.renderFill(t[n],i[n],s):"st"===t[n].ty?this.renderStroke(t[n],i[n],s):"gf"===t[n].ty||"gs"===t[n].ty?this.renderGradientFill(t[n],i[n],s):"gr"===t[n].ty?this.renderShape(s,t[n].it,i[n].it):t[n].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var i,r,n,s=e.trNodes,a=t.paths,o=a._length;s.length=0;var l=e.transforms.finalTransform;for(n=0;n<o;n+=1){var h=a.shapes[n];if(h&&h.v){for(r=h._length,i=1;i<r;i+=1)1===i&&s.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),s.push({t:"c",pts:l.applyToTriplePoints(h.o[i-1],h.i[i],h.v[i])});1===r&&s.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),h.c&&r&&(s.push({t:"c",pts:l.applyToTriplePoints(h.o[i-1],h.i[0],h.v[0])}),s.push({t:"z"}))}}e.trNodes=s}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var i,r=t.styledShapes.length;for(i=0;i<r;i+=1)this.renderStyledShape(t.styledShapes[i],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,i){var r=t.style;(t.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||i._opMdf||this._isFirstFrame)&&(r.coOp=t.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,i){var r,n=t.style;if(!n.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var s,a=this.globalData.canvasContext,o=t.s.v,l=t.e.v;if(1===e.t)r=a.createLinearGradient(o[0],o[1],l[0],l[1]);else{var h=Math.sqrt(Math.pow(o[0]-l[0],2)+Math.pow(o[1]-l[1],2)),u=Math.atan2(l[1]-o[1],l[0]-o[0]),c=t.h.v;c>=1?c=.99:c<=-1&&(c=-.99);var d=h*c,p=Math.cos(u+t.a.v)*d+o[0],f=Math.sin(u+t.a.v)*d+o[1];r=a.createRadialGradient(p,f,0,o[0],o[1],h)}var m=e.g.p,g=t.g.c,v=1;for(s=0;s<m;s+=1)t.g._hasOpacity&&t.g._collapsable&&(v=t.g.o[2*s+1]),r.addColorStop(g[4*s]/100,"rgba("+g[4*s+1]+","+g[4*s+2]+","+g[4*s+3]+","+v+")");n.grd=r}n.coOp=t.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(e,t,i){var r=t.style,n=t.d;n&&(n._mdf||this._isFirstFrame)&&(r.da=n.dashArray,r.do=n.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||i._opMdf||this._isFirstFrame)&&(r.coOp=t.o.v*i.opacity),(t.w._mdf||this._isFirstFrame)&&(r.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var i=!1;e.sc&&(i=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var r,n,s,a,o,l,h,u,c,d,p,f,m=this.globalData.fontManager.getFontByName(e.f),g=e.l,v=this.mHelper;this.stroke=i,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,n=e.finalText.length;var y=this.data.singleShape,_=.001*e.tr*e.finalSize,b=0,T=0,S=!0,E=0;for(r=0;r<n;r+=1){for(a=(s=this.globalData.fontManager.getCharData(e.finalText[r],m.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&s.data||{},v.reset(),y&&g[r].n&&(b=-_,T+=e.yOffset,T+=S?1:0,S=!1),c=(h=a.shapes?a.shapes[0].it:[]).length,v.scale(e.finalSize/100,e.finalSize/100),y&&this.applyTextPropertiesToMatrix(e,v,g[r].line,b,T),p=createSizedArray(c),u=0;u<c;u+=1){for(l=h[u].ks.k.i.length,d=h[u].ks.k,f=[],o=1;o<l;o+=1)1===o&&f.push(v.applyToX(d.v[0][0],d.v[0][1],0),v.applyToY(d.v[0][0],d.v[0][1],0)),f.push(v.applyToX(d.o[o-1][0],d.o[o-1][1],0),v.applyToY(d.o[o-1][0],d.o[o-1][1],0),v.applyToX(d.i[o][0],d.i[o][1],0),v.applyToY(d.i[o][0],d.i[o][1],0),v.applyToX(d.v[o][0],d.v[o][1],0),v.applyToY(d.v[o][0],d.v[o][1],0));f.push(v.applyToX(d.o[o-1][0],d.o[o-1][1],0),v.applyToY(d.o[o-1][0],d.o[o-1][1],0),v.applyToX(d.i[0][0],d.i[0][1],0),v.applyToY(d.i[0][0],d.i[0][1],0),v.applyToX(d.v[0][0],d.v[0][1],0),v.applyToY(d.v[0][0],d.v[0][1],0)),p[u]=f}y&&(b+=g[r].l,b+=_),this.textSpans[E]?this.textSpans[E].elem=p:this.textSpans[E]={elem:p},E+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,i,r,n,s,a=this.canvasContext;a.font=this.values.fValue,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var o,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;t=h.length;var u,c,d=null,p=null,f=null;for(e=0;e<t;e+=1)if(!h[e].n){if((o=l[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(o.p),this.globalData.renderer.ctxOpacity(o.o)),this.fill){for(o&&o.fc?d!==o.fc&&(d=o.fc,a.fillStyle=o.fc):d!==this.values.fill&&(d=this.values.fill,a.fillStyle=this.values.fill),r=(u=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),i=0;i<r;i+=1)for(s=(c=u[i]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(c[n],c[n+1],c[n+2],c[n+3],c[n+4],c[n+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(o&&o.sw?f!==o.sw&&(f=o.sw,a.lineWidth=o.sw):f!==this.values.sWidth&&(f=this.values.sWidth,a.lineWidth=this.values.sWidth),o&&o.sc?p!==o.sc&&(p=o.sc,a.strokeStyle=o.sc):p!==this.values.stroke&&(p=this.values.stroke,a.strokeStyle=this.values.stroke),r=(u=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),i=0;i<r;i+=1)for(s=(c=u[i]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(c[n],c[n+1],c[n+2],c[n+3],c[n+4],c[n+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}o&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var i,r=0;r<t;)this.elements[r]&&this.elements[r].getBaseElement&&(i=this.elements[r].getBaseElement()),r+=1;i?this.layerElement.insertBefore(e,i):this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var i,r=e.length;for(i=0;i<r;i+=1)t=e[i].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var i,r,n,s,a,o=e.sh.v,l=e.transformers,h=o._length;if(!(h<=1)){for(i=0;i<h-1;i+=1)r=this.getTransformedPoint(l,o.v[i]),n=this.getTransformedPoint(l,o.o[i]),s=this.getTransformedPoint(l,o.i[i+1]),a=this.getTransformedPoint(l,o.v[i+1]),this.checkBounds(r,n,s,a,t);o.c&&(r=this.getTransformedPoint(l,o.v[i]),n=this.getTransformedPoint(l,o.o[i]),s=this.getTransformedPoint(l,o.i[0]),a=this.getTransformedPoint(l,o.v[0]),this.checkBounds(r,n,s,a,t))}},HShapeElement.prototype.checkBounds=function(e,t,i,r,n){this.getBoundsOfCurve(e,t,i,r);var s=this.shapeBoundingBox;n.x=bmMin(s.left,n.x),n.xMax=bmMax(s.right,n.xMax),n.y=bmMin(s.top,n.y),n.yMax=bmMax(s.bottom,n.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,i,r){for(var n,s,a,o,l,h,u,c=[[e[0],r[0]],[e[1],r[1]]],d=0;d<2;++d)s=6*e[d]-12*t[d]+6*i[d],n=-3*e[d]+9*t[d]-9*i[d]+3*r[d],a=3*t[d]-3*e[d],s|=0,a|=0,0===(n|=0)&&0===s||(0===n?(o=-a/s)>0&&o<1&&c[d].push(this.calculateF(o,e,t,i,r,d)):(l=s*s-4*a*n)>=0&&((h=(-s+bmSqrt(l))/(2*n))>0&&h<1&&c[d].push(this.calculateF(h,e,t,i,r,d)),(u=(-s-bmSqrt(l))/(2*n))>0&&u<1&&c[d].push(this.calculateF(u,e,t,i,r,d))));this.shapeBoundingBox.left=bmMin.apply(null,c[0]),this.shapeBoundingBox.top=bmMin.apply(null,c[1]),this.shapeBoundingBox.right=bmMax.apply(null,c[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,c[1])},HShapeElement.prototype.calculateF=function(e,t,i,r,n,s){return bmPow(1-e,3)*t[s]+3*bmPow(1-e,2)*e*i[s]+3*(1-e)*bmPow(e,2)*r[s]+bmPow(e,3)*n[s]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var i,r=e.length;for(i=0;i<r;i+=1)e[i]&&e[i].sh?this.calculateShapeBoundingBox(e[i],t):e[i]&&e[i].it&&this.calculateBoundingBox(e[i].it,t)},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var i=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),i=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),i=!0),i||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var r=this.shapeCont.style,n="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=n,r.webkitTransform=n}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,i=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=i,t.color=i,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var r,n,s=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{t.fontFamily=s.fFamily;var a=e.fWeight,o=e.fStyle;t.fontStyle=o,t.fontWeight=a}var l,h,u,c=e.l;n=c.length;var d,p=this.mHelper,f="",m=0;for(r=0;r<n;r+=1){if(this.globalData.fontManager.chars?(this.textPaths[m]?l=this.textPaths[m]:((l=createNS("path")).setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[m]?u=(h=this.textSpans[m]).children[0]:((h=createTag("div")).style.lineHeight=0,(u=createNS("svg")).appendChild(l),styleDiv(h)))):this.isMasked?l=this.textPaths[m]?this.textPaths[m]:createNS("text"):this.textSpans[m]?(h=this.textSpans[m],l=this.textPaths[m]):(styleDiv(h=createTag("span")),styleDiv(l=createTag("span")),h.appendChild(l)),this.globalData.fontManager.chars){var g,v=this.globalData.fontManager.getCharData(e.finalText[r],s.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(g=v?v.data:null,p.reset(),g&&g.shapes&&(d=g.shapes[0].it,p.scale(e.finalSize/100,e.finalSize/100),f=this.createPathShape(p,d),l.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(h),g&&g.shapes){document.body.appendChild(u);var y=u.getBBox();u.setAttribute("width",y.width+2),u.setAttribute("height",y.height+2),u.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2));var _=u.style,b="translate("+(y.x-1)+"px,"+(y.y-1)+"px)";_.transform=b,_.webkitTransform=b,c[r].yOffset=y.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);h.appendChild(u)}}else if(l.textContent=c[r].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(h);var T=l.style,S="translate3d(0,"+-e.finalSize/1.2+"px,0)";T.transform=S,T.webkitTransform=S}this.isMasked?this.textSpans[m]=l:this.textSpans[m]=h,this.textSpans[m].style.display="block",this.textPaths[m]=l,m+=1}for(;m<this.textSpans.length;)this.textSpans[m].style.display="none",m+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var i,r,n,s,a,o=0,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(r=h.length,i=0;i<r;i+=1)h[i].n?o+=1:(s=this.textSpans[i],a=this.textPaths[i],n=l[o],o+=1,n._mdf.m&&(this.isMasked?s.setAttribute("transform",n.m):(s.style.webkitTransform=n.m,s.style.transform=n.m)),s.style.opacity=n.o,n.sw&&n._mdf.sw&&a.setAttribute("stroke-width",n.sw),n.sc&&n._mdf.sc&&a.setAttribute("stroke",n.sc),n.fc&&n._mdf.fc&&(a.setAttribute("fill",n.fc),a.style.color=n.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var u=this.innerElem.getBBox();this.currentBBox.w!==u.width&&(this.currentBBox.w=u.width,this.svgElement.setAttribute("width",u.width)),this.currentBBox.h!==u.height&&(this.currentBBox.h=u.height,this.svgElement.setAttribute("height",u.height));if(this.currentBBox.w!==u.width+2||this.currentBBox.h!==u.height+2||this.currentBBox.x!==u.x-1||this.currentBBox.y!==u.y-1){this.currentBBox.w=u.width+2,this.currentBBox.h=u.height+2,this.currentBBox.x=u.x-1,this.currentBBox.y=u.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var c="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=c,e.webkitTransform=c}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,i,r,n=this.comp.threeDElements.length;for(e=0;e<n;e+=1)if("3d"===(t=this.comp.threeDElements[e]).type){i=t.perspectiveElem.style,r=t.container.style;var s=this.pe.v+"px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";i.perspective=s,i.webkitPerspective=s,r.transformOrigin="0px 0px 0px",r.mozTransformOrigin="0px 0px 0px",r.webkitTransformOrigin="0px 0px 0px",i.transform=a,i.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,i=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)i=this.hierarchy[e].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var r=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var n;n=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var s=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)),a=[n[0]/s,n[1]/s,n[2]/s],o=Math.sqrt(a[2]*a[2]+a[0]*a[0]),l=Math.atan2(a[1],o),h=Math.atan2(a[0],-a[2]);this.mat.rotateY(h).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){var c,d,p;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if("3d"===(c=this.comp.threeDElements[e]).type){if(u){var f=this.mat.toCSS();(p=c.container.style).transform=f,p.webkitTransform=f}this.pe._mdf&&((d=c.perspectiveElem.style).perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var e={},t=[],i=0,r=0,n=0,s=!0,a=!1;function o(e){for(var i=0,n=e.target;i<r;)t[i].animation===n&&(t.splice(i,1),i-=1,r-=1,n.isPaused||u()),i+=1}function l(e,i){if(!e)return null;for(var n=0;n<r;){if(t[n].elem===e&&null!==t[n].elem)return t[n].animation;n+=1}var s=new AnimationItem;return c(s,e),s.setData(e,i),s}function h(){n+=1,f()}function u(){n-=1}function c(e,i){e.addEventListener("destroy",o),e.addEventListener("_active",h),e.addEventListener("_idle",u),t.push({elem:i,animation:e}),r+=1}function d(e){var o,l=e-i;for(o=0;o<r;o+=1)t[o].animation.advanceTime(l);i=e,n&&!a?window.requestAnimationFrame(d):s=!0}function p(e){i=e,window.requestAnimationFrame(d)}function f(){!a&&n&&s&&(window.requestAnimationFrame(p),s=!1)}return e.registerAnimation=l,e.loadAnimation=function(e){var t=new AnimationItem;return c(t,null),t.setParams(e),t},e.setSpeed=function(e,i){var n;for(n=0;n<r;n+=1)t[n].animation.setSpeed(e,i)},e.setDirection=function(e,i){var n;for(n=0;n<r;n+=1)t[n].animation.setDirection(e,i)},e.play=function(e){var i;for(i=0;i<r;i+=1)t[i].animation.play(e)},e.pause=function(e){var i;for(i=0;i<r;i+=1)t[i].animation.pause(e)},e.stop=function(e){var i;for(i=0;i<r;i+=1)t[i].animation.stop(e)},e.togglePause=function(e){var i;for(i=0;i<r;i+=1)t[i].animation.togglePause(e)},e.searchAnimations=function(e,t,i){var r,n=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=n.length;for(r=0;r<s;r+=1)i&&n[r].setAttribute("data-bm-type",i),l(n[r],e);if(t&&0===s){i||(i="svg");var a=document.getElementsByTagName("body")[0];a.innerText="";var o=createTag("div");o.style.width="100%",o.style.height="100%",o.setAttribute("data-bm-type",i),a.appendChild(o),l(o,e)}},e.resize=function(){var e;for(e=0;e<r;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,i,n){var s;for(s=0;s<r;s+=1)t[s].animation.goToAndStop(e,i,n)},e.destroy=function(e){var i;for(i=r-1;i>=0;i-=1)t[i].animation.destroy(e)},e.freeze=function(){a=!0},e.unfreeze=function(){a=!1,f()},e.setVolume=function(e,i){var n;for(n=0;n<r;n+=1)t[n].animation.setVolume(e,i)},e.mute=function(e){var i;for(i=0;i<r;i+=1)t[i].animation.mute(e)},e.unmute=function(e){var i;for(i=0;i<r;i+=1)t[i].animation.unmute(e)},e.getRegisteredAnimations=function(){var e,i=t.length,r=[];for(e=0;e<i;e+=1)r.push(t[e].animation);return r},e}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[]};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";switch(e.animType?t=e.animType:e.renderer&&(t=e.renderer),t){case"canvas":this.renderer=new CanvasRenderer(this,e.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,e.rendererSettings);break;default:this.renderer=new HybridRenderer(this,e.rendererSettings)}this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.configAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(e.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(e,t){t&&"object"!=typeof t&&(t=JSON.parse(t));var i={wrapper:e,animationData:t},r=e.attributes;i.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",i.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:"canvas";var n=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";"false"===n?i.loop=!1:"true"===n?i.loop=!0:""!==n&&(i.loop=parseInt(n,10));var s=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;i.autoplay="false"!==s,i.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"","false"===(r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),this.setParams(i)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,i,r=this.animationData.layers,n=r.length,s=e.layers,a=s.length;for(i=0;i<a;i+=1)for(t=0;t<n;){if(r[t].id===s[i].id){r[t]=s[i];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(n=e.assets.length,t=0;t<n;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(e.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,i=0;i<this.markers.length;i+=1)if((t=this.markers[i]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,i){if(!i||this.name===i){var r=Number(e);if(isNaN(r)){var n=this.getMarkerData(e);n&&this.goToAndStop(n.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,i){if(!i||this.name===i){var r=Number(e);if(isNaN(r)){var n=this.getMarkerData(e);n&&(n.duration?this.playSegments([n.time,n.time+n.duration],!0):this.goToAndStop(n.time,!0))}else this.goToAndStop(r,t,i);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,i=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(i=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(i=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),i&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?i=e:this.currentRawFrame+this.firstFrame>t&&(i=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==i&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"==typeof e[0]){var i,r=e.length;for(i=0;i<r;i+=1)this.segments.push(e[i])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var i=e.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),t=this.assetsPath+i}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,i=this.assets.length;t<i;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var Expressions=function(){var e={};return e.initExpressions=function(e){var t=0,i=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var e,t=i.length;for(e=0;e<t;e+=1)i[e].release();i.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===i.indexOf(e)&&i.push(e)}},e}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||"boolean"===e||"string"===e||t instanceof Number}function $bm_neg(e){var t=typeof e;if("number"===t||"boolean"===t||e instanceof Number)return-e;if($bm_isInstanceOfArray(e)){var i,r=e.length,n=[];for(i=0;i<r;i+=1)n[i]=-e[i];return n}return e.propType?e.v:-e}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var i=typeof e,r=typeof t;if("string"===i||"string"===r)return e+t;if(isNumerable(i,e)&&isNumerable(r,t))return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(r,t))return(e=e.slice(0))[0]+=t,e;if(isNumerable(i,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var n=0,s=e.length,a=t.length,o=[];n<s||n<a;)("number"==typeof e[n]||e[n]instanceof Number)&&("number"==typeof t[n]||t[n]instanceof Number)?o[n]=e[n]+t[n]:o[n]=void 0===t[n]?e[n]:e[n]||t[n],n+=1;return o}return 0}var add=sum;function sub(e,t){var i=typeof e,r=typeof t;if(isNumerable(i,e)&&isNumerable(r,t))return"string"===i&&(e=parseInt(e,10)),"string"===r&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(r,t))return(e=e.slice(0))[0]-=t,e;if(isNumerable(i,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var n=0,s=e.length,a=t.length,o=[];n<s||n<a;)("number"==typeof e[n]||e[n]instanceof Number)&&("number"==typeof t[n]||t[n]instanceof Number)?o[n]=e[n]-t[n]:o[n]=void 0===t[n]?e[n]:e[n]||t[n],n+=1;return o}return 0}function mul(e,t){var i,r,n,s=typeof e,a=typeof t;if(isNumerable(s,e)&&isNumerable(a,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t)){for(n=e.length,i=createTypedArray("float32",n),r=0;r<n;r+=1)i[r]=e[r]*t;return i}if(isNumerable(s,e)&&$bm_isInstanceOfArray(t)){for(n=t.length,i=createTypedArray("float32",n),r=0;r<n;r+=1)i[r]=e*t[r];return i}return 0}function div(e,t){var i,r,n,s=typeof e,a=typeof t;if(isNumerable(s,e)&&isNumerable(a,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t)){for(n=e.length,i=createTypedArray("float32",n),r=0;r<n;r+=1)i[r]=e[r]/t;return i}if(isNumerable(s,e)&&$bm_isInstanceOfArray(t)){for(n=t.length,i=createTypedArray("float32",n),r=0;r<n;r+=1)i[r]=e/t[r];return i}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e,10)),"string"==typeof t&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,i){if(t>i){var r=i;i=t,t=r}return Math.min(Math.max(e,t),i)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);var i;t||(t=helperLengthArray);var r=Math.min(e.length,t.length),n=0;for(i=0;i<r;i+=1)n+=Math.pow(t[i]-e[i],2);return Math.sqrt(n)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,i,r=e[0],n=e[1],s=e[2],a=Math.max(r,n,s),o=Math.min(r,n,s),l=(a+o)/2;if(a===o)t=0,i=0;else{var h=a-o;switch(i=l>.5?h/(2-a-o):h/(a+o),a){case r:t=(n-s)/h+(n<s?6:0);break;case n:t=(s-r)/h+2;break;case s:t=(r-n)/h+4}t/=6}return[t,i,l,e[3]]}function hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function hslToRgb(e){var t,i,r,n=e[0],s=e[1],a=e[2];if(0===s)t=a,r=a,i=a;else{var o=a<.5?a*(1+s):a+s-a*s,l=2*a-o;t=hue2rgb(l,o,n+1/3),i=hue2rgb(l,o,n),r=hue2rgb(l,o,n-1/3)}return[t,i,r,e[3]]}function linear(e,t,i,r,n){if(void 0!==r&&void 0!==n||(r=t,n=i,t=0,i=1),i<t){var s=i;i=t,t=s}if(e<=t)return r;if(e>=i)return n;var a,o=i===t?0:(e-t)/(i-t);if(!r.length)return r+(n-r)*o;var l=r.length,h=createTypedArray("float32",l);for(a=0;a<l;a+=1)h[a]=r[a]+(n[a]-r[a])*o;return h}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var i,r=t.length;e||(e=createTypedArray("float32",r));var n=createTypedArray("float32",r),s=BMMath.random();for(i=0;i<r;i+=1)n[i]=e[i]+s*(t[i]-e[i]);return n}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,i,r){var n,s=e.length,a=shapePool.newElement();a.setPathData(!!r,s);var o,l,h=[0,0];for(n=0;n<s;n+=1)o=t&&t[n]?t[n]:h,l=i&&i[n]?i[n]:h,a.setTripleAt(e[n][0],e[n][1],l[0]+e[n][0],l[1]+e[n][1],o[0]+e[n][0],o[1]+e[n][1],n,!0);return a}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var i,r,n=this.pv.length?this.pv.length:1,s=createTypedArray("float32",n);var a=Math.floor(5*time);for(i=0,r=0;i<a;){for(r=0;r<n;r+=1)s[r]+=-t+2*t*BMMath.random();i+=1}var o=5*time,l=o-Math.floor(o),h=createTypedArray("float32",n);if(n>1){for(r=0;r<n;r+=1)h[r]=this.pv[r]+s[r]+(-t+2*t*BMMath.random())*l;return h}return this.pv+s[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var i=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],r=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads;return[-Math.atan2(i[1],i[2])/degToRads,r,0]}function easeOut(e,t,i,r,n){return applyEase(easeOutBez,e,t,i,r,n)}function easeIn(e,t,i,r,n){return applyEase(easeInBez,e,t,i,r,n)}function ease(e,t,i,r,n){return applyEase(easeInOutBez,e,t,i,r,n)}function applyEase(e,t,i,r,n,s){void 0===n?(n=i,s=r):t=(t-i)/(r-i),t>1?t=1:t<0&&(t=0);var a=e(t);if($bm_isInstanceOfArray(n)){var o,l=n.length,h=createTypedArray("float32",l);for(o=0;o<l;o+=1)h[o]=(s[o]-n[o])*a+n[o];return h}return(s-n)*a+n}function nearestKey(e){var t,i,r,n=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(i=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)i=1,r=data.k[0].t;else{for(t=0;t<n-1;t+=1){if(e===data.k[t].t){i=t+1,r=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(i=t+2,r=data.k[t+1].t):(i=t+1,r=data.k[t].t);break}}-1===i&&(i=t+1,r=data.k[t].t)}else i=0,r=0;var s={};return s.index=i,s.time=r/elem.comp.globalData.frameRate,s}function key(e){var t,i,r;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var n=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(r=n.length,i=0;i<r;i+=1)t[i]=n[i],t.value[i]=n[i];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers=function(){return{searchExpressions:function(e,t,i){t.x&&(i.k=!0,i.x=!0,i.initiateExpression=ExpressionManager.initiateExpression,i.effectsSequence.push(i.initiateExpression(e,t,i).bind(i)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),i=this.getValueAtTime(e+-.01),r=0;if(t.length){var n;for(n=0;n<t.length;n+=1)r+=Math.pow(i[n]-t[n],2);r=100*Math.sqrt(r)}else r=0;return r},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,i,r=this.getValueAtTime(e),n=this.getValueAtTime(e+-.001);if(r.length)for(t=createTypedArray("float32",r.length),i=0;i<r.length;i+=1)t[i]=(n[i]-r[i])/-.001;else t=(n-r)/-.001;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}}}();!function(){function e(e,t,i){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var r,n,s,a,o,l=this.comp.renderedFrame,h=this.keyframes,u=h[h.length-1].t;if(l<=u)return this.pv;if(i?n=u-(r=t?Math.abs(u-this.elem.comp.globalData.frameRate*t):Math.max(0,u-this.elem.data.ip)):((!t||t>h.length-1)&&(t=h.length-1),r=u-(n=h[h.length-1-t].t)),"pingpong"===e){if(Math.floor((l-n)/r)%2!=0)return this.getValueAtTime((r-(l-n)%r+n)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var c=this.getValueAtTime(n/this.comp.globalData.frameRate,0),d=this.getValueAtTime(u/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-n)%r+n)/this.comp.globalData.frameRate,0),f=Math.floor((l-n)/r);if(this.pv.length){for(a=(o=new Array(c.length)).length,s=0;s<a;s+=1)o[s]=(d[s]-c[s])*f+p[s];return o}return(d-c)*f+p}if("continue"===e){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,s=0;s<a;s+=1)o[s]=m[s]+(m[s]-g[s])*((l-u)/this.comp.globalData.frameRate)/5e-4;return o}return m+(l-u)/.001*(m-g)}}return this.getValueAtTime(((l-n)%r+n)/this.comp.globalData.frameRate,0)}function t(e,t,i){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var r,n,s,a,o,l=this.comp.renderedFrame,h=this.keyframes,u=h[0].t;if(l>=u)return this.pv;if(i?n=u+(r=t?Math.abs(this.elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-u)):((!t||t>h.length-1)&&(t=h.length-1),r=(n=h[t].t)-u),"pingpong"===e){if(Math.floor((u-l)/r)%2==0)return this.getValueAtTime(((u-l)%r+u)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var c=this.getValueAtTime(u/this.comp.globalData.frameRate,0),d=this.getValueAtTime(n/this.comp.globalData.frameRate,0),p=this.getValueAtTime((r-(u-l)%r+u)/this.comp.globalData.frameRate,0),f=Math.floor((u-l)/r)+1;if(this.pv.length){for(a=(o=new Array(c.length)).length,s=0;s<a;s+=1)o[s]=p[s]-(d[s]-c[s])*f;return o}return p-(d-c)*f}if("continue"===e){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(o=new Array(m.length)).length,s=0;s<a;s+=1)o[s]=m[s]+(m[s]-g[s])*(u-l)/.001;return o}return m+(m-g)*(u-l)/.001}}return this.getValueAtTime((r-((u-l)%r+u))/this.comp.globalData.frameRate,0)}function i(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var i,r,n=this.comp.renderedFrame/this.comp.globalData.frameRate,s=n-e,a=t>1?(n+e-s)/(t-1):1,o=0,l=0;for(i=this.pv.length?createTypedArray("float32",this.pv.length):0;o<t;){if(r=this.getValueAtTime(s+o*a),this.pv.length)for(l=0;l<this.pv.length;l+=1)i[l]+=r[l];else i+=r;o+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)i[l]/=t;else i/=t;return i}var r=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,i){var n=r(e,t,i);return n.dynamicProperties.length?n.getValueAtTime=function(e){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var t=this._transformCachingAtTime.v;if(t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var i=this.a.getValueAtTime(e);t.translate(-i[0]*this.a.mult,-i[1]*this.a.mult,i[2]*this.a.mult)}if(this.appliedTransformations<2){var r=this.s.getValueAtTime(e);t.scale(r[0]*this.s.mult,r[1]*this.s.mult,r[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var n=this.sk.getValueAtTime(e),s=this.sa.getValueAtTime(e);t.skewFromAxis(-n*this.sk.mult,s*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var a=this.r.getValueAtTime(e);t.rotate(-a*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var o=this.rz.getValueAtTime(e),l=this.ry.getValueAtTime(e),h=this.rx.getValueAtTime(e),u=this.or.getValueAtTime(e);t.rotateZ(-o*this.rz.mult).rotateY(l*this.ry.mult).rotateX(h*this.rx.mult).rotateZ(-u[2]*this.or.mult).rotateY(u[1]*this.or.mult).rotateX(u[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var c=this.px.getValueAtTime(e),d=this.py.getValueAtTime(e);if(this.data.p.z){var p=this.pz.getValueAtTime(e);t.translate(c*this.px.mult,d*this.py.mult,-p*this.pz.mult)}else t.translate(c*this.px.mult,d*this.py.mult,0)}else{var f=this.p.getValueAtTime(e);t.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return t}.bind(n):n.getValueAtTime=function(){return this.v.clone(new Matrix)}.bind(n),n.setGroupProperty=expressionHelpers.setGroupProperty,n};var n=PropertyFactory.getProp;PropertyFactory.getProp=function(r,s,a,o,l){var h=n(r,s,a,o,l);h.kf?h.getValueAtTime=expressionHelpers.getValueAtTime.bind(h):h.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(h),h.setGroupProperty=expressionHelpers.setGroupProperty,h.loopOut=e,h.loopIn=t,h.smooth=i,h.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(h),h.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(h),h.numKeys=1===s.a?s.k.length:0,h.propertyIndex=s.ix;var u=0;return 0!==a&&(u=createTypedArray("float32",1===s.a?s.k[0].s.length:s.k.length)),h._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(r,s,h),h.k&&l.addDynamicProperty(h),h};var s=ShapePropertyFactory.getConstructorFunction(),a=ShapePropertyFactory.getKeyframedConstructorFunction();function o(){}o.prototype={vertices:function(e,t){this.k&&this.getValue();var i,r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0));var n=r._length,s=r[e],a=r.v,o=createSizedArray(n);for(i=0;i<n;i+=1)o[i]="i"===e||"o"===e?[s[i][0]-a[i][0],s[i][1]-a[i][1]]:[s[i][0],s[i][1]];return o},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var i=this.v;void 0!==t&&(i=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(i));for(var r,n=this._segmentsLength,s=n.lengths,a=n.totalLength*e,o=0,l=s.length,h=0;o<l;){if(h+s[o].addedLength>a){var u=o,c=i.c&&o===l-1?0:o+1,d=(a-h)/s[o].addedLength;r=bez.getPointInSegment(i.v[u],i.v[c],i.o[u],i.i[c],d,s[o]);break}h+=s[o].addedLength,o+=1}return r||(r=i.c?[i.v[0][0],i.v[0][1]]:[i.v[i._length-1][0],i.v[i._length-1][1]]),r},vectorOnPath:function(e,t,i){1==e?e=this.v.c:0==e&&(e=.999);var r=this.pointOnPath(e,t),n=this.pointOnPath(e+.001,t),s=n[0]-r[0],a=n[1]-r[1],o=Math.sqrt(Math.pow(s,2)+Math.pow(a,2));return 0===o?[0,0]:"tangent"===i?[s/o,a/o]:[-a/o,s/o]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([o],s),extendPrototype([o],a),a.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},a.prototype.initiateExpression=ExpressionManager.initiateExpression;var l=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,i,r,n){var s=l(e,t,i,r,n);return s.propertyIndex=t.ix,s.lock=!1,3===i?expressionHelpers.searchExpressions(e,t.pt,s):4===i&&expressionHelpers.searchExpressions(e,t.ks,s),s.k&&e.addDynamicProperty(s),s}}(),function(){TextProperty.prototype.getExpressionValue=function(e,t){var i=this.calculateExpression(t);if(e.t!==i){var r={};return this.copyData(r,e),r.t=i.toString(),r.__complete=!1,r}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}();var ShapePathInterface=function(e,t,i){var r=t.sh;function n(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?n.path:null}var s=propertyGroupFactory(n,i);return r.setGroupProperty(PropertyInterface("Path",s)),Object.defineProperties(n,{path:{get:function(){return r.k&&r.getValue(),r}},shape:{get:function(){return r.k&&r.getValue(),r}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:i}}),n},propertyGroupFactory=function(e,t){return function(i){return(i=void 0===i?1:i)<=0?e:t(i-1)}},PropertyInterface=function(e,t){var i={_name:e};return function(e){return(e=void 0===e?1:e)<=0?i:t(e-1)}},ShapeExpressionInterface=function(){function e(e,s,c){var d,p=[],f=e?e.length:0;for(d=0;d<f;d+=1)"gr"===e[d].ty?p.push(t(e[d],s[d],c)):"fl"===e[d].ty?p.push(i(e[d],s[d],c)):"st"===e[d].ty?p.push(r(e[d],s[d],c)):"tm"===e[d].ty?p.push(n(e[d],s[d],c)):"tr"===e[d].ty||("el"===e[d].ty?p.push(a(e[d],s[d],c)):"sr"===e[d].ty?p.push(o(e[d],s[d],c)):"sh"===e[d].ty?p.push(ShapePathInterface(e[d],s[d],c)):"rc"===e[d].ty?p.push(l(e[d],s[d],c)):"rd"===e[d].ty?p.push(h(e[d],s[d],c)):"rp"===e[d].ty&&p.push(u(e[d],s[d],c)));return p}function t(t,i,r){var n=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return n.content;default:return n.transform}};n.propertyGroup=propertyGroupFactory(n,r);var a=function(t,i,r){var n,a=function(e){for(var t=0,i=n.length;t<i;){if(n[t]._name===e||n[t].mn===e||n[t].propertyIndex===e||n[t].ix===e||n[t].ind===e)return n[t];t+=1}return"number"==typeof e?n[e-1]:null};a.propertyGroup=propertyGroupFactory(a,r),n=e(t.it,i.it,a.propertyGroup),a.numProperties=n.length;var o=s(t.it[t.it.length-1],i.it[i.it.length-1],a.propertyGroup);return a.transform=o,a.propertyIndex=t.cix,a._name=t.nm,a}(t,i,n.propertyGroup),o=s(t.it[t.it.length-1],i.it[i.it.length-1],n.propertyGroup);return n.content=a,n.transform=o,Object.defineProperty(n,"_name",{get:function(){return t.nm}}),n.numProperties=t.np,n.propertyIndex=t.ix,n.nm=t.nm,n.mn=t.mn,n}function i(e,t,i){function r(e){return"Color"===e||"color"===e?r.color:"Opacity"===e||"opacity"===e?r.opacity:null}return Object.defineProperties(r,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",i)),t.o.setGroupProperty(PropertyInterface("Opacity",i)),r}function r(e,t,i){var r,n=propertyGroupFactory(h,i),s=propertyGroupFactory(l,n);function a(i){Object.defineProperty(l,e.d[i].nm,{get:ExpressionPropertyInterface(t.d.dataProps[i].p)})}var o=e.d?e.d.length:0,l={};for(r=0;r<o;r+=1)a(r),t.d.dataProps[r].p.setGroupProperty(s);function h(e){return"Color"===e||"color"===e?h.color:"Opacity"===e||"opacity"===e?h.opacity:"Stroke Width"===e||"stroke width"===e?h.strokeWidth:null}return Object.defineProperties(h,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",n)),t.o.setGroupProperty(PropertyInterface("Opacity",n)),t.w.setGroupProperty(PropertyInterface("Stroke Width",n)),h}function n(e,t,i){function r(t){return t===e.e.ix||"End"===t||"end"===t?r.end:t===e.s.ix?r.start:t===e.o.ix?r.offset:null}var n=propertyGroupFactory(r,i);return r.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",n)),t.e.setGroupProperty(PropertyInterface("End",n)),t.o.setGroupProperty(PropertyInterface("Offset",n)),r.propertyIndex=e.ix,r.propertyGroup=i,Object.defineProperties(r,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),r.mn=e.mn,r}function s(e,t,i){function r(t){return e.a.ix===t||"Anchor Point"===t?r.anchorPoint:e.o.ix===t||"Opacity"===t?r.opacity:e.p.ix===t||"Position"===t?r.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?r.rotation:e.s.ix===t||"Scale"===t?r.scale:e.sk&&e.sk.ix===t||"Skew"===t?r.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?r.skewAxis:null}var n=propertyGroupFactory(r,i);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",n)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",n)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",n)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",n)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",n)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",n)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",n))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",n)),Object.defineProperties(r,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),r.ty="tr",r.mn=e.mn,r.propertyGroup=i,r}function a(e,t,i){function r(t){return e.p.ix===t?r.position:e.s.ix===t?r.size:null}var n=propertyGroupFactory(r,i);r.propertyIndex=e.ix;var s="tm"===t.sh.ty?t.sh.prop:t.sh;return s.s.setGroupProperty(PropertyInterface("Size",n)),s.p.setGroupProperty(PropertyInterface("Position",n)),Object.defineProperties(r,{size:{get:ExpressionPropertyInterface(s.s)},position:{get:ExpressionPropertyInterface(s.p)},_name:{value:e.nm}}),r.mn=e.mn,r}function o(e,t,i){function r(t){return e.p.ix===t?r.position:e.r.ix===t?r.rotation:e.pt.ix===t?r.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?r.outerRadius:e.os.ix===t?r.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?r.innerRoundness:null:r.innerRadius}var n=propertyGroupFactory(r,i),s="tm"===t.sh.ty?t.sh.prop:t.sh;return r.propertyIndex=e.ix,s.or.setGroupProperty(PropertyInterface("Outer Radius",n)),s.os.setGroupProperty(PropertyInterface("Outer Roundness",n)),s.pt.setGroupProperty(PropertyInterface("Points",n)),s.p.setGroupProperty(PropertyInterface("Position",n)),s.r.setGroupProperty(PropertyInterface("Rotation",n)),e.ir&&(s.ir.setGroupProperty(PropertyInterface("Inner Radius",n)),s.is.setGroupProperty(PropertyInterface("Inner Roundness",n))),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(s.p)},rotation:{get:ExpressionPropertyInterface(s.r)},points:{get:ExpressionPropertyInterface(s.pt)},outerRadius:{get:ExpressionPropertyInterface(s.or)},outerRoundness:{get:ExpressionPropertyInterface(s.os)},innerRadius:{get:ExpressionPropertyInterface(s.ir)},innerRoundness:{get:ExpressionPropertyInterface(s.is)},_name:{value:e.nm}}),r.mn=e.mn,r}function l(e,t,i){function r(t){return e.p.ix===t?r.position:e.r.ix===t?r.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?r.size:null}var n=propertyGroupFactory(r,i),s="tm"===t.sh.ty?t.sh.prop:t.sh;return r.propertyIndex=e.ix,s.p.setGroupProperty(PropertyInterface("Position",n)),s.s.setGroupProperty(PropertyInterface("Size",n)),s.r.setGroupProperty(PropertyInterface("Rotation",n)),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(s.p)},roundness:{get:ExpressionPropertyInterface(s.r)},size:{get:ExpressionPropertyInterface(s.s)},_name:{value:e.nm}}),r.mn=e.mn,r}function h(e,t,i){function r(t){return e.r.ix===t||"Round Corners 1"===t?r.radius:null}var n=propertyGroupFactory(r,i),s=t;return r.propertyIndex=e.ix,s.rd.setGroupProperty(PropertyInterface("Radius",n)),Object.defineProperties(r,{radius:{get:ExpressionPropertyInterface(s.rd)},_name:{value:e.nm}}),r.mn=e.mn,r}function u(e,t,i){function r(t){return e.c.ix===t||"Copies"===t?r.copies:e.o.ix===t||"Offset"===t?r.offset:null}var n=propertyGroupFactory(r,i),s=t;return r.propertyIndex=e.ix,s.c.setGroupProperty(PropertyInterface("Copies",n)),s.o.setGroupProperty(PropertyInterface("Offset",n)),Object.defineProperties(r,{copies:{get:ExpressionPropertyInterface(s.c)},offset:{get:ExpressionPropertyInterface(s.o)},_name:{value:e.nm}}),r.mn=e.mn,r}return function(t,i,r){var n;function s(e){if("number"==typeof e)return 0===(e=void 0===e?1:e)?r:n[e-1];for(var t=0,i=n.length;t<i;){if(n[t]._name===e)return n[t];t+=1}return null}return s.propertyGroup=propertyGroupFactory(s,function(){return r}),n=e(t,i,s.propertyGroup),s.numProperties=n.length,s._name="Contents",s}}(),TextExpressionInterface=function(e){var t;function i(e){switch(e){case"ADBE Text Document":return i.sourceText;default:return null}}return Object.defineProperty(i,"sourceText",{get:function(){e.textProperty.getValue();var i=e.textProperty.currentData.t;return void 0!==i&&(e.textProperty.currentData.t=void 0,(t=new String(i)).value=i||new String(i)),t}}),i},LayerExpressionInterface=function(){function e(e){var t=new Matrix;void 0!==e?this._elem.finalTransform.mProp.getValueAtTime(e).clone(t):this._elem.finalTransform.mProp.applyToMatrix(t);return t}function t(e,t){var i=this.getMatrix(t);return i.props[12]=0,i.props[13]=0,i.props[14]=0,this.applyPoint(i,e)}function i(e,t){var i=this.getMatrix(t);return this.applyPoint(i,e)}function r(e,t){var i=this.getMatrix(t);return i.props[12]=0,i.props[13]=0,i.props[14]=0,this.invertPoint(i,e)}function n(e,t){var i=this.getMatrix(t);return this.invertPoint(i,e)}function s(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i,r=this._elem.hierarchy.length;for(i=0;i<r;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(e)}return e.applyToPointArray(t[0],t[1],t[2]||0)}function a(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var i,r=this._elem.hierarchy.length;for(i=0;i<r;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(e)}return e.inversePoint(t)}function o(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var i,r=this._elem.hierarchy.length;for(i=0;i<r;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function l(){return[1,1,1,1]}return function(h){var u;function c(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return c.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return u;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return c.effect;case"ADBE Text Properties":return c.textInterface;default:return null}}c.getMatrix=e,c.invertPoint=a,c.applyPoint=s,c.toWorld=i,c.toWorldVec=t,c.fromWorld=n,c.fromWorldVec=r,c.toComp=i,c.fromComp=o,c.sampleImage=l,c.sourceRectAtTime=h.sourceRectAtTime.bind(h),c._elem=h;var d=getDescriptor(u=TransformExpressionInterface(h.finalTransform.mProp),"anchorPoint");return Object.defineProperties(c,{hasParent:{get:function(){return h.hierarchy.length}},parent:{get:function(){return h.hierarchy[0].layerInterface}},rotation:getDescriptor(u,"rotation"),scale:getDescriptor(u,"scale"),position:getDescriptor(u,"position"),opacity:getDescriptor(u,"opacity"),anchorPoint:d,anchor_point:d,transform:{get:function(){return u}},active:{get:function(){return h.isInRange}}}),c.startTime=h.data.st,c.index=h.data.ind,c.source=h.data.refId,c.height=0===h.data.ty?h.data.h:100,c.width=0===h.data.ty?h.data.w:100,c.inPoint=h.data.ip/h.comp.globalData.frameRate,c.outPoint=h.data.op/h.comp.globalData.frameRate,c._name=h.data.nm,c.registerMaskInterface=function(e){c.mask=new MaskManagerInterface(e,h)},c.registerEffectsInterface=function(e){c.effect=e},c}}(),FootageInterface=(dataInterfaceFactory=function(e){function t(e){return"Outline"===e?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(e){var t="",i=e.getFootageData();function r(e){if(i[e])return t=e,"object"==typeof(i=i[e])?r:i;var n=e.indexOf(t);if(-1!==n){var s=parseInt(e.substr(n+t.length),10);return"object"==typeof(i=i[s])?r:i}return""}return function(){return t="",i=e.getFootageData(),r}}(e),t},function(e){function t(e){return"Data"===e?t.dataInterface:null}return t._name="Data",t.dataInterface=dataInterfaceFactory(e),t}),dataInterfaceFactory,CompExpressionInterface=function(e){function t(t){for(var i=0,r=e.layers.length;i<r;){if(e.layers[i].nm===t||e.layers[i].ind===t)return e.elements[i].layerInterface;i+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t},TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var i,r,n,s;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?s=ExpressionPropertyInterface(e.p):(i=ExpressionPropertyInterface(e.px),r=ExpressionPropertyInterface(e.py),e.pz&&(n=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?s():[i(),r(),n?n():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,i=this.compositions.length;t<i;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),EffectsExpressionInterface=function(){function e(i,r,n,s){function a(e){for(var t=i.ef,r=0,n=t.length;r<n;){if(e===t[r].nm||e===t[r].mn||e===t[r].ix)return 5===t[r].ty?h[r]:h[r]();r+=1}throw new Error}var o,l=propertyGroupFactory(a,n),h=[],u=i.ef.length;for(o=0;o<u;o+=1)5===i.ef[o].ty?h.push(e(i.ef[o],r.effectElements[o],r.effectElements[o].propertyGroup,s)):h.push(t(r.effectElements[o],i.ef[o].ty,s,l));return"ADBE Color Control"===i.mn&&Object.defineProperty(a,"color",{get:function(){return h[0]()}}),Object.defineProperties(a,{numProperties:{get:function(){return i.np}},_name:{value:i.nm},propertyGroup:{value:l}}),a.enabled=0!==i.en,a.active=a.enabled,a}function t(e,t,i,r){var n=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(PropertyInterface("",r)),function(){return 10===t?i.comp.compInterface(e.p.v):n()}}return{createEffectsInterface:function(t,i){if(t.effectsManager){var r,n=[],s=t.data.ef,a=t.effectsManager.effectElements.length;for(r=0;r<a;r+=1)n.push(e(s[r],t.effectsManager.effectElements[r],i,t));var o=t.data.ef||[],l=function(e){for(r=0,a=o.length;r<a;){if(e===o[r].nm||e===o[r].mn||e===o[r].ix)return n[r];r+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return o.length}}),l}return null}}}(),MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}});return function(t){var i,r=createSizedArray(t.viewData.length),n=t.viewData.length;for(i=0;i<n;i+=1)r[i]=new e(t.viewData[i],t.masksProperties[i]);return function(e){for(i=0;i<n;){if(t.masksProperties[i].nm===e)return r[i];i+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function i(e,t,i){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(r){if(!e.numKeys)return 0;var n="";n="s"in t.keyframes[r-1]?t.keyframes[r-1].s:"e"in t.keyframes[r-2]?t.keyframes[r-2].e:t.keyframes[r-2].s;var s="unidimensional"===i?new Number(n):Object.assign({},n);return s.time=t.keyframes[r-1].t/t.elem.comp.globalData.frameRate,s.value="unidimensional"===i?n[0]:n,s},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function r(){return e}return function(n){return n?"unidimensional"===n.propType?function(t){t&&"pv"in t||(t=e);var r=1/t.mult,n=t.pv*r,s=new Number(n);return s.value=n,i(s,t,"unidimensional"),function(){return t.k&&t.getValue(),n=t.v*r,s.value!==n&&((s=new Number(n)).value=n,i(s,t,"unidimensional")),s}}(n):function(e){e&&"pv"in e||(e=t);var r=1/e.mult,n=e.data&&e.data.l||e.pv.length,s=createTypedArray("float32",n),a=createTypedArray("float32",n);return s.value=a,i(s,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<n;t+=1)a[t]=e.v[t]*r,s[t]=a[t];return s}}(n):r}}();function SliderEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function AngleEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function ColorEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,1,0,i)}function PointEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,1,0,i)}function LayerIndexEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function MaskIndexEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function CheckboxEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var i,r=e.ef||[];this.effectElements=[];var n,s=r.length;for(i=0;i<s;i+=1)n=new GroupEffect(r[i],t),this.effectElements.push(n)}function GroupEffect(e,t){this.init(e,t)}!function(){!function(){function e(e,t){return this.textIndex=e+1,this.textTotal=t,this.v=this.getValue()*this.mult,this.v}}();var e=TextSelectorProp.getTextSelectorProp;TextSelectorProp.getTextSelectorProp=function(t,i,r){return 1===i.t?new TextExpressionSelectorPropFactory(t,i,r):e(t,i,r)}}(),extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var i;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var r,n=this.data.ef.length,s=this.data.ef;for(i=0;i<n;i+=1){switch(r=null,s[i].ty){case 0:r=new SliderEffect(s[i],t,this);break;case 1:r=new AngleEffect(s[i],t,this);break;case 2:r=new ColorEffect(s[i],t,this);break;case 3:r=new PointEffect(s[i],t,this);break;case 4:case 7:r=new CheckboxEffect(s[i],t,this);break;case 10:r=new LayerIndexEffect(s[i],t,this);break;case 11:r=new MaskIndexEffect(s[i],t,this);break;case 5:r=new EffectsManager(s[i],t,this);break;default:r=new NoValueEffect(s[i],t,this)}r&&this.effectElements.push(r)}};var lottie={};function setLocationHref(e){locationHref=e}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){subframeEnabled=e}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(e)&&e>1&&(defaultCurveSegments=e);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&(expressionsPlugin=t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),i=0;i<t.length;i+=1){var r=t[i].split("=");if(decodeURIComponent(r[0])==e)return decodeURIComponent(r[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.__getFactory=getFactory,lottie.version="5.7.8";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="",queryString;if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return factory(root)}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},ujcs:function(e,t){t.read=function(e,t,i,r,n){var s,a,o=8*n-r-1,l=(1<<o)-1,h=l>>1,u=-7,c=i?n-1:0,d=i?-1:1,p=e[t+c];for(c+=d,s=p&(1<<-u)-1,p>>=-u,u+=o;u>0;s=256*s+e[t+c],c+=d,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=r;u>0;a=256*a+e[t+c],c+=d,u-=8);if(0===s)s=1-h;else{if(s===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),s-=h}return(p?-1:1)*a*Math.pow(2,s-r)},t.write=function(e,t,i,r,n,s){var a,o,l,h=8*s-n-1,u=(1<<h)-1,c=u>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+c>=1?d/l:d*Math.pow(2,1-c))*l>=2&&(a++,l/=2),a+c>=u?(o=0,a=u):a+c>=1?(o=(t*l-1)*Math.pow(2,n),a+=c):(o=t*Math.pow(2,c-1)*Math.pow(2,n),a=0));n>=8;e[i+p]=255&o,p+=f,o/=256,n-=8);for(a=a<<n|o,h+=n;h>0;e[i+p]=255&a,p+=f,a/=256,h-=8);e[i+p-f]|=128*m}},"us/S":function(e,t,i){e.exports={default:i("Xd32"),__esModule:!0}},"vFc/":function(e,t,i){var r=i("TcQ7"),n=i("QRG4"),s=i("fkB2");e.exports=function(e){return function(t,i,a){var o,l=r(t),h=n(l.length),u=s(a,h);if(e&&i!=i){for(;h>u;)if((o=l[u++])!=o)return!0}else for(;h>u;u++)if((e||u in l)&&l[u]===i)return e||u||0;return!e&&-1}}},"vIB/":function(e,t,i){"use strict";var r=i("O4g8"),n=i("kM2E"),s=i("880/"),a=i("hJx8"),o=i("/bQp"),l=i("94VQ"),h=i("e6n0"),u=i("PzxK"),c=i("dSzd")("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,i,f,m,g,v){l(i,t,f);var y,_,b,T=function(e){if(!d&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},S=t+" Iterator",E="values"==m,w=!1,C=e.prototype,x=C[c]||C["@@iterator"]||m&&C[m],k=x||T(m),A=m?E?T("entries"):k:void 0,P="Array"==t&&C.entries||x;if(P&&(b=u(P.call(new e)))!==Object.prototype&&b.next&&(h(b,S,!0),r||"function"==typeof b[c]||a(b,c,p)),E&&x&&"values"!==x.name&&(w=!0,k=function(){return x.call(this)}),r&&!v||!d&&!w&&C[c]||a(C,c,k),o[t]=k,o[S]=p,m)if(y={values:E?k:T("values"),keys:g?k:T("keys"),entries:A},v)for(_ in y)_ in C||s(C,_,y[_]);else n(n.P+n.F*(d||w),t,y);return y}},vzCy:function(e,t,i){"use strict";var r,n="object"==typeof Reflect?Reflect:null,s=n&&"function"==typeof n.apply?n.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};r=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function h(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,i,r){var n,s,a,o;if(h(i),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),s=e._events),a=s[t]),void 0===a)a=s[t]=i,++e._eventsCount;else if("function"==typeof a?a=s[t]=r?[i,a]:[a,i]:r?a.unshift(i):a.push(i),(n=u(e))>0&&a.length>n&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,o=l,console&&console.warn&&console.warn(o)}return e}function d(e,t,i){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},n=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(r);return n.listener=i,r.wrapFn=n,n}function p(e,t,i){var r=e._events;if(void 0===r)return[];var n=r[t];return void 0===n?[]:"function"==typeof n?i?[n.listener||n]:[n]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(n):m(n,n.length)}function f(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(e,t){for(var i=new Array(t),r=0;r<t;++r)i[r]=e[r];return i}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=n[e];if(void 0===l)return!1;if("function"==typeof l)s(l,this,t);else{var h=l.length,u=m(l,h);for(i=0;i<h;++i)s(u[i],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return h(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return h(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var i,r,n,s,a;if(h(t),void 0===(r=this._events))return this;if(void 0===(i=r[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(n=-1,s=i.length-1;s>=0;s--)if(i[s]===t||i[s].listener===t){a=i[s].listener,n=s;break}if(n<0)return this;0===n?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,n),1===i.length&&(r[e]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,i,r;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var n,s=Object.keys(i);for(r=0;r<s.length;++r)"removeListener"!==(n=s[r])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},xGkn:function(e,t,i){"use strict";var r=i("4mcu"),n=i("EGZi"),s=i("/bQp"),a=i("TcQ7");e.exports=i("vIB/")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,n(1)):n(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},"xH/j":function(e,t,i){var r=i("hJx8");e.exports=function(e,t,i){for(var n in t)i&&e[n]?e[n]=t[n]:r(e,n,t[n]);return e}},xLtR:function(e,t,i){"use strict";var r=i("cGG2"),n=i("TNV1"),s=i("pBtG"),a=i("KCLY");function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=n(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return o(e),t.data=n(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(o(e),t&&t.response&&(t.response.data=n(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},xnc9:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},yXhj:function(e,t){function i(e,t){for(var i in e)t[i]=e[i]}function r(e,t){var r=e.prototype;if(Object.create){var n=Object.create(t.prototype);r.__proto__=n}if(!(r instanceof t)){function s(){}s.prototype=t.prototype,i(r,s=new s),e.prototype=r=s}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var n="http://www.w3.org/1999/xhtml",s={},a=s.ELEMENT_NODE=1,o=s.ATTRIBUTE_NODE=2,l=s.TEXT_NODE=3,h=s.CDATA_SECTION_NODE=4,u=s.ENTITY_REFERENCE_NODE=5,c=s.ENTITY_NODE=6,d=s.PROCESSING_INSTRUCTION_NODE=7,p=s.COMMENT_NODE=8,f=s.DOCUMENT_NODE=9,m=s.DOCUMENT_TYPE_NODE=10,g=s.DOCUMENT_FRAGMENT_NODE=11,v=s.NOTATION_NODE=12,y={},_={},b=(y.INDEX_SIZE_ERR=(_[1]="Index size error",1),y.DOMSTRING_SIZE_ERR=(_[2]="DOMString size error",2),y.HIERARCHY_REQUEST_ERR=(_[3]="Hierarchy request error",3)),T=(y.WRONG_DOCUMENT_ERR=(_[4]="Wrong document",4),y.INVALID_CHARACTER_ERR=(_[5]="Invalid character",5),y.NO_DATA_ALLOWED_ERR=(_[6]="No data allowed",6),y.NO_MODIFICATION_ALLOWED_ERR=(_[7]="No modification allowed",7),y.NOT_FOUND_ERR=(_[8]="Not found",8)),S=(y.NOT_SUPPORTED_ERR=(_[9]="Not supported",9),y.INUSE_ATTRIBUTE_ERR=(_[10]="Attribute in use",10));y.INVALID_STATE_ERR=(_[11]="Invalid state",11),y.SYNTAX_ERR=(_[12]="Syntax error",12),y.INVALID_MODIFICATION_ERR=(_[13]="Invalid modification",13),y.NAMESPACE_ERR=(_[14]="Invalid namespace",14),y.INVALID_ACCESS_ERR=(_[15]="Invalid access",15);function E(e,t){if(t instanceof Error)var i=t;else i=this,Error.call(this,_[e]),this.message=_[e],Error.captureStackTrace&&Error.captureStackTrace(this,E);return i.code=e,t&&(this.message=this.message+": "+t),i}function w(){}function C(e,t){this._node=e,this._refresh=t,x(this)}function x(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);ie(e,"length",r.length),i(r,e),e._inc=t}}function k(){}function A(e,t){for(var i=e.length;i--;)if(e[i]===t)return i}function P(e,t,i,r){if(r?t[A(t,r)]=i:t[t.length++]=i,e){i.ownerElement=e;var n=e.ownerDocument;n&&(r&&F(n,e,r),function(e,t,i){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==i.namespaceURI&&(t._nsMap[i.prefix?i.localName:""]=i.value)}(n,e,i))}}function I(e,t,i){var r=A(t,i);if(!(r>=0))throw E(T,new Error(e.tagName+"@"+i));for(var n=t.length-1;r<n;)t[r]=t[++r];if(t.length=n,e){var s=e.ownerDocument;s&&(F(s,e,i),i.ownerElement=null)}}function D(e){if(this._features={},e)for(var t in e)this._features=e[t]}function M(){}function L(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function O(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(O(e,t))return!0}while(e=e.nextSibling)}function R(){}function F(e,t,i,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==i.namespaceURI&&delete t._nsMap[i.prefix?i.localName:""]}function B(e,t,i){if(e&&e._inc){e._inc++;var r=t.childNodes;if(i)r[r.length++]=i;else{for(var n=t.firstChild,s=0;n;)r[s++]=n,n=n.nextSibling;r.length=s}}}function N(e,t){var i=t.previousSibling,r=t.nextSibling;return i?i.nextSibling=r:e.firstChild=r,r?r.previousSibling=i:e.lastChild=i,B(e.ownerDocument,e),t}function U(e,t,i){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===g){var n=t.firstChild;if(null==n)return t;var s=t.lastChild}else n=s=t;var a=i?i.previousSibling:e.lastChild;n.previousSibling=a,s.nextSibling=i,a?a.nextSibling=n:e.firstChild=n,null==i?e.lastChild=s:i.previousSibling=s;do{n.parentNode=e}while(n!==s&&(n=n.nextSibling));return B(e.ownerDocument||e,e),t.nodeType==g&&(t.firstChild=t.lastChild=null),t}function j(){this._nsMap={}}function V(){}function z(){}function G(){}function H(){}function $(){}function q(){}function W(){}function X(){}function Y(){}function K(){}function Q(){}function J(){}function Z(e,t){var i=[],r=9==this.nodeType?this.documentElement:this,n=r.prefix,s=r.namespaceURI;if(s&&null==n&&null==(n=r.lookupPrefix(s)))var a=[{namespace:s,prefix:null}];return te(this,i,e,t,a),i.join("")}function ee(e,t,i){var r=e.prefix||"",n=e.namespaceURI;if(!r&&!n)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===n||"http://www.w3.org/2000/xmlns/"==n)return!1;for(var s=i.length;s--;){var a=i[s];if(a.prefix==r)return a.namespace!=n}return!0}function te(e,t,i,r,s){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case a:s||(s=[]);s.length;var c=e.attributes,v=c.length,y=e.firstChild,_=e.tagName;i=n===e.namespaceURI||i,t.push("<",_);for(var b=0;b<v;b++){"xmlns"==(T=c.item(b)).prefix?s.push({prefix:T.localName,namespace:T.value}):"xmlns"==T.nodeName&&s.push({prefix:"",namespace:T.value})}for(b=0;b<v;b++){var T;if(ee(T=c.item(b),0,s)){var S=T.prefix||"",E=T.namespaceURI,w=S?" xmlns:"+S:" xmlns";t.push(w,'="',E,'"'),s.push({prefix:S,namespace:E})}te(T,t,i,r,s)}if(ee(e,0,s)){S=e.prefix||"",E=e.namespaceURI,w=S?" xmlns:"+S:" xmlns";t.push(w,'="',E,'"'),s.push({prefix:S,namespace:E})}if(y||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(_)){if(t.push(">"),i&&/^script$/i.test(_))for(;y;)y.data?t.push(y.data):te(y,t,i,r,s),y=y.nextSibling;else for(;y;)te(y,t,i,r,s),y=y.nextSibling;t.push("</",_,">")}else t.push("/>");return;case f:case g:for(y=e.firstChild;y;)te(y,t,i,r,s),y=y.nextSibling;return;case o:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,L),'"');case l:return t.push(e.data.replace(/[<&]/g,L));case h:return t.push("<![CDATA[",e.data,"]]>");case p:return t.push("\x3c!--",e.data,"--\x3e");case m:var C=e.publicId,x=e.systemId;if(t.push("<!DOCTYPE ",e.name),C)t.push(' PUBLIC "',C),x&&"."!=x&&t.push('" "',x),t.push('">');else if(x&&"."!=x)t.push(' SYSTEM "',x,'">');else{var k=e.internalSubset;k&&t.push(" [",k,"]"),t.push(">")}return;case d:return t.push("<?",e.target," ",e.data,"?>");case u:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ie(e,t,i){e[t]=i}E.prototype=Error.prototype,i(y,E),w.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var i=[],r=0;r<this.length;r++)te(this[r],i,e,t);return i.join("")}},C.prototype.item=function(e){return x(this),this[e]},r(C,w),k.prototype={length:0,item:w.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var i=this[t];if(i.nodeName==e)return i}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new E(S);var i=this.getNamedItem(e.nodeName);return P(this._ownerElement,this,e,i),i},setNamedItemNS:function(e){var t,i=e.ownerElement;if(i&&i!=this._ownerElement)throw new E(S);return t=this.getNamedItemNS(e.namespaceURI,e.localName),P(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return I(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var i=this.getNamedItemNS(e,t);return I(this._ownerElement,this,i),i},getNamedItemNS:function(e,t){for(var i=this.length;i--;){var r=this[i];if(r.localName==t&&r.namespaceURI==e)return r}return null}},D.prototype={hasFeature:function(e,t){var i=this._features[e.toLowerCase()];return!(!i||t&&!(t in i))},createDocument:function(e,t,i){var r=new R;if(r.implementation=this,r.childNodes=new w,r.doctype=i,i&&r.appendChild(i),t){var n=r.createElementNS(e,t);r.appendChild(n)}return r},createDocumentType:function(e,t,i){var r=new q;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=i,r}},M.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return U(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return N(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,i,r){var n=new i.constructor;for(var s in i){var l=i[s];"object"!=typeof l&&l!=n[s]&&(n[s]=l)}i.childNodes&&(n.childNodes=new w);n.ownerDocument=t;switch(n.nodeType){case a:var h=i.attributes,u=n.attributes=new k,c=h.length;u._ownerElement=n;for(var d=0;d<c;d++)n.setAttributeNode(e(t,h.item(d),!0));break;case o:r=!0}if(r)for(var p=i.firstChild;p;)n.appendChild(e(t,p,r)),p=p.nextSibling;return n}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==l&&e.nodeType==l?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var i=t._nsMap;if(i)for(var r in i)if(i[r]==e)return r;t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var i=t._nsMap;if(i&&e in i)return i[e];t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},i(s,M),i(s,M.prototype),R.prototype={nodeName:"#document",nodeType:f,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==g){for(var i=e.firstChild;i;){var r=i.nextSibling;this.insertBefore(i,t),i=r}return e}return null==this.documentElement&&e.nodeType==a&&(this.documentElement=e),U(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),N(this,e)},importNode:function(e,t){return function e(t,i,r){var n;switch(i.nodeType){case a:(n=i.cloneNode(!1)).ownerDocument=t;case g:break;case o:r=!0}n||(n=i.cloneNode(!1));n.ownerDocument=t;n.parentNode=null;if(r)for(var s=i.firstChild;s;)n.appendChild(e(t,s,r)),s=s.nextSibling;return n}(this,e,t)},getElementById:function(e){var t=null;return O(this.documentElement,function(i){if(i.nodeType==a&&i.getAttribute("id")==e)return t=i,!0}),t},createElement:function(e){var t=new j;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new w,(t.attributes=new k)._ownerElement=t,t},createDocumentFragment:function(){var e=new K;return e.ownerDocument=this,e.childNodes=new w,e},createTextNode:function(e){var t=new G;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new $;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var i=new Q;return i.ownerDocument=this,i.tagName=i.target=e,i.nodeValue=i.data=t,i},createAttribute:function(e){var t=new V;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Y;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var i=new j,r=t.split(":"),n=i.attributes=new k;return i.childNodes=new w,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=e,2==r.length?(i.prefix=r[0],i.localName=r[1]):i.localName=t,n._ownerElement=i,i},createAttributeNS:function(e,t){var i=new V,r=t.split(":");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=e,i.specified=!0,2==r.length?(i.prefix=r[0],i.localName=r[1]):i.localName=t,i}},r(R,M),j.prototype={nodeType:a,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var i=this.ownerDocument.createAttribute(e);i.value=i.nodeValue=""+t,this.setAttributeNode(i)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===g?this.insertBefore(e,null):function(e,t){var i=t.parentNode;if(i){var r=e.lastChild;i.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,B(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);i&&this.removeAttributeNode(i)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);return i&&i.value||""},setAttributeNS:function(e,t,i){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+i,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new C(this,function(t){var i=[];return O(t,function(r){r===t||r.nodeType!=a||"*"!==e&&r.tagName!=e||i.push(r)}),i})},getElementsByTagNameNS:function(e,t){return new C(this,function(i){var r=[];return O(i,function(n){n===i||n.nodeType!==a||"*"!==e&&n.namespaceURI!==e||"*"!==t&&n.localName!=t||r.push(n)}),r})}},R.prototype.getElementsByTagName=j.prototype.getElementsByTagName,R.prototype.getElementsByTagNameNS=j.prototype.getElementsByTagNameNS,r(j,M),V.prototype.nodeType=o,r(V,M),z.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(_[b])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,i){i=this.data.substring(0,e)+i+this.data.substring(e+t),this.nodeValue=this.data=i,this.length=i.length}},r(z,M),G.prototype={nodeName:"#text",nodeType:l,splitText:function(e){var t=this.data,i=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(G,z),H.prototype={nodeName:"#comment",nodeType:p},r(H,z),$.prototype={nodeName:"#cdata-section",nodeType:h},r($,z),q.prototype.nodeType=m,r(q,M),W.prototype.nodeType=v,r(W,M),X.prototype.nodeType=c,r(X,M),Y.prototype.nodeType=u,r(Y,M),K.prototype.nodeName="#document-fragment",K.prototype.nodeType=g,r(K,M),Q.prototype.nodeType=d,r(Q,M),J.prototype.serializeToString=function(e,t,i){return Z.call(e,t,i)},M.prototype.toString=Z;try{if(Object.defineProperty){Object.defineProperty(C.prototype,"length",{get:function(){return x(this),this.$$length}}),Object.defineProperty(M.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case a:case g:var i=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&i.push(e(t)),t=t.nextSibling;return i.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case a:case g:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ie=function(e,t,i){e["$$"+t]=i}}}catch(e){}t.DOMImplementation=D,t.XMLSerializer=J},yevv:function(e,t,i){"use strict";var r=i("nIbA"),n=function(e,t){var i=1;for(e>t&&(i=-1);Math.abs(t-e)>4294967296;)e+=8589934592*i;return e},s=function(e){var t,i;s.prototype.init.call(this),this.type_=e||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===i&&(i=e.dts),e.dts=n(e.dts,i),e.pts=n(e.pts,i),t=e.dts,this.trigger("data",e))},this.flush=function(){i=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};s.prototype=new r,e.exports={TimestampRolloverStream:s,handleRollover:n}},"zL+9":function(e,t){e.exports=function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:i.getUint32(4)},n=1&r.flags[2],s=2&r.flags[2],a=8&r.flags[2],o=16&r.flags[2],l=32&r.flags[2],h=65536&r.flags[0],u=131072&r.flags[0];return t=8,n&&(t+=4,r.baseDataOffset=i.getUint32(12),t+=4),s&&(r.sampleDescriptionIndex=i.getUint32(t),t+=4),a&&(r.defaultSampleDuration=i.getUint32(t),t+=4),o&&(r.defaultSampleSize=i.getUint32(t),t+=4),l&&(r.defaultSampleFlags=i.getUint32(t)),h&&(r.durationIsEmpty=!0),!n&&u&&(r.baseDataOffsetIsMoof=!0),r}},zQR9:function(e,t,i){"use strict";var r=i("h65t")(!0);i("vIB/")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=r(t,i),this._i+=e.length,{value:e,done:!1})})}});
//# sourceMappingURL=vendor.d456cb1c8e608629666d.js.map